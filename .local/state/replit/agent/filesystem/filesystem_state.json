{"file_contents":{"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"replit.md":{"content":"# Wanderlust - Travel Planner\n\n## Overview\n\nWanderlust is a comprehensive travel planning web application that allows users to discover destinations, plan trips, create detailed itineraries, and manage their travel memories through photo galleries. The application combines a React-based frontend with an Express.js backend, utilizing Firebase for authentication and storage, and PostgreSQL for data persistence.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend Architecture\nThe client-side application is built using React with TypeScript and follows a modern component-based architecture:\n\n- **UI Framework**: React with TypeScript for type safety and better developer experience\n- **Styling**: Tailwind CSS with shadcn/ui component library for consistent design system\n- **Routing**: Wouter for lightweight client-side routing\n- **State Management**: TanStack Query (React Query) for server state management and caching\n- **Form Handling**: React Hook Form with Zod for validation\n- **Build Tool**: Vite for fast development and optimized production builds\n\nThe application uses a monorepo structure with shared TypeScript schemas between client and server, ensuring type consistency across the full stack.\n\n### Backend Architecture\nThe server is built with Express.js and follows RESTful API principles:\n\n- **Runtime**: Node.js with TypeScript using ES modules\n- **API Framework**: Express.js with structured route handlers\n- **Database ORM**: Drizzle ORM for type-safe database operations\n- **Schema Validation**: Zod schemas shared between client and server\n- **Session Management**: Express sessions with PostgreSQL session store\n\nThe backend implements a storage abstraction layer that supports both in-memory storage (for development) and PostgreSQL (for production), allowing for flexible deployment options.\n\n### Database Design\nThe application uses PostgreSQL as the primary database with the following core entities:\n\n- **Users**: Stores user profile information linked to Firebase authentication\n- **Destinations**: Catalog of travel destinations with metadata\n- **Trips**: User-created trip plans with dates and destination associations\n- **Itineraries**: Detailed day-by-day activity plans for trips\n- **Photos**: User-uploaded images associated with trips or general travel\n- **Notifications**: System-generated alerts and reminders for users\n\nThe database schema is managed through Drizzle migrations, ensuring version-controlled schema evolution.\n\n### Authentication & Authorization\nAuthentication is handled through Firebase Authentication supporting multiple providers:\n\n- **Email/Password**: Traditional username/password authentication\n- **Social Login**: Google and Facebook OAuth integration\n- **Session Management**: Server-side sessions for API security\n- **Protected Routes**: Client-side route protection based on authentication state\n\nUser sessions are persisted using PostgreSQL session storage, providing scalable session management across server instances.\n\n### File Storage Strategy\nThe application implements a hybrid storage approach:\n\n- **User Photos**: Firebase Storage for scalable file hosting with CDN benefits\n- **Destination Images**: Static assets served through the application\n- **Profile Pictures**: Firebase Storage with fallback to default avatars\n\nThis approach balances performance, scalability, and cost considerations for different types of media assets.\n\n## External Dependencies\n\n### Cloud Services\n- **Firebase**: Authentication, file storage, and push notifications\n- **PostgreSQL**: Primary database (Neon serverless in production)\n\n### Development Tools\n- **Drizzle Kit**: Database schema management and migrations\n- **TypeScript**: Type safety across the entire application\n- **ESBuild**: Fast JavaScript bundling for production builds\n\n### UI/UX Libraries\n- **Radix UI**: Accessible component primitives for complex UI elements\n- **Tailwind CSS**: Utility-first CSS framework for rapid styling\n- **Lucide React**: Consistent icon library\n- **Date-fns**: Date manipulation and formatting utilities\n\n### API & Data Management\n- **TanStack Query**: Server state synchronization and caching\n- **React Hook Form**: Performant form handling with minimal re-renders\n- **Zod**: Runtime type validation and schema parsing\n\nThe application is designed for deployment on Replit with development-friendly features like hot module replacement and error overlays, while maintaining production-ready architecture patterns.","size_bytes":4537},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \"var(--radius)\",\n        md: \"calc(var(--radius) - 2px)\",\n        sm: \"calc(var(--radius) - 4px)\",\n      },\n      colors: {\n        background: \"hsl(var(--background))\",\n        foreground: \"hsl(var(--foreground))\",\n        card: {\n          DEFAULT: \"hsl(var(--card))\",\n          foreground: \"hsl(var(--card-foreground))\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover))\",\n          foreground: \"hsl(var(--popover-foreground))\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary))\",\n          foreground: \"hsl(var(--primary-foreground))\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary))\",\n          foreground: \"hsl(var(--secondary-foreground))\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted))\",\n          foreground: \"hsl(var(--muted-foreground))\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent))\",\n          foreground: \"hsl(var(--accent-foreground))\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive))\",\n          foreground: \"hsl(var(--destructive-foreground))\",\n        },\n        border: \"hsl(var(--border))\",\n        input: \"hsl(var(--input))\",\n        ring: \"hsl(var(--ring))\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1))\",\n          \"2\": \"hsl(var(--chart-2))\",\n          \"3\": \"hsl(var(--chart-3))\",\n          \"4\": \"hsl(var(--chart-4))\",\n          \"5\": \"hsl(var(--chart-5))\",\n        },\n        sidebar: {\n          DEFAULT: \"hsl(var(--sidebar-background))\",\n          foreground: \"hsl(var(--sidebar-foreground))\",\n          primary: \"hsl(var(--sidebar-primary))\",\n          \"primary-foreground\": \"hsl(var(--sidebar-primary-foreground))\",\n          accent: \"hsl(var(--sidebar-accent))\",\n          \"accent-foreground\": \"hsl(var(--sidebar-accent-foreground))\",\n          border: \"hsl(var(--sidebar-border))\",\n          ring: \"hsl(var(--sidebar-ring))\",\n        },\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: {\n            height: \"0\",\n          },\n          to: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n        },\n        \"accordion-up\": {\n          from: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n          to: {\n            height: \"0\",\n          },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":2787},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n});\n","size_bytes":894},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\n\nconst app = express();\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"â€¦\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on port 5000\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = 5000;\n  server.listen({\n    port,\n    host: \"localhost\", // Changed from 0.0.0.0 to localhost\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","size_bytes":1960},"server/routes.ts":{"content":"import type { Express, Request, Response } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\nimport { insertUserSchema, insertTripSchema, insertItinerarySchema, insertPhotoSchema, insertNotificationSchema, insertHotelSchema, insertPlaceSchema, insertReviewSchema, insertBudgetSchema, insertExpenseSchema, insertCurrencyRateSchema } from \"@shared/schema\";\nimport { z } from \"zod\";\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  const httpServer = createServer(app);\n  \n  // Users API\n  app.post(\"/api/users\", async (req: Request, res: Response) => {\n    try {\n      const userPayload = insertUserSchema.parse(req.body);\n      const existingUser = await storage.getUserByUid(userPayload.uid);\n      \n      if (existingUser) {\n        return res.status(200).json(existingUser);\n      }\n      \n      const user = await storage.createUser(userPayload);\n      res.status(201).json(user);\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ message: \"Invalid user data\", errors: error.errors });\n      }\n      res.status(500).json({ message: \"Failed to create user\" });\n    }\n  });\n  \n  app.get(\"/api/users/uid/:uid\", async (req: Request, res: Response) => {\n    try {\n      const uid = req.params.uid;\n      const user = await storage.getUserByUid(uid);\n      \n      if (!user) {\n        return res.status(404).json({ message: \"User not found\" });\n      }\n      \n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to get user\" });\n    }\n  });\n  \n  // Destinations API\n  app.get(\"/api/destinations\", async (_req: Request, res: Response) => {\n    try {\n      const destinations = await storage.getDestinations();\n      res.status(200).json(destinations);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to get destinations\" });\n    }\n  });\n  \n  app.get(\"/api/destinations/:id\", async (req: Request, res: Response) => {\n    try {\n      const id = parseInt(req.params.id);\n      const destination = await storage.getDestination(id);\n      \n      if (!destination) {\n        return res.status(404).json({ message: \"Destination not found\" });\n      }\n      \n      res.status(200).json(destination);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to get destination\" });\n    }\n  });\n  \n  // Trips API\n  app.get(\"/api/users/:userId/trips\", async (req: Request, res: Response) => {\n    try {\n      const userId = parseInt(req.params.userId);\n      const trips = await storage.getTrips(userId);\n      res.status(200).json(trips);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to get trips\" });\n    }\n  });\n  \n  app.get(\"/api/trips/:id\", async (req: Request, res: Response) => {\n    try {\n      const id = parseInt(req.params.id);\n      const trip = await storage.getTrip(id);\n      \n      if (!trip) {\n        return res.status(404).json({ message: \"Trip not found\" });\n      }\n      \n      res.status(200).json(trip);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to get trip\" });\n    }\n  });\n  \n  app.post(\"/api/trips\", async (req: Request, res: Response) => {\n    try {\n      // Convert ISO date strings to Date objects\n      const body = { ...req.body };\n      if (typeof body.startDate === 'string') {\n        body.startDate = new Date(body.startDate);\n      }\n      if (typeof body.endDate === 'string') {\n        body.endDate = new Date(body.endDate);\n      }\n      \n      const tripPayload = insertTripSchema.parse(body);\n      const trip = await storage.createTrip(tripPayload);\n      res.status(201).json(trip);\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ message: \"Invalid trip data\", errors: error.errors });\n      }\n      console.error(\"Failed to create trip:\", error);\n      res.status(500).json({ message: \"Failed to create trip\" });\n    }\n  });\n  \n  app.patch(\"/api/trips/:id\", async (req: Request, res: Response) => {\n    try {\n      const id = parseInt(req.params.id);\n      const updateData = req.body;\n      \n      const updatedTrip = await storage.updateTrip(id, updateData);\n      \n      if (!updatedTrip) {\n        return res.status(404).json({ message: \"Trip not found\" });\n      }\n      \n      res.status(200).json(updatedTrip);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to update trip\" });\n    }\n  });\n  \n  app.delete(\"/api/trips/:id\", async (req: Request, res: Response) => {\n    try {\n      const id = parseInt(req.params.id);\n      const success = await storage.deleteTrip(id);\n      \n      if (!success) {\n        return res.status(404).json({ message: \"Trip not found\" });\n      }\n      \n      res.status(204).send();\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to delete trip\" });\n    }\n  });\n  \n  // Itineraries API\n  app.get(\"/api/trips/:tripId/itineraries\", async (req: Request, res: Response) => {\n    try {\n      const tripId = parseInt(req.params.tripId);\n      const itineraries = await storage.getItineraries(tripId);\n      res.status(200).json(itineraries);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to get itineraries\" });\n    }\n  });\n  \n  app.post(\"/api/itineraries\", async (req: Request, res: Response) => {\n    try {\n      const itineraryPayload = insertItinerarySchema.parse(req.body);\n      const itinerary = await storage.createItinerary(itineraryPayload);\n      res.status(201).json(itinerary);\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ message: \"Invalid itinerary data\", errors: error.errors });\n      }\n      res.status(500).json({ message: \"Failed to create itinerary\" });\n    }\n  });\n  \n  app.patch(\"/api/itineraries/:id\", async (req: Request, res: Response) => {\n    try {\n      const id = parseInt(req.params.id);\n      const updateData = req.body;\n      \n      const updatedItinerary = await storage.updateItinerary(id, updateData);\n      \n      if (!updatedItinerary) {\n        return res.status(404).json({ message: \"Itinerary not found\" });\n      }\n      \n      res.status(200).json(updatedItinerary);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to update itinerary\" });\n    }\n  });\n  \n  app.delete(\"/api/itineraries/:id\", async (req: Request, res: Response) => {\n    try {\n      const id = parseInt(req.params.id);\n      const success = await storage.deleteItinerary(id);\n      \n      if (!success) {\n        return res.status(404).json({ message: \"Itinerary not found\" });\n      }\n      \n      res.status(204).send();\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to delete itinerary\" });\n    }\n  });\n  \n  // Photos API\n  app.get(\"/api/users/:userId/photos\", async (req: Request, res: Response) => {\n    try {\n      const userId = parseInt(req.params.userId);\n      const photos = await storage.getPhotos(userId);\n      res.status(200).json(photos);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to get photos\" });\n    }\n  });\n  \n  app.get(\"/api/trips/:tripId/photos\", async (req: Request, res: Response) => {\n    try {\n      const tripId = parseInt(req.params.tripId);\n      const photos = await storage.getTripPhotos(tripId);\n      res.status(200).json(photos);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to get trip photos\" });\n    }\n  });\n  \n  app.post(\"/api/photos\", async (req: Request, res: Response) => {\n    try {\n      const photoPayload = insertPhotoSchema.parse(req.body);\n      const photo = await storage.createPhoto(photoPayload);\n      res.status(201).json(photo);\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ message: \"Invalid photo data\", errors: error.errors });\n      }\n      res.status(500).json({ message: \"Failed to create photo\" });\n    }\n  });\n  \n  app.delete(\"/api/photos/:id\", async (req: Request, res: Response) => {\n    try {\n      const id = parseInt(req.params.id);\n      const success = await storage.deletePhoto(id);\n      \n      if (!success) {\n        return res.status(404).json({ message: \"Photo not found\" });\n      }\n      \n      res.status(204).send();\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to delete photo\" });\n    }\n  });\n  \n  // Notifications API\n  app.get(\"/api/users/:userId/notifications\", async (req: Request, res: Response) => {\n    try {\n      const userId = parseInt(req.params.userId);\n      const notifications = await storage.getNotifications(userId);\n      res.status(200).json(notifications);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to get notifications\" });\n    }\n  });\n  \n  app.post(\"/api/notifications\", async (req: Request, res: Response) => {\n    try {\n      const notificationPayload = insertNotificationSchema.parse(req.body);\n      const notification = await storage.createNotification(notificationPayload);\n      res.status(201).json(notification);\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ message: \"Invalid notification data\", errors: error.errors });\n      }\n      res.status(500).json({ message: \"Failed to create notification\" });\n    }\n  });\n  \n  app.patch(\"/api/notifications/:id/read\", async (req: Request, res: Response) => {\n    try {\n      const id = parseInt(req.params.id);\n      const success = await storage.markNotificationAsRead(id);\n      \n      if (!success) {\n        return res.status(404).json({ message: \"Notification not found\" });\n      }\n      \n      res.status(200).json({ success: true });\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to mark notification as read\" });\n    }\n  });\n  \n  // Hotels API\n  app.get(\"/api/destinations/:destinationId/hotels\", async (req: Request, res: Response) => {\n    try {\n      const destinationId = parseInt(req.params.destinationId);\n      const hotels = await storage.getHotels(destinationId);\n      res.status(200).json(hotels);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to get hotels\" });\n    }\n  });\n  \n  app.get(\"/api/hotels/:id\", async (req: Request, res: Response) => {\n    try {\n      const id = parseInt(req.params.id);\n      const hotel = await storage.getHotel(id);\n      \n      if (!hotel) {\n        return res.status(404).json({ message: \"Hotel not found\" });\n      }\n      \n      res.status(200).json(hotel);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to get hotel\" });\n    }\n  });\n  \n  app.post(\"/api/hotels\", async (req: Request, res: Response) => {\n    try {\n      const hotelPayload = insertHotelSchema.parse(req.body);\n      const hotel = await storage.createHotel(hotelPayload);\n      res.status(201).json(hotel);\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ message: \"Invalid hotel data\", errors: error.errors });\n      }\n      res.status(500).json({ message: \"Failed to create hotel\" });\n    }\n  });\n  \n  // Places API\n  app.get(\"/api/destinations/:destinationId/places\", async (req: Request, res: Response) => {\n    try {\n      const destinationId = parseInt(req.params.destinationId);\n      const places = await storage.getPlaces(destinationId);\n      res.status(200).json(places);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to get places\" });\n    }\n  });\n  \n  app.get(\"/api/places/:id\", async (req: Request, res: Response) => {\n    try {\n      const id = parseInt(req.params.id);\n      const place = await storage.getPlace(id);\n      \n      if (!place) {\n        return res.status(404).json({ message: \"Place not found\" });\n      }\n      \n      res.status(200).json(place);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to get place\" });\n    }\n  });\n  \n  app.post(\"/api/places\", async (req: Request, res: Response) => {\n    try {\n      const placePayload = insertPlaceSchema.parse(req.body);\n      const place = await storage.createPlace(placePayload);\n      res.status(201).json(place);\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ message: \"Invalid place data\", errors: error.errors });\n      }\n      res.status(500).json({ message: \"Failed to create place\" });\n    }\n  });\n  \n  // Reviews API\n  app.get(\"/api/reviews\", async (req: Request, res: Response) => {\n    try {\n      const hotelId = req.query.hotelId ? parseInt(req.query.hotelId as string) : undefined;\n      const placeId = req.query.placeId ? parseInt(req.query.placeId as string) : undefined;\n      const reviews = await storage.getReviews(hotelId, placeId);\n      res.status(200).json(reviews);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to get reviews\" });\n    }\n  });\n  \n  app.get(\"/api/reviews/:id\", async (req: Request, res: Response) => {\n    try {\n      const id = parseInt(req.params.id);\n      const review = await storage.getReview(id);\n      \n      if (!review) {\n        return res.status(404).json({ message: \"Review not found\" });\n      }\n      \n      res.status(200).json(review);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to get review\" });\n    }\n  });\n  \n  app.post(\"/api/reviews\", async (req: Request, res: Response) => {\n    try {\n      // Convert ISO date strings to Date objects\n      const body = { ...req.body };\n      if (typeof body.createdAt === 'string') {\n        body.createdAt = new Date(body.createdAt);\n      }\n      if (typeof body.updatedAt === 'string') {\n        body.updatedAt = new Date(body.updatedAt);\n      }\n      \n      const reviewPayload = insertReviewSchema.parse(body);\n      const review = await storage.createReview(reviewPayload);\n      res.status(201).json(review);\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ message: \"Invalid review data\", errors: error.errors });\n      }\n      res.status(500).json({ message: \"Failed to create review\" });\n    }\n  });\n  \n  app.patch(\"/api/reviews/:id\", async (req: Request, res: Response) => {\n    try {\n      const id = parseInt(req.params.id);\n      const updateData = req.body;\n      \n      const updatedReview = await storage.updateReview(id, updateData);\n      \n      if (!updatedReview) {\n        return res.status(404).json({ message: \"Review not found\" });\n      }\n      \n      res.status(200).json(updatedReview);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to update review\" });\n    }\n  });\n  \n  app.delete(\"/api/reviews/:id\", async (req: Request, res: Response) => {\n    try {\n      const id = parseInt(req.params.id);\n      const success = await storage.deleteReview(id);\n      \n      if (!success) {\n        return res.status(404).json({ message: \"Review not found\" });\n      }\n      \n      res.status(204).send();\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to delete review\" });\n    }\n  });\n\n  // Budget routes\n  app.get('/api/trips/:tripId/budget', async (req, res) => {\n    try {\n      const tripId = parseInt(req.params.tripId);\n      const budget = await storage.getBudgetByTrip(tripId);\n      res.json(budget);\n    } catch (error) {\n      console.error('Get budget error:', error);\n      res.status(500).json({ error: 'Internal server error' });\n    }\n  });\n  \n  app.post('/api/trips/:tripId/budget', async (req, res) => {\n    try {\n      const tripId = parseInt(req.params.tripId);\n      const budgetData = { ...req.body, tripId };\n      const result = insertBudgetSchema.safeParse(budgetData);\n      if (!result.success) {\n        return res.status(400).json({ error: result.error.issues });\n      }\n      const budget = await storage.createBudget(result.data);\n      res.status(201).json(budget);\n    } catch (error) {\n      console.error('Create budget error:', error);\n      res.status(500).json({ error: 'Internal server error' });\n    }\n  });\n  \n  app.put('/api/budgets/:id', async (req, res) => {\n    try {\n      const id = parseInt(req.params.id);\n      const budget = await storage.updateBudget(id, req.body);\n      if (!budget) {\n        return res.status(404).json({ error: 'Budget not found' });\n      }\n      res.json(budget);\n    } catch (error) {\n      console.error('Update budget error:', error);\n      res.status(500).json({ error: 'Internal server error' });\n    }\n  });\n  \n  // Expense routes\n  app.get('/api/trips/:tripId/expenses', async (req, res) => {\n    try {\n      const tripId = parseInt(req.params.tripId);\n      const expenses = await storage.getExpenses(tripId);\n      res.json(expenses);\n    } catch (error) {\n      console.error('Get expenses error:', error);\n      res.status(500).json({ error: 'Internal server error' });\n    }\n  });\n  \n  app.post('/api/expenses', async (req, res) => {\n    try {\n      const result = insertExpenseSchema.safeParse(req.body);\n      if (!result.success) {\n        return res.status(400).json({ error: result.error.issues });\n      }\n      const expense = await storage.createExpense(result.data);\n      res.status(201).json(expense);\n    } catch (error) {\n      console.error('Create expense error:', error);\n      res.status(500).json({ error: 'Internal server error' });\n    }\n  });\n  \n  app.put('/api/expenses/:id', async (req, res) => {\n    try {\n      const id = parseInt(req.params.id);\n      const expense = await storage.updateExpense(id, req.body);\n      if (!expense) {\n        return res.status(404).json({ error: 'Expense not found' });\n      }\n      res.json(expense);\n    } catch (error) {\n      console.error('Update expense error:', error);\n      res.status(500).json({ error: 'Internal server error' });\n    }\n  });\n  \n  app.delete('/api/expenses/:id', async (req, res) => {\n    try {\n      const id = parseInt(req.params.id);\n      const success = await storage.deleteExpense(id);\n      if (!success) {\n        return res.status(404).json({ error: 'Expense not found' });\n      }\n      res.status(204).send();\n    } catch (error) {\n      console.error('Delete expense error:', error);\n      res.status(500).json({ error: 'Internal server error' });\n    }\n  });\n\n  return httpServer;\n}\n","size_bytes":18152},"server/storage.ts":{"content":"import { \n  users, type User, type InsertUser,\n  destinations, type Destination, type InsertDestination,\n  trips, type Trip, type InsertTrip,\n  itineraries, type Itinerary, type InsertItinerary,\n  photos, type Photo, type InsertPhoto,\n  notifications, type Notification, type InsertNotification,\n  hotels, type Hotel, type InsertHotel,\n  places, type Place, type InsertPlace,\n  reviews, type Review, type InsertReview,\n  budgets, type Budget, type InsertBudget,\n  expenses, type Expense, type InsertExpense,\n  currencyRates, type CurrencyRate, type InsertCurrencyRate\n} from \"@shared/schema\";\n\nexport interface IStorage {\n  // User operations\n  getUser(id: number): Promise<User | undefined>;\n  getUserByUid(uid: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n  \n  // Destination operations\n  getDestinations(): Promise<Destination[]>;\n  getDestination(id: number): Promise<Destination | undefined>;\n  createDestination(destination: InsertDestination): Promise<Destination>;\n  \n  // Trip operations\n  getTrips(userId: number): Promise<Trip[]>;\n  getTrip(id: number): Promise<Trip | undefined>;\n  createTrip(trip: InsertTrip): Promise<Trip>;\n  updateTrip(id: number, trip: Partial<Trip>): Promise<Trip | undefined>;\n  deleteTrip(id: number): Promise<boolean>;\n  \n  // Itinerary operations\n  getItineraries(tripId: number): Promise<Itinerary[]>;\n  getItinerary(id: number): Promise<Itinerary | undefined>;\n  createItinerary(itinerary: InsertItinerary): Promise<Itinerary>;\n  updateItinerary(id: number, itinerary: Partial<Itinerary>): Promise<Itinerary | undefined>;\n  deleteItinerary(id: number): Promise<boolean>;\n  \n  // Photo operations\n  getPhotos(userId: number): Promise<Photo[]>;\n  getTripPhotos(tripId: number): Promise<Photo[]>;\n  createPhoto(photo: InsertPhoto): Promise<Photo>;\n  deletePhoto(id: number): Promise<boolean>;\n  \n  // Notification operations\n  getNotifications(userId: number): Promise<Notification[]>;\n  createNotification(notification: InsertNotification): Promise<Notification>;\n  markNotificationAsRead(id: number): Promise<boolean>;\n  \n  // Hotel operations\n  getHotels(destinationId: number): Promise<Hotel[]>;\n  getHotel(id: number): Promise<Hotel | undefined>;\n  createHotel(hotel: InsertHotel): Promise<Hotel>;\n  \n  // Place operations\n  getPlaces(destinationId: number): Promise<Place[]>;\n  getPlace(id: number): Promise<Place | undefined>;\n  createPlace(place: InsertPlace): Promise<Place>;\n  \n  // Review operations\n  getReviews(hotelId?: number, placeId?: number): Promise<Review[]>;\n  getReview(id: number): Promise<Review | undefined>;\n  createReview(review: InsertReview): Promise<Review>;\n  updateReview(id: number, review: Partial<Review>): Promise<Review | undefined>;\n  deleteReview(id: number): Promise<boolean>;\n  \n  // Budget operations\n  getBudgets(tripId: number): Promise<Budget[]>;\n  getBudget(id: number): Promise<Budget | undefined>;\n  getBudgetByTrip(tripId: number): Promise<Budget | undefined>;\n  createBudget(budget: InsertBudget): Promise<Budget>;\n  updateBudget(id: number, budget: Partial<Budget>): Promise<Budget | undefined>;\n  deleteBudget(id: number): Promise<boolean>;\n  \n  // Expense operations\n  getExpenses(tripId: number): Promise<Expense[]>;\n  getExpensesByBudget(budgetId: number): Promise<Expense[]>;\n  getExpense(id: number): Promise<Expense | undefined>;\n  createExpense(expense: InsertExpense): Promise<Expense>;\n  updateExpense(id: number, expense: Partial<Expense>): Promise<Expense | undefined>;\n  deleteExpense(id: number): Promise<boolean>;\n  \n  // Currency operations\n  getCurrencyRate(baseCurrency: string, targetCurrency: string): Promise<CurrencyRate | undefined>;\n  createOrUpdateCurrencyRate(rate: InsertCurrencyRate): Promise<CurrencyRate>;\n}\n\nexport class MemStorage implements IStorage {\n  private users: Map<number, User>;\n  private destinations: Map<number, Destination>;\n  private trips: Map<number, Trip>;\n  private itineraries: Map<number, Itinerary>;\n  private photos: Map<number, Photo>;\n  private notifications: Map<number, Notification>;\n  private hotels: Map<number, Hotel>;\n  private places: Map<number, Place>;\n  private reviews: Map<number, Review>;\n  private budgets: Map<number, Budget>;\n  private expenses: Map<number, Expense>;\n  private currencyRates: Map<string, CurrencyRate>;\n  \n  private currentUserId: number;\n  private currentDestinationId: number;\n  private currentTripId: number;\n  private currentItineraryId: number;\n  private currentPhotoId: number;\n  private currentNotificationId: number;\n  private currentHotelId: number;\n  private currentPlaceId: number;\n  private currentReviewId: number;\n  private currentBudgetId: number;\n  private currentExpenseId: number;\n  private currentCurrencyRateId: number;\n\n  constructor() {\n    this.users = new Map();\n    this.destinations = new Map();\n    this.trips = new Map();\n    this.itineraries = new Map();\n    this.photos = new Map();\n    this.notifications = new Map();\n    this.hotels = new Map();\n    this.places = new Map();\n    this.reviews = new Map();\n    this.budgets = new Map();\n    this.expenses = new Map();\n    this.currencyRates = new Map();\n    \n    this.currentUserId = 1;\n    this.currentDestinationId = 1;\n    this.currentTripId = 1;\n    this.currentItineraryId = 1;\n    this.currentPhotoId = 1;\n    this.currentNotificationId = 1;\n    this.currentHotelId = 1;\n    this.currentPlaceId = 1;\n    this.currentReviewId = 1;\n    this.currentBudgetId = 1;\n    this.currentExpenseId = 1;\n    this.currentCurrencyRateId = 1;\n    \n    // Add sample data\n    this.seedDestinations();\n    this.seedHotelsAndPlaces();\n  }\n\n  // User operations\n  async getUser(id: number): Promise<User | undefined> {\n    return this.users.get(id);\n  }\n\n  async getUserByUid(uid: string): Promise<User | undefined> {\n    return Array.from(this.users.values()).find(user => user.uid === uid);\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const id = this.currentUserId++;\n    const user: User = { \n      ...insertUser, \n      id,\n      photoURL: insertUser.photoURL ?? null,\n      displayName: insertUser.displayName ?? null\n    };\n    this.users.set(id, user);\n    return user;\n  }\n\n  // Destination operations\n  async getDestinations(): Promise<Destination[]> {\n    return Array.from(this.destinations.values());\n  }\n\n  async getDestination(id: number): Promise<Destination | undefined> {\n    return this.destinations.get(id);\n  }\n\n  async createDestination(destination: InsertDestination): Promise<Destination> {\n    const id = this.currentDestinationId++;\n    const newDestination: Destination = { \n      ...destination, \n      id,\n      city: destination.city ?? null,\n      description: destination.description ?? null,\n      imageUrl: destination.imageUrl ?? null,\n      latitude: destination.latitude ?? null,\n      longitude: destination.longitude ?? null,\n      rating: destination.rating ?? null,\n      category: destination.category ?? null,\n      address: destination.address ?? null,\n      mapUrl: destination.mapUrl ?? null\n    };\n    this.destinations.set(id, newDestination);\n    return newDestination;\n  }\n\n  // Trip operations\n  async getTrips(userId: number): Promise<Trip[]> {\n    return Array.from(this.trips.values()).filter(trip => trip.userId === userId);\n  }\n\n  async getTrip(id: number): Promise<Trip | undefined> {\n    return this.trips.get(id);\n  }\n\n  async createTrip(trip: InsertTrip): Promise<Trip> {\n    const id = this.currentTripId++;\n    const newTrip: Trip = { \n      ...trip, \n      id,\n      description: trip.description ?? null,\n      imageUrl: trip.imageUrl ?? null,\n      activities: trip.activities ?? null,\n      isFavorite: trip.isFavorite ?? null\n    };\n    this.trips.set(id, newTrip);\n    return newTrip;\n  }\n\n  async updateTrip(id: number, tripUpdate: Partial<Trip>): Promise<Trip | undefined> {\n    const trip = this.trips.get(id);\n    if (!trip) return undefined;\n    \n    const updatedTrip = { ...trip, ...tripUpdate };\n    this.trips.set(id, updatedTrip);\n    return updatedTrip;\n  }\n\n  async deleteTrip(id: number): Promise<boolean> {\n    return this.trips.delete(id);\n  }\n\n  // Itinerary operations\n  async getItineraries(tripId: number): Promise<Itinerary[]> {\n    return Array.from(this.itineraries.values()).filter(itinerary => itinerary.tripId === tripId);\n  }\n\n  async getItinerary(id: number): Promise<Itinerary | undefined> {\n    return this.itineraries.get(id);\n  }\n\n  async createItinerary(itinerary: InsertItinerary): Promise<Itinerary> {\n    const id = this.currentItineraryId++;\n    const newItinerary: Itinerary = { \n      ...itinerary, \n      id,\n      notes: itinerary.notes ?? null\n    };\n    this.itineraries.set(id, newItinerary);\n    return newItinerary;\n  }\n\n  async updateItinerary(id: number, itineraryUpdate: Partial<Itinerary>): Promise<Itinerary | undefined> {\n    const itinerary = this.itineraries.get(id);\n    if (!itinerary) return undefined;\n    \n    const updatedItinerary = { ...itinerary, ...itineraryUpdate };\n    this.itineraries.set(id, updatedItinerary);\n    return updatedItinerary;\n  }\n\n  async deleteItinerary(id: number): Promise<boolean> {\n    return this.itineraries.delete(id);\n  }\n\n  // Photo operations\n  async getPhotos(userId: number): Promise<Photo[]> {\n    return Array.from(this.photos.values()).filter(photo => photo.userId === userId);\n  }\n\n  async getTripPhotos(tripId: number): Promise<Photo[]> {\n    return Array.from(this.photos.values()).filter(photo => photo.tripId === tripId);\n  }\n\n  async createPhoto(photo: InsertPhoto): Promise<Photo> {\n    const id = this.currentPhotoId++;\n    const newPhoto: Photo = { \n      ...photo, \n      id,\n      tripId: photo.tripId ?? null,\n      caption: photo.caption ?? null\n    };\n    this.photos.set(id, newPhoto);\n    return newPhoto;\n  }\n\n  async deletePhoto(id: number): Promise<boolean> {\n    return this.photos.delete(id);\n  }\n\n  // Notification operations\n  async getNotifications(userId: number): Promise<Notification[]> {\n    return Array.from(this.notifications.values())\n      .filter(notification => notification.userId === userId)\n      .sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\n  }\n\n  async createNotification(notification: InsertNotification): Promise<Notification> {\n    const id = this.currentNotificationId++;\n    const newNotification: Notification = { \n      ...notification, \n      id,\n      isRead: notification.isRead ?? null\n    };\n    this.notifications.set(id, newNotification);\n    return newNotification;\n  }\n\n  async markNotificationAsRead(id: number): Promise<boolean> {\n    const notification = this.notifications.get(id);\n    if (!notification) return false;\n    \n    notification.isRead = true;\n    this.notifications.set(id, notification);\n    return true;\n  }\n\n  // Hotel operations\n  async getHotels(destinationId: number): Promise<Hotel[]> {\n    return Array.from(this.hotels.values()).filter(hotel => hotel.destinationId === destinationId);\n  }\n\n  async getHotel(id: number): Promise<Hotel | undefined> {\n    return this.hotels.get(id);\n  }\n\n  async createHotel(hotel: InsertHotel): Promise<Hotel> {\n    const id = this.currentHotelId++;\n    const newHotel: Hotel = { \n      ...hotel, \n      id,\n      rating: hotel.rating ?? null,\n      pricePerNight: hotel.pricePerNight ?? null,\n      description: hotel.description ?? null,\n      amenities: hotel.amenities ?? [],\n      imageUrls: hotel.imageUrls ?? [],\n      virtual360Url: hotel.virtual360Url ?? null,\n      website: hotel.website ?? null,\n      phone: hotel.phone ?? null\n    };\n    this.hotels.set(id, newHotel);\n    return newHotel;\n  }\n\n  // Place operations\n  async getPlaces(destinationId: number): Promise<Place[]> {\n    return Array.from(this.places.values()).filter(place => place.destinationId === destinationId);\n  }\n\n  async getPlace(id: number): Promise<Place | undefined> {\n    return this.places.get(id);\n  }\n\n  async createPlace(place: InsertPlace): Promise<Place> {\n    const id = this.currentPlaceId++;\n    const newPlace: Place = { \n      ...place, \n      id,\n      rating: place.rating ?? null,\n      description: place.description ?? null,\n      imageUrls: place.imageUrls ?? [],\n      virtual360Url: place.virtual360Url ?? null,\n      website: place.website ?? null,\n      phone: place.phone ?? null,\n      openingHours: place.openingHours ?? null,\n      priceRange: place.priceRange ?? null\n    };\n    this.places.set(id, newPlace);\n    return newPlace;\n  }\n\n  // Review operations\n  async getReviews(hotelId?: number, placeId?: number): Promise<Review[]> {\n    return Array.from(this.reviews.values()).filter(review => {\n      if (hotelId) return review.hotelId === hotelId;\n      if (placeId) return review.placeId === placeId;\n      return true;\n    });\n  }\n\n  async getReview(id: number): Promise<Review | undefined> {\n    return this.reviews.get(id);\n  }\n\n  async createReview(review: InsertReview): Promise<Review> {\n    const id = this.currentReviewId++;\n    const newReview: Review = { \n      ...review, \n      id,\n      hotelId: review.hotelId ?? null,\n      placeId: review.placeId ?? null,\n      title: review.title ?? null,\n      imageUrls: review.imageUrls ?? [],\n      virtual360Url: review.virtual360Url ?? null,\n      isVerified: review.isVerified ?? null\n    };\n    this.reviews.set(id, newReview);\n    return newReview;\n  }\n\n  async updateReview(id: number, reviewUpdate: Partial<Review>): Promise<Review | undefined> {\n    const review = this.reviews.get(id);\n    if (!review) return undefined;\n    \n    const updatedReview = { ...review, ...reviewUpdate };\n    this.reviews.set(id, updatedReview);\n    return updatedReview;\n  }\n\n  async deleteReview(id: number): Promise<boolean> {\n    return this.reviews.delete(id);\n  }\n\n  // Budget operations\n  async getBudgets(tripId: number): Promise<Budget[]> {\n    return Array.from(this.budgets.values()).filter(budget => budget.tripId === tripId);\n  }\n\n  async getBudget(id: number): Promise<Budget | undefined> {\n    return this.budgets.get(id);\n  }\n\n  async getBudgetByTrip(tripId: number): Promise<Budget | undefined> {\n    return Array.from(this.budgets.values()).find(budget => budget.tripId === tripId);\n  }\n\n  async createBudget(budget: InsertBudget): Promise<Budget> {\n    const id = this.currentBudgetId++;\n    const newBudget: Budget = { \n      ...budget, \n      id,\n      createdAt: budget.createdAt || new Date(),\n      updatedAt: budget.updatedAt || new Date()\n    };\n    this.budgets.set(id, newBudget);\n    return newBudget;\n  }\n\n  async updateBudget(id: number, budgetUpdate: Partial<Budget>): Promise<Budget | undefined> {\n    const budget = this.budgets.get(id);\n    if (!budget) return undefined;\n    \n    const updatedBudget = { ...budget, ...budgetUpdate, updatedAt: new Date() };\n    this.budgets.set(id, updatedBudget);\n    return updatedBudget;\n  }\n\n  async deleteBudget(id: number): Promise<boolean> {\n    return this.budgets.delete(id);\n  }\n\n  // Expense operations\n  async getExpenses(tripId: number): Promise<Expense[]> {\n    return Array.from(this.expenses.values()).filter(expense => expense.tripId === tripId);\n  }\n\n  async getExpensesByBudget(budgetId: number): Promise<Expense[]> {\n    return Array.from(this.expenses.values()).filter(expense => expense.budgetId === budgetId);\n  }\n\n  async getExpense(id: number): Promise<Expense | undefined> {\n    return this.expenses.get(id);\n  }\n\n  async createExpense(expense: InsertExpense): Promise<Expense> {\n    const id = this.currentExpenseId++;\n    const newExpense: Expense = { \n      ...expense, \n      id,\n      budgetId: expense.budgetId ?? null,\n      originalAmount: expense.originalAmount ?? null,\n      originalCurrency: expense.originalCurrency ?? null,\n      location: expense.location ?? null,\n      receiptUrl: expense.receiptUrl ?? null,\n      exchangeRate: expense.exchangeRate ?? null,\n      createdAt: expense.createdAt || new Date()\n    };\n    this.expenses.set(id, newExpense);\n    return newExpense;\n  }\n\n  async updateExpense(id: number, expenseUpdate: Partial<Expense>): Promise<Expense | undefined> {\n    const expense = this.expenses.get(id);\n    if (!expense) return undefined;\n    \n    const updatedExpense = { ...expense, ...expenseUpdate };\n    this.expenses.set(id, updatedExpense);\n    return updatedExpense;\n  }\n\n  async deleteExpense(id: number): Promise<boolean> {\n    return this.expenses.delete(id);\n  }\n\n  // Currency operations\n  async getCurrencyRate(baseCurrency: string, targetCurrency: string): Promise<CurrencyRate | undefined> {\n    const key = `${baseCurrency}-${targetCurrency}`;\n    return this.currencyRates.get(key);\n  }\n\n  async createOrUpdateCurrencyRate(rate: InsertCurrencyRate): Promise<CurrencyRate> {\n    const key = `${rate.baseCurrency}-${rate.targetCurrency}`;\n    const id = this.currentCurrencyRateId++;\n    const newRate: CurrencyRate = { \n      ...rate, \n      id,\n      lastUpdated: rate.lastUpdated || new Date()\n    };\n    this.currencyRates.set(key, newRate);\n    return newRate;\n  }\n\n  // Seed data\n  private seedDestinations() {\n    const destinations: InsertDestination[] = [\n      {\n        name: \"Paris\",\n        country: \"France\",\n        city: \"Paris\",\n        description: \"Experience the city of love with its iconic landmarks and romantic atmosphere.\",\n        imageUrl: \"https://images.unsplash.com/photo-1523906834658-6e24ef2386f9?ixlib=rb-1.2.1&auto=format&fit=crop&w=900&q=80\",\n        latitude: \"48.8566\",\n        longitude: \"2.3522\",\n        rating: \"4.8\",\n        category: \"City\",\n        address: \"Paris, France\"\n      },\n      {\n        name: \"Rome\",\n        country: \"Italy\",\n        city: \"Rome\",\n        description: \"Explore ancient ruins and experience the rich history of the Eternal City.\",\n        imageUrl: \"https://images.unsplash.com/photo-1526392060635-9d6019884377?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80\",\n        latitude: \"41.9028\",\n        longitude: \"12.4964\",\n        rating: \"4.7\",\n        category: \"Historical\",\n        address: \"Rome, Italy\"\n      },\n      {\n        name: \"Santorini\",\n        country: \"Greece\",\n        city: \"Santorini\",\n        description: \"Enjoy breathtaking sunsets and stunning views of the Aegean Sea.\",\n        imageUrl: \"https://images.unsplash.com/photo-1582050041567-9cfdd330d545?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80\",\n        latitude: \"36.3932\",\n        longitude: \"25.4615\",\n        rating: \"4.9\",\n        category: \"Beach\",\n        address: \"Santorini, Greece\"\n      },\n      {\n        name: \"New York\",\n        country: \"USA\",\n        city: \"New York\",\n        description: \"Explore the city that never sleeps with its iconic skyline and vibrant atmosphere.\",\n        imageUrl: \"https://images.unsplash.com/photo-1543832923-44667a44c804?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80\",\n        latitude: \"40.7128\",\n        longitude: \"-74.0060\",\n        rating: \"4.6\",\n        category: \"City\",\n        address: \"New York, NY, USA\"\n      },\n      {\n        name: \"Tokyo\",\n        country: \"Japan\",\n        city: \"Tokyo\",\n        description: \"Discover the perfect blend of traditional culture and futuristic cityscape.\",\n        imageUrl: \"https://images.unsplash.com/photo-1533106497176-45ae19e68ba2?ixlib=rb-1.2.1&auto=format&fit=crop&w=900&q=80\",\n        latitude: \"35.6762\",\n        longitude: \"139.6503\",\n        rating: \"4.8\",\n        category: \"City\",\n        address: \"Tokyo, Japan\"\n      }\n    ];\n\n    destinations.forEach(destination => {\n      this.createDestination(destination);\n    });\n  }\n\n  private seedHotelsAndPlaces() {\n    // Paris hotels and places\n    this.createHotel({\n      name: \"Hotel Ritz Paris\",\n      destinationId: 1,\n      address: \"15 Place VendÃ´me, 75001 Paris, France\",\n      latitude: \"48.8680\",\n      longitude: \"2.3299\",\n      rating: \"4.9\",\n      pricePerNight: \"800.00\",\n      description: \"Luxury hotel in the heart of Paris with world-class amenities.\",\n      amenities: [\"Spa\", \"Restaurant\", \"Bar\", \"Concierge\", \"Room Service\"],\n      imageUrls: [\"https://images.unsplash.com/photo-1564501049412-61c2a3083791?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80\"],\n      website: \"https://www.ritzparis.com\",\n      phone: \"+33 1 43 16 30 30\"\n    });\n\n    this.createPlace({\n      name: \"Eiffel Tower\",\n      destinationId: 1,\n      address: \"Champ de Mars, 5 Avenue Anatole France, 75007 Paris, France\",\n      latitude: \"48.8584\",\n      longitude: \"2.2945\",\n      category: \"Attraction\",\n      rating: \"4.6\",\n      description: \"Iconic iron lattice tower and symbol of Paris.\",\n      imageUrls: [\"https://images.unsplash.com/photo-1511739001486-6bfe10ce785f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80\"],\n      openingHours: {\"monday\": \"9:30-23:45\", \"tuesday\": \"9:30-23:45\", \"wednesday\": \"9:30-23:45\", \"thursday\": \"9:30-23:45\", \"friday\": \"9:30-23:45\", \"saturday\": \"9:30-23:45\", \"sunday\": \"9:30-23:45\"},\n      priceRange: \"$$\"\n    });\n\n    // Tokyo hotels and places\n    this.createHotel({\n      name: \"Park Hyatt Tokyo\",\n      destinationId: 5,\n      address: \"3-7-1-2 Nishi-Shinjuku, Shinjuku City, Tokyo 163-1055, Japan\",\n      latitude: \"35.6859\",\n      longitude: \"139.6917\",\n      rating: \"4.8\",\n      pricePerNight: \"600.00\",\n      description: \"Luxury hotel with stunning city views and world-class service.\",\n      amenities: [\"Spa\", \"Fitness Center\", \"Pool\", \"Restaurant\", \"Bar\"],\n      imageUrls: [\"https://images.unsplash.com/photo-1590490360182-c33d57733427?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80\"],\n      website: \"https://www.hyatt.com\",\n      phone: \"+81 3-5322-1234\"\n    });\n\n    this.createPlace({\n      name: \"Senso-ji Temple\",\n      destinationId: 5,\n      address: \"2-3-1 Asakusa, Taito City, Tokyo 111-0032, Japan\",\n      latitude: \"35.7148\",\n      longitude: \"139.7967\",\n      category: \"Temple\",\n      rating: \"4.5\",\n      description: \"Tokyo's oldest temple with traditional architecture and cultural significance.\",\n      imageUrls: [\"https://images.unsplash.com/photo-1528181304800-259b08848526?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80\"],\n      openingHours: {\"monday\": \"6:00-17:00\", \"tuesday\": \"6:00-17:00\", \"wednesday\": \"6:00-17:00\", \"thursday\": \"6:00-17:00\", \"friday\": \"6:00-17:00\", \"saturday\": \"6:00-17:00\", \"sunday\": \"6:00-17:00\"},\n      priceRange: \"Free\"\n    });\n  }\n}\n\nexport const storage = new MemStorage();\n","size_bytes":22322},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2254},"shared/schema.ts":{"content":"import { pgTable, text, serial, integer, boolean, timestamp, jsonb, decimal } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\n// User Schema\nexport const users = pgTable(\"users\", {\n  id: serial(\"id\").primaryKey(),\n  uid: text(\"uid\").notNull().unique(), // Firebase UID\n  username: text(\"username\").notNull(),\n  email: text(\"email\").notNull().unique(),\n  photoURL: text(\"photo_url\"),\n  displayName: text(\"display_name\"),\n});\n\nexport const insertUserSchema = createInsertSchema(users).omit({\n  id: true,\n});\n\n// Destinations Schema\nexport const destinations = pgTable(\"destinations\", {\n  id: serial(\"id\").primaryKey(),\n  name: text(\"name\").notNull(),\n  country: text(\"country\").notNull(),\n  city: text(\"city\"),\n  description: text(\"description\"),\n  imageUrl: text(\"image_url\"),\n  latitude: decimal(\"latitude\", { precision: 10, scale: 8 }),\n  longitude: decimal(\"longitude\", { precision: 11, scale: 8 }),\n  rating: decimal(\"rating\", { precision: 3, scale: 2 }),\n  category: text(\"category\"), // e.g. Beach, City, Mountain, etc.\n  address: text(\"address\"),\n  mapUrl: text(\"map_url\"),\n});\n\nexport const insertDestinationSchema = createInsertSchema(destinations).omit({\n  id: true,\n});\n\n// Trips Schema\nexport const trips = pgTable(\"trips\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").notNull(),\n  destinationId: integer(\"destination_id\").notNull(),\n  title: text(\"title\").notNull(),\n  startDate: timestamp(\"start_date\").notNull(),\n  endDate: timestamp(\"end_date\").notNull(),\n  description: text(\"description\"),\n  imageUrl: text(\"image_url\"),\n  activities: integer(\"activities\").default(0),\n  isFavorite: boolean(\"is_favorite\").default(false),\n});\n\nexport const insertTripSchema = createInsertSchema(trips).omit({\n  id: true,\n});\n\n// Itinerary Schema\nexport const itineraries = pgTable(\"itineraries\", {\n  id: serial(\"id\").primaryKey(),\n  tripId: integer(\"trip_id\").notNull(),\n  day: integer(\"day\").notNull(),\n  date: timestamp(\"date\").notNull(),\n  activities: jsonb(\"activities\").notNull(),\n  notes: text(\"notes\"),\n});\n\nexport const insertItinerarySchema = createInsertSchema(itineraries).omit({\n  id: true,\n});\n\n// Photos Schema\nexport const photos = pgTable(\"photos\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").notNull(),\n  tripId: integer(\"trip_id\"),\n  imageUrl: text(\"image_url\").notNull(),\n  caption: text(\"caption\"),\n  uploadedAt: timestamp(\"uploaded_at\").notNull(),\n});\n\nexport const insertPhotoSchema = createInsertSchema(photos).omit({\n  id: true,\n});\n\n// Notifications Schema\nexport const notifications = pgTable(\"notifications\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").notNull(),\n  title: text(\"title\").notNull(),\n  message: text(\"message\").notNull(),\n  type: text(\"type\").notNull(), // Flight, Hotel, Weather, etc.\n  isRead: boolean(\"is_read\").default(false),\n  createdAt: timestamp(\"created_at\").notNull(),\n});\n\nexport const insertNotificationSchema = createInsertSchema(notifications).omit({\n  id: true,\n});\n\nexport type User = typeof users.$inferSelect;\nexport type InsertUser = z.infer<typeof insertUserSchema>;\n\nexport type Destination = typeof destinations.$inferSelect;\nexport type InsertDestination = z.infer<typeof insertDestinationSchema>;\n\nexport type Trip = typeof trips.$inferSelect;\nexport type InsertTrip = z.infer<typeof insertTripSchema>;\n\nexport type Itinerary = typeof itineraries.$inferSelect;\nexport type InsertItinerary = z.infer<typeof insertItinerarySchema>;\n\nexport type Photo = typeof photos.$inferSelect;\nexport type InsertPhoto = z.infer<typeof insertPhotoSchema>;\n\n// Hotels Schema\nexport const hotels = pgTable(\"hotels\", {\n  id: serial(\"id\").primaryKey(),\n  name: text(\"name\").notNull(),\n  destinationId: integer(\"destination_id\").notNull(),\n  address: text(\"address\").notNull(),\n  latitude: decimal(\"latitude\", { precision: 10, scale: 8 }).notNull(),\n  longitude: decimal(\"longitude\", { precision: 11, scale: 8 }).notNull(),\n  rating: decimal(\"rating\", { precision: 3, scale: 2 }),\n  pricePerNight: decimal(\"price_per_night\", { precision: 10, scale: 2 }),\n  description: text(\"description\"),\n  amenities: jsonb(\"amenities\").default([]),\n  imageUrls: jsonb(\"image_urls\").default([]),\n  virtual360Url: text(\"virtual_360_url\"),\n  website: text(\"website\"),\n  phone: text(\"phone\"),\n});\n\nexport const insertHotelSchema = createInsertSchema(hotels).omit({\n  id: true,\n});\n\n// Places Schema (Points of Interest)\nexport const places = pgTable(\"places\", {\n  id: serial(\"id\").primaryKey(),\n  name: text(\"name\").notNull(),\n  destinationId: integer(\"destination_id\").notNull(),\n  address: text(\"address\").notNull(),\n  latitude: decimal(\"latitude\", { precision: 10, scale: 8 }).notNull(),\n  longitude: decimal(\"longitude\", { precision: 11, scale: 8 }).notNull(),\n  category: text(\"category\").notNull(), // Restaurant, Attraction, Museum, etc.\n  rating: decimal(\"rating\", { precision: 3, scale: 2 }),\n  description: text(\"description\"),\n  imageUrls: jsonb(\"image_urls\").default([]),\n  virtual360Url: text(\"virtual_360_url\"),\n  website: text(\"website\"),\n  phone: text(\"phone\"),\n  openingHours: jsonb(\"opening_hours\"),\n  priceRange: text(\"price_range\"), // $, $$, $$$, $$$$\n});\n\nexport const insertPlaceSchema = createInsertSchema(places).omit({\n  id: true,\n});\n\n// Reviews Schema\nexport const reviews = pgTable(\"reviews\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").notNull(),\n  hotelId: integer(\"hotel_id\"),\n  placeId: integer(\"place_id\"),\n  rating: integer(\"rating\").notNull(),\n  title: text(\"title\"),\n  content: text(\"content\").notNull(),\n  imageUrls: jsonb(\"image_urls\").default([]),\n  virtual360Url: text(\"virtual_360_url\"),\n  isVerified: boolean(\"is_verified\").default(false),\n  createdAt: timestamp(\"created_at\").notNull(),\n  updatedAt: timestamp(\"updated_at\").notNull(),\n});\n\nexport const insertReviewSchema = createInsertSchema(reviews).omit({\n  id: true,\n});\n\nexport type Notification = typeof notifications.$inferSelect;\nexport type InsertNotification = z.infer<typeof insertNotificationSchema>;\n\nexport type Hotel = typeof hotels.$inferSelect;\nexport type InsertHotel = z.infer<typeof insertHotelSchema>;\n\nexport type Place = typeof places.$inferSelect;\nexport type InsertPlace = z.infer<typeof insertPlaceSchema>;\n\n// Budgets Schema\nexport const budgets = pgTable(\"budgets\", {\n  id: serial(\"id\").primaryKey(),\n  tripId: integer(\"trip_id\").notNull(),\n  userId: integer(\"user_id\").notNull(),\n  totalBudget: decimal(\"total_budget\", { precision: 10, scale: 2 }).notNull(),\n  currency: text(\"currency\").notNull().default(\"USD\"),\n  categories: jsonb(\"categories\").notNull(), // {accommodation: 500, food: 300, transport: 200, etc.}\n  createdAt: timestamp(\"created_at\").notNull(),\n  updatedAt: timestamp(\"updated_at\").notNull(),\n});\n\nexport const insertBudgetSchema = createInsertSchema(budgets).omit({\n  id: true,\n});\n\n// Expenses Schema\nexport const expenses = pgTable(\"expenses\", {\n  id: serial(\"id\").primaryKey(),\n  tripId: integer(\"trip_id\").notNull(),\n  userId: integer(\"user_id\").notNull(),\n  budgetId: integer(\"budget_id\"),\n  amount: decimal(\"amount\", { precision: 10, scale: 2 }).notNull(),\n  originalAmount: decimal(\"original_amount\", { precision: 10, scale: 2 }),\n  currency: text(\"currency\").notNull().default(\"USD\"),\n  originalCurrency: text(\"original_currency\"),\n  category: text(\"category\").notNull(), // accommodation, food, transport, activities, shopping, etc.\n  description: text(\"description\").notNull(),\n  location: text(\"location\"),\n  receiptUrl: text(\"receipt_url\"),\n  date: timestamp(\"date\").notNull(),\n  exchangeRate: decimal(\"exchange_rate\", { precision: 10, scale: 6 }),\n  createdAt: timestamp(\"created_at\").notNull(),\n});\n\nexport const insertExpenseSchema = createInsertSchema(expenses).omit({\n  id: true,\n});\n\n// Currency Rates Schema (for caching exchange rates)\nexport const currencyRates = pgTable(\"currency_rates\", {\n  id: serial(\"id\").primaryKey(),\n  baseCurrency: text(\"base_currency\").notNull(),\n  targetCurrency: text(\"target_currency\").notNull(),\n  rate: decimal(\"rate\", { precision: 10, scale: 6 }).notNull(),\n  lastUpdated: timestamp(\"last_updated\").notNull(),\n});\n\nexport const insertCurrencyRateSchema = createInsertSchema(currencyRates).omit({\n  id: true,\n});\n\nexport type Review = typeof reviews.$inferSelect;\nexport type InsertReview = z.infer<typeof insertReviewSchema>;\n\nexport type Budget = typeof budgets.$inferSelect;\nexport type InsertBudget = z.infer<typeof insertBudgetSchema>;\n\nexport type Expense = typeof expenses.$inferSelect;\nexport type InsertExpense = z.infer<typeof insertExpenseSchema>;\n\nexport type CurrencyRate = typeof currencyRates.$inferSelect;\nexport type InsertCurrencyRate = z.infer<typeof insertCurrencyRateSchema>;\n","size_bytes":8755},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport AuthProvider from \"@/context/auth-context\";\nimport AuthPage from \"@/pages/auth\";\nimport Dashboard from \"@/pages/dashboard\";\nimport Destinations from \"@/pages/destinations\";\nimport Trips from \"@/pages/trips\";\nimport TripDetails from \"@/pages/trip-details\";\nimport DestinationDetails from \"@/pages/destination-details\";\nimport { BudgetPage } from \"@/pages/budget\";\nimport Gallery from \"@/pages/gallery\";\nimport Notifications from \"@/pages/notifications\";\nimport FirebaseTest from \"@/pages/firebase-test\";\nimport ProtectedRoute from \"@/components/auth/protected-route\";\nimport NotFound from \"@/pages/not-found\";\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route path=\"/auth\" component={AuthPage} />\n      <Route path=\"/\" component={() => (\n        <ProtectedRoute>\n          <Dashboard />\n        </ProtectedRoute>\n      )} />\n      <Route path=\"/destinations\" component={() => (\n        <ProtectedRoute>\n          <Destinations />\n        </ProtectedRoute>\n      )} />\n      <Route path=\"/destinations/:id\" component={() => (\n        <ProtectedRoute>\n          <DestinationDetails />\n        </ProtectedRoute>\n      )} />\n      <Route path=\"/trips\" component={() => (\n        <ProtectedRoute>\n          <Trips />\n        </ProtectedRoute>\n      )} />\n      <Route path=\"/trips/:id\" component={({ params }) => (\n        <ProtectedRoute>\n          <TripDetails id={parseInt(params.id)} />\n        </ProtectedRoute>\n      )} />\n      <Route path=\"/trips/:tripId/budget\" component={() => (\n        <ProtectedRoute>\n          <BudgetPage />\n        </ProtectedRoute>\n      )} />\n      <Route path=\"/gallery\" component={() => (\n        <ProtectedRoute>\n          <Gallery />\n        </ProtectedRoute>\n      )} />\n      <Route path=\"/notifications\" component={() => (\n        <ProtectedRoute>\n          <Notifications />\n        </ProtectedRoute>\n      )} />\n      <Route path=\"/firebase-test\" component={() => (\n        <ProtectedRoute>\n          <FirebaseTest />\n        </ProtectedRoute>\n      )} />\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <AuthProvider>\n        <TooltipProvider>\n          <Toaster />\n          <Router />\n        </TooltipProvider>\n      </AuthProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","size_bytes":2597},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n:root {\n      --background: 0 0% 100%;\n--foreground: 20 14.3% 4.1%;\n--muted: 60 4.8% 95.9%;\n--muted-foreground: 25 5.3% 44.7%;\n--popover: 0 0% 100%;\n--popover-foreground: 20 14.3% 4.1%;\n--card: 0 0% 100%;\n--card-foreground: 20 14.3% 4.1%;\n--border: 20 5.9% 90%;\n--input: 20 5.9% 90%;\n--primary: 207 90% 54%;\n--primary-foreground: 211 100% 99%;\n--secondary: 60 4.8% 95.9%;\n--secondary-foreground: 24 9.8% 10%;\n--accent: 60 4.8% 95.9%;\n--accent-foreground: 24 9.8% 10%;\n--destructive: 0 84.2% 60.2%;\n--destructive-foreground: 60 9.1% 97.8%;\n--ring: 20 14.3% 4.1%;\n--radius: 0.5rem;\n  }\n  .dark {\n      --background: 240 10% 3.9%;\n--foreground: 0 0% 98%;\n--muted: 240 3.7% 15.9%;\n--muted-foreground: 240 5% 64.9%;\n--popover: 240 10% 3.9%;\n--popover-foreground: 0 0% 98%;\n--card: 240 10% 3.9%;\n--card-foreground: 0 0% 98%;\n--border: 240 3.7% 15.9%;\n--input: 240 3.7% 15.9%;\n--primary: 207 90% 54%;\n--primary-foreground: 211 100% 99%;\n--secondary: 240 3.7% 15.9%;\n--secondary-foreground: 0 0% 98%;\n--accent: 240 3.7% 15.9%;\n--accent-foreground: 0 0% 98%;\n--destructive: 0 62.8% 30.6%;\n--destructive-foreground: 0 0% 98%;\n--ring: 240 4.9% 83.9%;\n--radius: 0.5rem;\n  }\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n}\n\n","size_bytes":1354},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":157},"client/src/components/firebase-database-test.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useAuthContext } from \"@/context/auth-context\";\nimport { createDocument, getDocument, updateDocument, deleteDocument, queryDocuments } from \"@/lib/firebase\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardHeader, CardTitle, CardContent } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { useToast } from \"@/hooks/use-toast\";\n\nexport default function FirebaseDatabaseTest() {\n  const [testId, setTestId] = useState<string>(\"\");\n  const [testData, setTestData] = useState<string>(\"\");\n  const [result, setResult] = useState<any>(null);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const { user } = useAuthContext();\n  const { toast } = useToast();\n\n  const testCollection = \"test_collection\";\n\n  useEffect(() => {\n    // Generate a unique test ID if none exists\n    if (!testId && user) {\n      setTestId(`test_${user.uid.substring(0, 6)}_${Date.now()}`);\n    }\n  }, [testId, user]);\n\n  const handleCreate = async () => {\n    if (!testId || !testData) {\n      toast({\n        title: \"Validation Error\",\n        description: \"Please provide both ID and data\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      const data = { content: testData, createdAt: new Date().toISOString() };\n      const res = await createDocument(testCollection, testId, data);\n      setResult(res);\n      toast({\n        title: \"Document Created\",\n        description: \"Successfully created document in Firestore\",\n      });\n    } catch (error: any) {\n      console.error(\"Error creating document:\", error);\n      toast({\n        title: \"Error\",\n        description: error.message || \"Failed to create document\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleRead = async () => {\n    if (!testId) {\n      toast({\n        title: \"Validation Error\",\n        description: \"Please provide document ID\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      const res = await getDocument(testCollection, testId);\n      setResult(res);\n      if (res) {\n        toast({\n          title: \"Document Retrieved\",\n          description: \"Successfully retrieved document from Firestore\",\n        });\n      } else {\n        toast({\n          title: \"Not Found\",\n          description: \"Document does not exist\",\n        });\n      }\n    } catch (error: any) {\n      console.error(\"Error reading document:\", error);\n      toast({\n        title: \"Error\",\n        description: error.message || \"Failed to read document\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleUpdate = async () => {\n    if (!testId || !testData) {\n      toast({\n        title: \"Validation Error\",\n        description: \"Please provide both ID and data\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      const data = { content: testData, updatedAt: new Date().toISOString() };\n      const res = await updateDocument(testCollection, testId, data);\n      setResult(res);\n      toast({\n        title: \"Document Updated\",\n        description: \"Successfully updated document in Firestore\",\n      });\n    } catch (error: any) {\n      console.error(\"Error updating document:\", error);\n      toast({\n        title: \"Error\",\n        description: error.message || \"Failed to update document\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleDelete = async () => {\n    if (!testId) {\n      toast({\n        title: \"Validation Error\",\n        description: \"Please provide document ID\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      const res = await deleteDocument(testCollection, testId);\n      setResult({ deleted: res, id: testId });\n      toast({\n        title: \"Document Deleted\",\n        description: \"Successfully deleted document from Firestore\",\n      });\n    } catch (error: any) {\n      console.error(\"Error deleting document:\", error);\n      toast({\n        title: \"Error\",\n        description: error.message || \"Failed to delete document\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleQuery = async () => {\n    setIsLoading(true);\n    try {\n      // Find documents with content field that contains the testData\n      const res = await queryDocuments(testCollection, \"content\", \"==\", testData);\n      setResult(res);\n      toast({\n        title: \"Query Executed\",\n        description: `Found ${res.length} matching documents`,\n      });\n    } catch (error: any) {\n      console.error(\"Error querying documents:\", error);\n      toast({\n        title: \"Error\",\n        description: error.message || \"Failed to query documents\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Card className=\"w-full max-w-lg mx-auto\">\n      <CardHeader>\n        <CardTitle>Firebase Firestore Test</CardTitle>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        <div className=\"space-y-2\">\n          <label className=\"text-sm font-medium\" htmlFor=\"documentId\">Document ID</label>\n          <Input\n            id=\"documentId\"\n            value={testId}\n            onChange={(e) => setTestId(e.target.value)}\n            placeholder=\"Enter document ID\"\n          />\n        </div>\n        \n        <div className=\"space-y-2\">\n          <label className=\"text-sm font-medium\" htmlFor=\"documentData\">Document Data</label>\n          <Input\n            id=\"documentData\"\n            value={testData}\n            onChange={(e) => setTestData(e.target.value)}\n            placeholder=\"Enter document data\"\n          />\n        </div>\n        \n        <div className=\"grid grid-cols-2 gap-3\">\n          <Button onClick={handleCreate} disabled={isLoading}>\n            Create\n          </Button>\n          <Button onClick={handleRead} disabled={isLoading} variant=\"outline\">\n            Read\n          </Button>\n          <Button onClick={handleUpdate} disabled={isLoading} variant=\"secondary\">\n            Update\n          </Button>\n          <Button onClick={handleDelete} disabled={isLoading} variant=\"destructive\">\n            Delete\n          </Button>\n          <Button onClick={handleQuery} disabled={isLoading} className=\"col-span-2\">\n            Query\n          </Button>\n        </div>\n        \n        {result && (\n          <div className=\"mt-4 p-4 bg-gray-100 rounded-md\">\n            <h3 className=\"text-sm font-medium mb-2\">Result:</h3>\n            <pre className=\"text-xs overflow-auto max-h-60\">\n              {JSON.stringify(result, null, 2)}\n            </pre>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}","size_bytes":6928},"client/src/context/auth-context.tsx":{"content":"import React, { createContext, useContext, useEffect, useState } from \"react\";\nimport { User } from \"firebase/auth\";\nimport { onAuthChange } from \"@/lib/firebase\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { requestNotificationPermission } from \"@/lib/firebase\";\n\ninterface AuthContextProps {\n  user: User | null;\n  isLoading: boolean;\n  userId: number | null;\n}\n\nconst AuthContext = createContext<AuthContextProps>({\n  user: null,\n  isLoading: true,\n  userId: null,\n});\n\nexport const useAuthContext = () => useContext(AuthContext);\n\ninterface AuthProviderProps {\n  children: React.ReactNode;\n}\n\nexport const AuthProvider: React.FC<AuthProviderProps> = ({ children }) => {\n  const [user, setUser] = useState<User | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [userId, setUserId] = useState<number | null>(null);\n\n  useEffect(() => {\n    const unsubscribe = onAuthChange(async (authUser) => {\n      setIsLoading(true);\n      setUser(authUser);\n      \n      if (authUser) {\n        try {\n          // Get user from database or create if not exists\n          const response = await apiRequest(\"POST\", \"/api/users\", {\n            uid: authUser.uid,\n            username: authUser.displayName || authUser.email?.split('@')[0] || \"user\",\n            email: authUser.email || \"\",\n            photoURL: authUser.photoURL || null,\n            displayName: authUser.displayName || authUser.email?.split('@')[0] || \"user\",\n          });\n          \n          setUserId(response.id);\n          \n          // Request notification permission\n          requestNotificationPermission();\n        } catch (error) {\n          console.error(\"Error getting/creating user:\", error);\n        }\n      } else {\n        setUserId(null);\n      }\n      \n      setIsLoading(false);\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  return (\n    <AuthContext.Provider value={{ user, isLoading, userId }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport default AuthProvider;\n","size_bytes":2003},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"client/src/lib/currency.ts":{"content":"// Currency conversion utilities and API integration\n\nexport interface ExchangeRate {\n  from: string;\n  to: string;\n  rate: number;\n  lastUpdated: Date;\n}\n\nexport interface CurrencyInfo {\n  code: string;\n  name: string;\n  symbol: string;\n  flag?: string;\n}\n\n// Common currencies with their symbols\nexport const CURRENCIES: CurrencyInfo[] = [\n  { code: 'USD', name: 'US Dollar', symbol: '$' },\n  { code: 'EUR', name: 'Euro', symbol: 'â‚¬' },\n  { code: 'GBP', name: 'British Pound', symbol: 'Â£' },\n  { code: 'JPY', name: 'Japanese Yen', symbol: 'Â¥' },\n  { code: 'CAD', name: 'Canadian Dollar', symbol: 'C$' },\n  { code: 'AUD', name: 'Australian Dollar', symbol: 'A$' },\n  { code: 'CHF', name: 'Swiss Franc', symbol: 'CHF' },\n  { code: 'CNY', name: 'Chinese Yuan', symbol: 'Â¥' },\n  { code: 'INR', name: 'Indian Rupee', symbol: 'â‚¹' },\n  { code: 'SGD', name: 'Singapore Dollar', symbol: 'S$' },\n  { code: 'NZD', name: 'New Zealand Dollar', symbol: 'NZ$' },\n  { code: 'MXN', name: 'Mexican Peso', symbol: '$' },\n  { code: 'BRL', name: 'Brazilian Real', symbol: 'R$' },\n  { code: 'KRW', name: 'South Korean Won', symbol: 'â‚©' },\n  { code: 'SEK', name: 'Swedish Krona', symbol: 'kr' },\n  { code: 'NOK', name: 'Norwegian Krone', symbol: 'kr' },\n  { code: 'DKK', name: 'Danish Krone', symbol: 'kr' },\n  { code: 'PLN', name: 'Polish Zloty', symbol: 'zÅ‚' },\n  { code: 'CZK', name: 'Czech Koruna', symbol: 'KÄ' },\n  { code: 'HUF', name: 'Hungarian Forint', symbol: 'Ft' },\n  { code: 'RUB', name: 'Russian Ruble', symbol: 'â‚½' },\n  { code: 'TRY', name: 'Turkish Lira', symbol: 'â‚º' },\n  { code: 'ZAR', name: 'South African Rand', symbol: 'R' },\n  { code: 'THB', name: 'Thai Baht', symbol: 'à¸¿' },\n  { code: 'MYR', name: 'Malaysian Ringgit', symbol: 'RM' },\n  { code: 'IDR', name: 'Indonesian Rupiah', symbol: 'Rp' },\n  { code: 'PHP', name: 'Philippine Peso', symbol: 'â‚±' },\n  { code: 'VND', name: 'Vietnamese Dong', symbol: 'â‚«' },\n];\n\nclass CurrencyService {\n  private cache: Map<string, ExchangeRate> = new Map();\n  private readonly CACHE_DURATION = 10 * 60 * 1000; // 10 minutes\n\n  // Get cached exchange rate if available and not expired\n  private getCachedRate(from: string, to: string): ExchangeRate | null {\n    const key = `${from}-${to}`;\n    const cached = this.cache.get(key);\n    \n    if (cached && Date.now() - cached.lastUpdated.getTime() < this.CACHE_DURATION) {\n      return cached;\n    }\n    \n    return null;\n  }\n\n  // Cache exchange rate\n  private setCachedRate(rate: ExchangeRate): void {\n    const key = `${rate.from}-${rate.to}`;\n    this.cache.set(key, rate);\n  }\n\n  // Fetch exchange rate from free API (exchangerate-api.io)\n  async getExchangeRate(from: string, to: string): Promise<number> {\n    if (from === to) return 1;\n\n    // Check cache first\n    const cached = this.getCachedRate(from, to);\n    if (cached) {\n      return cached.rate;\n    }\n\n    try {\n      // Using a free exchange rate API\n      const response = await fetch(`https://api.exchangerate-api.com/v4/latest/${from}`);\n      \n      if (!response.ok) {\n        throw new Error('Failed to fetch exchange rate');\n      }\n\n      const data = await response.json();\n      const rate = data.rates[to];\n\n      if (!rate) {\n        throw new Error(`Exchange rate not found for ${from} to ${to}`);\n      }\n\n      // Cache the rate\n      const exchangeRate: ExchangeRate = {\n        from,\n        to,\n        rate,\n        lastUpdated: new Date(),\n      };\n      this.setCachedRate(exchangeRate);\n\n      return rate;\n    } catch (error) {\n      console.error('Error fetching exchange rate:', error);\n      // Fallback to approximate rates for common currencies\n      return this.getFallbackRate(from, to);\n    }\n  }\n\n  // Fallback exchange rates (approximate, for offline use)\n  private getFallbackRate(from: string, to: string): number {\n    const fallbackRates: Record<string, Record<string, number>> = {\n      USD: { EUR: 0.85, GBP: 0.73, JPY: 110, CAD: 1.25, AUD: 1.35 },\n      EUR: { USD: 1.18, GBP: 0.86, JPY: 130, CAD: 1.47, AUD: 1.59 },\n      GBP: { USD: 1.37, EUR: 1.16, JPY: 151, CAD: 1.71, AUD: 1.85 },\n    };\n\n    if (fallbackRates[from]?.[to]) {\n      return fallbackRates[from][to];\n    }\n\n    // If no fallback rate found, return 1 (no conversion)\n    console.warn(`No fallback rate available for ${from} to ${to}`);\n    return 1;\n  }\n\n  // Convert amount between currencies\n  async convertCurrency(amount: number, from: string, to: string): Promise<number> {\n    const rate = await this.getExchangeRate(from, to);\n    return amount * rate;\n  }\n\n  // Get multiple exchange rates at once\n  async getMultipleRates(from: string, toCurrencies: string[]): Promise<Record<string, number>> {\n    const rates: Record<string, number> = {};\n    \n    await Promise.all(\n      toCurrencies.map(async (to) => {\n        try {\n          rates[to] = await this.getExchangeRate(from, to);\n        } catch (error) {\n          console.error(`Failed to get rate for ${from} to ${to}:`, error);\n          rates[to] = 1; // Fallback\n        }\n      })\n    );\n\n    return rates;\n  }\n\n  // Format currency amount with proper symbol and locale\n  formatCurrency(amount: number, currencyCode: string, locale: string = 'en-US'): string {\n    try {\n      return new Intl.NumberFormat(locale, {\n        style: 'currency',\n        currency: currencyCode,\n        minimumFractionDigits: 2,\n        maximumFractionDigits: 2,\n      }).format(amount);\n    } catch (error) {\n      // Fallback formatting\n      const currency = CURRENCIES.find(c => c.code === currencyCode);\n      const symbol = currency?.symbol || currencyCode;\n      return `${symbol}${amount.toFixed(2)}`;\n    }\n  }\n\n  // Get currency info by code\n  getCurrencyInfo(code: string): CurrencyInfo | undefined {\n    return CURRENCIES.find(c => c.code === code);\n  }\n\n  // Get popular currencies for a destination\n  getDestinationCurrencies(country: string): string[] {\n    const countryCurrencyMap: Record<string, string[]> = {\n      'USA': ['USD'],\n      'United States': ['USD'],\n      'France': ['EUR'],\n      'Germany': ['EUR'],\n      'Italy': ['EUR'],\n      'Spain': ['EUR'],\n      'Greece': ['EUR'],\n      'United Kingdom': ['GBP'],\n      'UK': ['GBP'],\n      'England': ['GBP'],\n      'Japan': ['JPY'],\n      'Canada': ['CAD'],\n      'Australia': ['AUD'],\n      'Switzerland': ['CHF'],\n      'China': ['CNY'],\n      'India': ['INR'],\n      'Singapore': ['SGD'],\n      'Thailand': ['THB'],\n      'Indonesia': ['IDR'],\n      'Malaysia': ['MYR'],\n      'Philippines': ['PHP'],\n      'Vietnam': ['VND'],\n      'South Korea': ['KRW'],\n      'Brazil': ['BRL'],\n      'Mexico': ['MXN'],\n      'Russia': ['RUB'],\n      'Turkey': ['TRY'],\n      'South Africa': ['ZAR'],\n    };\n\n    return countryCurrencyMap[country] || ['USD']; // Default to USD\n  }\n}\n\nexport const currencyService = new CurrencyService();","size_bytes":6835},"client/src/lib/errorHandling.ts":{"content":"/**\n * Parses API error responses and returns a formatted error message.\n * Handles both JSON-formatted errors and plain text responses.\n */\nexport async function parseErrorResponse(response: Response): Promise<string> {\n  try {\n    // Try to parse the error response as JSON\n    const errorData = await response.json();\n    \n    if (errorData.message && errorData.errors && Array.isArray(errorData.errors)) {\n      // Format Zod validation errors in a readable way\n      const errorDetails = errorData.errors.map((err: any) => \n        `${err.path.join('.')}: ${err.message}`\n      ).join(', ');\n      \n      return `${errorData.message}. ${errorDetails}`;\n    }\n    \n    // If JSON parsing succeeds but not in the expected format\n    return errorData.message || JSON.stringify(errorData);\n  } catch (parseError) {\n    // If JSON parsing fails, fallback to using status text\n    try {\n      const text = await response.text();\n      return text || response.statusText || `Error ${response.status}`;\n    } catch (textError) {\n      return `Error ${response.status}: ${response.statusText}`;\n    }\n  }\n}","size_bytes":1102},"client/src/lib/firebase.ts":{"content":"import { initializeApp } from \"firebase/app\";\nimport { getAuth, signInWithPopup, signInWithEmailAndPassword, createUserWithEmailAndPassword, \n  signOut, GoogleAuthProvider, FacebookAuthProvider, \n  onAuthStateChanged, type User } from \"firebase/auth\";\nimport { getStorage } from \"firebase/storage\";\nimport { getFirestore, collection, doc, getDoc, setDoc, updateDoc, deleteDoc, query, where, getDocs } from \"firebase/firestore\";\n\n// Firebase configuration\nconst firebaseConfig = {\n  apiKey: import.meta.env.VITE_FIREBASE_API_KEY,\n  authDomain: `${import.meta.env.VITE_FIREBASE_PROJECT_ID}.firebaseapp.com`,\n  projectId: import.meta.env.VITE_FIREBASE_PROJECT_ID,\n  storageBucket: `${import.meta.env.VITE_FIREBASE_PROJECT_ID}.appspot.com`,\n  appId: import.meta.env.VITE_FIREBASE_APP_ID\n};\n\n// Initialize Firebase services\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst storage = getStorage(app);\nconst db = getFirestore(app);\n\n// Authentication providers\nconst googleProvider = new GoogleAuthProvider();\nconst facebookProvider = new FacebookAuthProvider();\n\n// Authentication functions\nexport const signInWithEmail = (email: string, password: string) => {\n  return signInWithEmailAndPassword(auth, email, password);\n};\n\nexport const signUpWithEmail = (email: string, password: string) => {\n  return createUserWithEmailAndPassword(auth, email, password);\n};\n\nexport const signInWithGoogle = () => {\n  return signInWithPopup(auth, googleProvider);\n};\n\nexport const signInWithFacebook = () => {\n  return signInWithPopup(auth, facebookProvider);\n};\n\nexport const logOut = () => {\n  return signOut(auth);\n};\n\nexport const onAuthChange = (callback: (user: User | null) => void) => {\n  return onAuthStateChanged(auth, callback);\n};\n\n// Firestore Database functions\nexport const createDocument = async (collectionName: string, docId: string, data: any) => {\n  try {\n    await setDoc(doc(db, collectionName, docId), data);\n    return { id: docId, ...data };\n  } catch (error) {\n    console.error(\"Error creating document:\", error);\n    throw error;\n  }\n};\n\nexport const getDocument = async (collectionName: string, docId: string) => {\n  try {\n    const docRef = doc(db, collectionName, docId);\n    const docSnap = await getDoc(docRef);\n    \n    if (docSnap.exists()) {\n      return { id: docSnap.id, ...docSnap.data() };\n    } else {\n      return null;\n    }\n  } catch (error) {\n    console.error(\"Error getting document:\", error);\n    throw error;\n  }\n};\n\nexport const updateDocument = async (collectionName: string, docId: string, data: any) => {\n  try {\n    const docRef = doc(db, collectionName, docId);\n    await updateDoc(docRef, data);\n    return { id: docId, ...data };\n  } catch (error) {\n    console.error(\"Error updating document:\", error);\n    throw error;\n  }\n};\n\nexport const deleteDocument = async (collectionName: string, docId: string) => {\n  try {\n    await deleteDoc(doc(db, collectionName, docId));\n    return true;\n  } catch (error) {\n    console.error(\"Error deleting document:\", error);\n    throw error;\n  }\n};\n\nexport const queryDocuments = async (collectionName: string, field: string, operator: any, value: any) => {\n  try {\n    const q = query(collection(db, collectionName), where(field, operator, value));\n    const querySnapshot = await getDocs(q);\n    \n    const results: any[] = [];\n    querySnapshot.forEach((doc) => {\n      results.push({ id: doc.id, ...doc.data() });\n    });\n    \n    return results;\n  } catch (error) {\n    console.error(\"Error querying documents:\", error);\n    throw error;\n  }\n};\n\n// Notifications\nexport const requestNotificationPermission = async () => {\n  try {\n    const permission = await Notification.requestPermission();\n    if (permission === 'granted') {\n      console.log('Notification permission granted');\n      return true;\n    } else {\n      console.log('Notification permission denied');\n      return false;\n    }\n  } catch (error) {\n    console.error('Error requesting notification permission:', error);\n    return false;\n  }\n};\n\n// Export Firebase services\nexport { auth, storage, db, app };\n","size_bytes":4081},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\nimport { parseErrorResponse } from \"./errorHandling\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const errorMessage = await parseErrorResponse(res);\n    throw new Error(errorMessage);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<any> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  // For GET requests or empty responses, handle appropriately\n  if (method === 'GET' || res.status === 204) {\n    return res;\n  }\n  // For all other methods, parse and return the JSON data\n  return await res.json();\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey[0] as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1617},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"client/src/pages/auth.tsx":{"content":"import { useState } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { useAuthContext } from \"@/context/auth-context\";\nimport { Card } from \"@/components/ui/card\";\nimport LoginForm from \"@/components/auth/login-form\";\nimport SignUpForm from \"@/components/auth/signup-form\";\n\nexport default function AuthPage() {\n  const [isLoginForm, setIsLoginForm] = useState(true);\n  const { user, isLoading } = useAuthContext();\n  const [, setLocation] = useLocation();\n\n  // Redirect to dashboard if user is already authenticated\n  if (user && !isLoading) {\n    setLocation(\"/\");\n    return null;\n  }\n\n  const toggleForm = () => {\n    setIsLoginForm(!isLoginForm);\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 p-4\">\n      <div \n        className=\"absolute inset-0 z-0 opacity-25\"\n        style={{\n          backgroundImage: `url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M54.627 0l.83.828-1.415 1.415L51.8 0h2.827zM5.373 0l-.83.828L5.96 2.243 8.2 0H5.374zM48.97 0l3.657 3.657-1.414 1.414L46.143 0h2.828zM11.03 0L7.372 3.657 8.787 5.07 13.857 0H11.03zm32.284 0L49.8 6.485 48.384 7.9l-7.9-7.9h2.83zM16.686 0L10.2 6.485 11.616 7.9l7.9-7.9h-2.83zm20.97 0l9.315 9.314-1.414 1.414L34.828 0h2.83zM22.344 0L13.03 9.314l1.414 1.414L25.172 0h-2.83zM32 0l12.142 12.142-1.414 1.414L30 .828 17.272 13.556l-1.414-1.414L28 0h4zM.284 0l28 28-1.414 1.414L0 2.544V0h.284zM0 5.373l25.456 25.455-1.414 1.415L0 8.2V5.374zm0 5.656l22.627 22.627-1.414 1.414L0 13.86v-2.83zm0 5.656l19.8 19.8-1.415 1.413L0 19.514v-2.83zm0 5.657l16.97 16.97-1.414 1.415L0 25.172v-2.83zM0 28l14.142 14.142-1.414 1.414L0 30.828V28zm0 5.657L11.314 44.97l-1.414 1.414L0 36.485v-2.83zm0 5.657L8.485 47.8l-1.414 1.414L0 42.142v-2.83zm0 5.657l5.657 5.657-1.414 1.415L0 47.8v-2.83zm0 5.657l2.828 2.83-1.414 1.413L0 53.456v-2.83zM54.627 60L30 35.373 5.373 60H8.2L30 38.2 51.8 60h2.827zm-5.656 0L30 41.03 11.03 60h2.828L30 43.858 46.142 60h2.83zm-5.656 0L30 46.686 16.686 60h2.83L30 49.515 40.485 60h2.83zm-5.657 0L30 52.343 22.344 60h2.83L30 55.172 34.828 60h2.83zM32 60l-2-2-2 2h4zM59.716 0l-28 28 1.414 1.414L60 2.544V0h-.284zM60 5.373L34.544 30.828l1.414 1.415L60 8.2V5.374zm0 5.656L37.373 33.656l1.414 1.414L60 13.86v-2.83zm0 5.656l-19.8 19.8 1.415 1.413L60 19.514v-2.83zm0 5.657l-16.97 16.97 1.414 1.415L60 25.172v-2.83zM60 28L45.858 42.142l1.414 1.414L60 30.828V28zm0 5.657L48.686 44.97l1.414 1.414L60 36.485v-2.83zm0 5.657L51.515 47.8l1.414 1.414L60 42.142v-2.83zm0 5.657l-5.657 5.657 1.414 1.415L60 47.8v-2.83zm0 5.657l-2.828 2.83 1.414 1.413L60 53.456v-2.83zM39.9 16.385l1.414-1.414L30 3.658 18.686 14.97l1.415 1.415 9.9-9.9 9.9 9.9zm-2.83 2.828l1.415-1.414L30 9.313 21.515 17.8l1.414 1.413L30 11.97l7.07 7.242zm-2.827 2.83l1.414-1.416L30 14.97l-5.657 5.657 1.414 1.415L30 17.8l4.243 4.242zm-2.83 2.827l1.415-1.414L30 20.626l-2.828 2.83 1.414 1.414L30 23.456l1.414 1.414zM56.87 59.414L58.284 58 30 29.716 1.716 58l1.414 1.414L30 32.544l26.87 26.87z' fill='%234b5563' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E\")`\n        }}\n      />\n      <Card className=\"bg-white rounded-xl shadow-xl overflow-hidden max-w-md w-full z-10\">\n        {isLoginForm ? (\n          <LoginForm onToggleForm={toggleForm} />\n        ) : (\n          <SignUpForm onToggleForm={toggleForm} />\n        )}\n      </Card>\n    </div>\n  );\n}\n","size_bytes":3400},"client/src/pages/budget.tsx":{"content":"import { useState } from 'react';\nimport { useParams } from 'wouter';\nimport { useQuery } from '@tanstack/react-query';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { BudgetDashboard } from '@/components/budget/budget-dashboard';\nimport { AddExpenseForm } from '@/components/budget/add-expense-form';\nimport { ArrowLeft, DollarSign, Plus, Calculator } from 'lucide-react';\nimport { Link } from 'wouter';\nimport type { Trip, Budget, Expense } from '@shared/schema';\n\nexport function BudgetPage() {\n  const { tripId } = useParams<{ tripId: string }>();\n  const [showAddExpense, setShowAddExpense] = useState(false);\n  const [showCreateBudget, setShowCreateBudget] = useState(false);\n  const [userCurrency] = useState('USD'); // This could come from user preferences\n\n  const tripIdNum = tripId ? parseInt(tripId) : 0;\n\n  // Fetch trip details\n  const { data: trip } = useQuery<Trip>({\n    queryKey: ['/api/trips', tripIdNum],\n    queryFn: () => fetch(`/api/trips/${tripIdNum}`).then(res => res.json()),\n    enabled: !!tripIdNum,\n  });\n\n  // Fetch budget\n  const { data: budget } = useQuery<Budget | null>({\n    queryKey: ['/api/trips', tripIdNum, 'budget'],\n    queryFn: () => fetch(`/api/trips/${tripIdNum}/budget`).then(res => {\n      if (res.status === 404) return null;\n      return res.json();\n    }),\n    enabled: !!tripIdNum,\n  });\n\n  // Fetch expenses\n  const { data: expenses = [] } = useQuery<Expense[]>({\n    queryKey: ['/api/trips', tripIdNum, 'expenses'],\n    queryFn: () => fetch(`/api/trips/${tripIdNum}/expenses`).then(res => res.json()),\n    enabled: !!tripIdNum,\n  });\n\n  if (!trip) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h2 className=\"text-xl font-semibold mb-2\">Trip not found</h2>\n          <Link href=\"/trips\">\n            <Button variant=\"outline\">\n              <ArrowLeft className=\"w-4 h-4 mr-2\" />\n              Back to Trips\n            </Button>\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-6\">\n      <div className=\"max-w-6xl mx-auto\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-6\">\n          <div className=\"flex items-center gap-4\">\n            <Link href={`/trips/${tripId}`}>\n              <Button variant=\"outline\" size=\"sm\">\n                <ArrowLeft className=\"w-4 h-4 mr-2\" />\n                Back to Trip\n              </Button>\n            </Link>\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900\">Trip Budget</h1>\n              <p className=\"text-gray-600\">{trip.title}</p>\n            </div>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <DollarSign className=\"w-6 h-6 text-green-600\" />\n            <span className=\"text-sm text-gray-600\">Currency: {userCurrency}</span>\n          </div>\n        </div>\n\n        {/* Add Expense Modal */}\n        {showAddExpense && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <AddExpenseForm\n              tripId={tripIdNum}\n              userId={1} // This should come from auth context\n              defaultCurrency={userCurrency}\n              onSuccess={() => setShowAddExpense(false)}\n              onCancel={() => setShowAddExpense(false)}\n            />\n          </div>\n        )}\n\n        {/* Create Budget Modal */}\n        {showCreateBudget && !budget && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <CreateBudgetForm\n              tripId={tripIdNum}\n              userId={1} // This should come from auth context\n              defaultCurrency={userCurrency}\n              onSuccess={() => setShowCreateBudget(false)}\n              onCancel={() => setShowCreateBudget(false)}\n            />\n          </div>\n        )}\n\n        <Tabs defaultValue=\"dashboard\" className=\"space-y-6\">\n          <TabsList>\n            <TabsTrigger value=\"dashboard\">Dashboard</TabsTrigger>\n            <TabsTrigger value=\"expenses\">Expenses</TabsTrigger>\n            <TabsTrigger value=\"analytics\">Analytics</TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"dashboard\">\n            <BudgetDashboard\n              tripId={tripIdNum}\n              userCurrency={userCurrency}\n              onAddExpense={() => setShowAddExpense(true)}\n              onViewDetails={() => {/* Switch to expenses tab */}}\n            />\n          </TabsContent>\n\n          <TabsContent value=\"expenses\">\n            <ExpensesList\n              expenses={expenses}\n              userCurrency={userCurrency}\n              onAddExpense={() => setShowAddExpense(true)}\n            />\n          </TabsContent>\n\n          <TabsContent value=\"analytics\">\n            <BudgetAnalytics\n              budget={budget || null}\n              expenses={expenses}\n              userCurrency={userCurrency}\n            />\n          </TabsContent>\n        </Tabs>\n      </div>\n    </div>\n  );\n}\n\n// Simple components for the budget features\nfunction CreateBudgetForm({ tripId, userId, defaultCurrency, onSuccess, onCancel }: {\n  tripId: number;\n  userId: number;\n  defaultCurrency: string;\n  onSuccess: () => void;\n  onCancel: () => void;\n}) {\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>Create Trip Budget</CardTitle>\n      </CardHeader>\n      <CardContent>\n        <p className=\"text-gray-600 mb-4\">\n          Set up your budget categories and amounts for this trip.\n        </p>\n        <div className=\"flex gap-2\">\n          <Button onClick={onSuccess}>Create Budget</Button>\n          <Button variant=\"outline\" onClick={onCancel}>Cancel</Button>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction ExpensesList({ expenses, userCurrency, onAddExpense }: {\n  expenses: Expense[];\n  userCurrency: string;\n  onAddExpense: () => void;\n}) {\n  return (\n    <Card>\n      <CardHeader>\n        <div className=\"flex items-center justify-between\">\n          <CardTitle>Recent Expenses</CardTitle>\n          <Button onClick={onAddExpense}>\n            <Plus className=\"w-4 h-4 mr-2\" />\n            Add Expense\n          </Button>\n        </div>\n      </CardHeader>\n      <CardContent>\n        {expenses.length === 0 ? (\n          <p className=\"text-gray-500 text-center py-8\">\n            No expenses recorded yet. Start tracking your spending!\n          </p>\n        ) : (\n          <div className=\"space-y-2\">\n            {expenses.map((expense) => (\n              <div key={expense.id} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                <div>\n                  <h4 className=\"font-medium\">{expense.description}</h4>\n                  <p className=\"text-sm text-gray-600 capitalize\">{expense.category}</p>\n                </div>\n                <div className=\"text-right\">\n                  <p className=\"font-medium\">{parseFloat(expense.amount).toFixed(2)} {expense.currency}</p>\n                  <p className=\"text-sm text-gray-600\">{new Date(expense.date).toLocaleDateString()}</p>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction BudgetAnalytics({ budget, expenses, userCurrency }: {\n  budget: Budget | null;\n  expenses: Expense[];\n  userCurrency: string;\n}) {\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>Budget Analytics</CardTitle>\n      </CardHeader>\n      <CardContent>\n        <p className=\"text-gray-600\">\n          Detailed spending analysis and budget insights coming soon!\n        </p>\n      </CardContent>\n    </Card>\n  );\n}","size_bytes":7859},"client/src/pages/dashboard.tsx":{"content":"import { useState } from \"react\";\nimport { Link } from \"wouter\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { useAuthContext } from \"@/context/auth-context\";\nimport { Button } from \"@/components/ui/button\";\nimport Sidebar from \"@/components/ui/sidebar\";\nimport MobileNav from \"@/components/ui/mobile-nav\";\nimport StatsCard from \"@/components/dashboard/stats-card\";\nimport TripCard from \"@/components/dashboard/trip-card\";\nimport DestinationCard from \"@/components/dashboard/destination-card\";\nimport NotificationItem from \"@/components/dashboard/notification-item\";\nimport PhotoGallery from \"@/components/dashboard/photo-gallery\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport AddTripForm from \"@/components/trips/add-trip-form\";\nimport { ChevronLeft, ChevronRight, MapPin, Calendar, Images, Plus } from \"lucide-react\";\nimport { differenceInDays } from \"date-fns\";\nimport { useToast } from \"@/hooks/use-toast\";\n\nexport default function Dashboard() {\n  const [showMobileMenu, setShowMobileMenu] = useState(false);\n  const [isAddTripDialogOpen, setIsAddTripDialogOpen] = useState(false);\n  const { user, userId } = useAuthContext();\n  const { toast } = useToast();\n\n  const { data: dbUser } = useQuery({\n    queryKey: [`/api/users/uid/${user?.uid}`],\n    enabled: !!user?.uid,\n  });\n\n  const { data: trips = [] } = useQuery({\n    queryKey: [`/api/users/${dbUser?.id}/trips`],\n    enabled: !!dbUser?.id,\n  });\n\n  const { data: destinations = [] } = useQuery({\n    queryKey: ['/api/destinations'],\n  });\n\n  const { data: notifications = [] } = useQuery({\n    queryKey: [`/api/users/${dbUser?.id}/notifications`],\n    enabled: !!dbUser?.id,\n  });\n\n  const { data: photos = [] } = useQuery({\n    queryKey: [`/api/users/${dbUser?.id}/photos`],\n    enabled: !!dbUser?.id,\n  });\n\n  // Helper function to get destination info for a trip\n  const getDestinationForTrip = (destinationId: number) => {\n    return destinations.find((d: any) => d.id === destinationId) || { \n      name: \"Unknown\", \n      country: \"Location\",\n      imageUrl: \"\"\n    };\n  };\n\n  // Calculate days until next trip\n  const calculateDaysUntilNextTrip = (): number => {\n    if (!trips || trips.length === 0) return 0;\n    \n    const sortedTrips = [...trips].sort((a, b) => \n      new Date(a.startDate).getTime() - new Date(b.startDate).getTime()\n    );\n    \n    const upcomingTrips = sortedTrips.filter(trip => \n      new Date(trip.startDate) > new Date()\n    );\n    \n    if (upcomingTrips.length === 0) return 0;\n    \n    const nextTrip = upcomingTrips[0];\n    return differenceInDays(new Date(nextTrip.startDate), new Date());\n  };\n\n  const handleAddTrip = () => {\n    setIsAddTripDialogOpen(true);\n  };\n\n  const handleAddTripSuccess = () => {\n    setIsAddTripDialogOpen(false);\n    toast({\n      title: \"Trip created successfully\",\n      description: \"Your new trip has been added to your itinerary\",\n    });\n  };\n\n  return (\n    <div className=\"min-h-screen flex bg-gray-50\">\n      {/* Sidebar - Desktop */}\n      <Sidebar />\n      \n      {/* Mobile Header */}\n      <div className=\"lg:hidden fixed top-0 left-0 right-0 bg-white border-b border-gray-200 z-20\">\n        <div className=\"flex items-center justify-between p-4\">\n          <h1 className=\"text-xl font-bold font-heading text-primary\">Wanderlust</h1>\n          <button \n            onClick={() => setShowMobileMenu(!showMobileMenu)}\n            className=\"text-gray-600 focus:outline-none\"\n          >\n            {showMobileMenu ? (\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            ) : (\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\n              </svg>\n            )}\n          </button>\n        </div>\n      </div>\n      \n      {/* Mobile Menu */}\n      {showMobileMenu && (\n        <div className=\"lg:hidden fixed inset-0 z-10 bg-black bg-opacity-50\">\n          <div className=\"bg-white w-64 h-full overflow-y-auto\">\n            <div className=\"p-5 border-b border-gray-200 flex justify-between items-center\">\n              <h1 className=\"text-xl font-bold font-heading text-primary\">Wanderlust</h1>\n              <button \n                onClick={() => setShowMobileMenu(false)}\n                className=\"text-gray-600\"\n              >\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n            \n            <nav className=\"p-4 space-y-1\">\n              <Link href=\"/\">\n                <a className=\"flex items-center px-4 py-3 text-gray-800 bg-indigo-50 rounded-lg\">\n                  <span className=\"text-primary w-5\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" />\n                    </svg>\n                  </span>\n                  <span className=\"ml-3 font-medium\">Dashboard</span>\n                </a>\n              </Link>\n              <Link href=\"/destinations\">\n                <a className=\"flex items-center px-4 py-3 text-gray-600 hover:bg-gray-100 rounded-lg\">\n                  <span className=\"text-gray-500 w-5\">\n                    <MapPin className=\"h-5 w-5\" />\n                  </span>\n                  <span className=\"ml-3\">Destinations</span>\n                </a>\n              </Link>\n              <Link href=\"/trips\">\n                <a className=\"flex items-center px-4 py-3 text-gray-600 hover:bg-gray-100 rounded-lg\">\n                  <span className=\"text-gray-500 w-5\">\n                    <Calendar className=\"h-5 w-5\" />\n                  </span>\n                  <span className=\"ml-3\">Itineraries</span>\n                </a>\n              </Link>\n              <Link href=\"/gallery\">\n                <a className=\"flex items-center px-4 py-3 text-gray-600 hover:bg-gray-100 rounded-lg\">\n                  <span className=\"text-gray-500 w-5\">\n                    <Images className=\"h-5 w-5\" />\n                  </span>\n                  <span className=\"ml-3\">Travel Gallery</span>\n                </a>\n              </Link>\n            </nav>\n          </div>\n        </div>\n      )}\n      \n      {/* Main Content */}\n      <main className=\"flex-1 p-4 lg:p-8 mt-16 lg:mt-0 overflow-y-auto pb-16 lg:pb-8\">\n        <div className=\"max-w-7xl mx-auto\">\n          {/* Welcome Section */}\n          <div className=\"mb-8\">\n            <h2 className=\"text-2xl font-bold font-heading\">\n              Welcome back, <span>{user?.displayName?.split(' ')[0] || \"Traveler\"}</span>!\n            </h2>\n            <p className=\"text-gray-600 mt-1\">Your next adventure awaits.</p>\n          </div>\n          \n          {/* Stats Overview */}\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n            <StatsCard \n              icon={<MapPin />} \n              value={trips?.length || 0} \n              label=\"Planned Trips\" \n              iconClassName=\"text-primary\"\n              iconBgClassName=\"bg-indigo-100\"\n            />\n            \n            <StatsCard \n              icon={<Calendar />} \n              value={`${calculateDaysUntilNextTrip()} days`} \n              label=\"Until Next Trip\" \n              iconClassName=\"text-secondary\"\n              iconBgClassName=\"bg-blue-100\"\n            />\n            \n            <StatsCard \n              icon={<Images />} \n              value={photos?.length || 0} \n              label=\"Saved Photos\" \n              iconClassName=\"text-accent\"\n              iconBgClassName=\"bg-amber-100\"\n            />\n          </div>\n          \n          {/* Upcoming Trips Section */}\n          <div className=\"mb-10\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <h2 className=\"text-xl font-bold font-heading\">Your Upcoming Trips</h2>\n              <Link href=\"/trips\">\n                <a className=\"text-primary hover:text-indigo-700 font-medium text-sm flex items-center\">\n                  <span>View all</span>\n                  <ChevronRight className=\"ml-1 h-4 w-4\" />\n                </a>\n              </Link>\n            </div>\n            \n            {trips && trips.length > 0 ? (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                {trips.slice(0, 3).map((trip: any) => {\n                  const destination = getDestinationForTrip(trip.destinationId);\n                  return (\n                    <TripCard \n                      key={trip.id} \n                      trip={trip} \n                      destinationName={destination.name} \n                      destinationCountry={destination.country}\n                    />\n                  );\n                })}\n              </div>\n            ) : (\n              <div className=\"text-center p-8 bg-gray-50 rounded-lg border border-dashed border-gray-300\">\n                <MapPin className=\"mx-auto h-12 w-12 text-gray-400\" />\n                <h3 className=\"mt-4 text-lg font-medium text-gray-900\">No trips planned yet</h3>\n                <p className=\"mt-2 text-sm text-gray-500\">Get started by creating your first trip itinerary.</p>\n              </div>\n            )}\n            \n            {/* Add New Trip Button */}\n            <Button \n              variant=\"outline\" \n              className=\"mt-6 w-full md:w-auto border-dashed\"\n              onClick={handleAddTrip}\n            >\n              <Plus className=\"mr-2 h-4 w-4\" />\n              <span>Plan a new trip</span>\n            </Button>\n          </div>\n          \n          {/* Discover Destinations Section */}\n          <div className=\"mb-10\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <h2 className=\"text-xl font-bold font-heading\">Discover Destinations</h2>\n              <Link href=\"/destinations\">\n                <a className=\"text-primary hover:text-indigo-700 font-medium text-sm flex items-center\">\n                  <span>Explore all</span>\n                  <ChevronRight className=\"ml-1 h-4 w-4\" />\n                </a>\n              </Link>\n            </div>\n            \n            <div className=\"relative\">\n              <div className=\"flex overflow-x-auto pb-4 space-x-4 scrollbar-hide\">\n                {destinations.map((destination: any) => (\n                  <DestinationCard\n                    key={destination.id}\n                    destination={destination}\n                    onSelect={() => {\n                      handleAddTrip();\n                    }}\n                  />\n                ))}\n              </div>\n              \n              {/* Scroll buttons */}\n              <Button\n                variant=\"secondary\"\n                size=\"icon\"\n                className=\"absolute left-0 top-1/2 -translate-y-1/2 -ml-4 bg-white rounded-full w-8 h-8 shadow-md text-gray-600 hover:text-primary\"\n              >\n                <ChevronLeft className=\"h-4 w-4\" />\n              </Button>\n              <Button\n                variant=\"secondary\"\n                size=\"icon\"\n                className=\"absolute right-0 top-1/2 -translate-y-1/2 -mr-4 bg-white rounded-full w-8 h-8 shadow-md text-gray-600 hover:text-primary\"\n              >\n                <ChevronRight className=\"h-4 w-4\" />\n              </Button>\n            </div>\n          </div>\n          \n          {/* Recent Notifications & Travel Gallery Section */}\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n            {/* Notifications */}\n            <div className=\"lg:col-span-1\">\n              <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-100\">\n                <div className=\"flex justify-between items-center mb-6\">\n                  <h2 className=\"text-lg font-bold font-heading\">Notifications</h2>\n                  <span className=\"bg-indigo-100 text-primary text-xs font-medium px-2 py-1 rounded-full\">\n                    {notifications.filter((n: any) => !n.isRead).length} new\n                  </span>\n                </div>\n                \n                {notifications && notifications.length > 0 ? (\n                  <div className=\"space-y-4\">\n                    {notifications.slice(0, 3).map((notification: any) => (\n                      <NotificationItem \n                        key={notification.id} \n                        notification={notification} \n                      />\n                    ))}\n                  </div>\n                ) : (\n                  <div className=\"text-center py-8\">\n                    <p className=\"text-gray-500\">No notifications yet</p>\n                  </div>\n                )}\n                \n                <Link href=\"/notifications\">\n                  <a className=\"w-full text-center text-primary text-sm font-medium mt-4 block\">\n                    View all notifications\n                  </a>\n                </Link>\n              </div>\n            </div>\n            \n            {/* Travel Gallery */}\n            <div className=\"lg:col-span-2\">\n              <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-100\">\n                <div className=\"flex justify-between items-center mb-6\">\n                  <h2 className=\"text-lg font-bold font-heading\">Your Travel Gallery</h2>\n                  <Link href=\"/gallery\">\n                    <a className=\"text-primary hover:text-indigo-700 text-sm font-medium\">\n                      Upload Photos\n                    </a>\n                  </Link>\n                </div>\n                \n                {photos && photos.length > 0 ? (\n                  <PhotoGallery photos={photos} userId={dbUser?.id} />\n                ) : (\n                  <div className=\"text-center py-12\">\n                    <Images className=\"mx-auto h-12 w-12 text-gray-400\" />\n                    <h3 className=\"mt-4 text-lg font-medium text-gray-900\">No photos yet</h3>\n                    <p className=\"mt-2 text-sm text-gray-500\">Upload your travel memories to your gallery.</p>\n                    <Link href=\"/gallery\">\n                      <a className=\"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary hover:bg-indigo-600\">\n                        Upload your first photo\n                      </a>\n                    </Link>\n                  </div>\n                )}\n                \n                {photos && photos.length > 0 && (\n                  <Link href=\"/gallery\">\n                    <a className=\"w-full text-center text-primary text-sm font-medium mt-4 block\">\n                      View all photos\n                    </a>\n                  </Link>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </main>\n      \n      {/* Mobile Navigation */}\n      <MobileNav />\n      \n      {/* Add Trip Dialog */}\n      <Dialog open={isAddTripDialogOpen} onOpenChange={setIsAddTripDialogOpen}>\n        <DialogContent className=\"sm:max-w-[600px]\">\n          <DialogHeader>\n            <DialogTitle>Plan a New Trip</DialogTitle>\n          </DialogHeader>\n          <AddTripForm onSuccess={handleAddTripSuccess} />\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n","size_bytes":15984},"client/src/pages/destination-details.tsx":{"content":"import { useState } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { useParams } from 'wouter';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\nimport { Star, MapPin, Camera, ArrowLeft } from 'lucide-react';\nimport { InteractiveMap } from '@/components/maps/interactive-map';\nimport { HotelCard } from '@/components/hotels/hotel-card';\nimport { PlaceCard } from '@/components/places/place-card';\nimport { ReviewCard } from '@/components/reviews/review-card';\nimport { AddReviewForm } from '@/components/reviews/add-review-form';\nimport { useAuthContext } from '@/context/auth-context';\nimport type { Destination, Hotel, Place, Review, User } from '@shared/schema';\n\nexport default function DestinationDetails() {\n  const params = useParams();\n  const destinationId = parseInt(params.id!);\n  const { user, userId } = useAuthContext();\n  const [selectedItem, setSelectedItem] = useState<any>(null);\n  const [showAddReview, setShowAddReview] = useState(false);\n  const [show360View, setShow360View] = useState<string | null>(null);\n\n  // Fetch destination details\n  const { data: destination } = useQuery<Destination>({\n    queryKey: ['/api/destinations', destinationId],\n    queryFn: () => fetch(`/api/destinations/${destinationId}`).then(res => res.json()),\n  });\n\n  // Fetch hotels\n  const { data: hotels = [] } = useQuery<Hotel[]>({\n    queryKey: ['/api/destinations', destinationId, 'hotels'],\n    queryFn: () => fetch(`/api/destinations/${destinationId}/hotels`).then(res => res.json()),\n    enabled: !!destinationId,\n  });\n\n  // Fetch places\n  const { data: places = [] } = useQuery<Place[]>({\n    queryKey: ['/api/destinations', destinationId, 'places'],\n    queryFn: () => fetch(`/api/destinations/${destinationId}/places`).then(res => res.json()),\n    enabled: !!destinationId,\n  });\n\n  // Fetch reviews for hotels and places\n  const { data: reviews = [] } = useQuery<Review[]>({\n    queryKey: ['/api/reviews'],\n    queryFn: () => fetch('/api/reviews').then(res => res.json()),\n  });\n\n  if (!destination) {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"text-center\">Loading destination details...</div>\n      </div>\n    );\n  }\n\n  // Prepare map locations\n  const mapLocations = [\n    ...(destination.latitude && destination.longitude ? [{\n      id: destination.id,\n      name: destination.name,\n      latitude: destination.latitude,\n      longitude: destination.longitude,\n      type: 'destination' as const,\n      rating: destination.rating,\n      description: destination.description,\n      category: destination.category,\n    }] : []),\n    ...hotels.map(hotel => ({\n      id: hotel.id,\n      name: hotel.name,\n      latitude: hotel.latitude,\n      longitude: hotel.longitude,\n      type: 'hotel' as const,\n      rating: hotel.rating,\n      description: hotel.description,\n      virtual360Url: hotel.virtual360Url,\n      website: hotel.website,\n    })),\n    ...places.map(place => ({\n      id: place.id,\n      name: place.name,\n      latitude: place.latitude,\n      longitude: place.longitude,\n      type: 'place' as const,\n      rating: place.rating,\n      description: place.description,\n      category: place.category,\n      virtual360Url: place.virtual360Url,\n      website: place.website,\n      priceRange: place.priceRange,\n    })),\n  ];\n\n  const mapCenter = destination.latitude && destination.longitude \n    ? { lat: parseFloat(destination.latitude), lng: parseFloat(destination.longitude) }\n    : { lat: 48.8566, lng: 2.3522 };\n\n  const handle360View = (url: string) => {\n    setShow360View(url);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Hero Section */}\n      <div className=\"relative h-96 overflow-hidden\">\n        {destination.imageUrl && (\n          <img\n            src={destination.imageUrl}\n            alt={destination.name}\n            className=\"w-full h-full object-cover\"\n          />\n        )}\n        <div className=\"absolute inset-0 bg-black/40\" />\n        <div className=\"absolute inset-0 flex items-end\">\n          <div className=\"container mx-auto px-4 pb-8 text-white\">\n            <Button\n              variant=\"secondary\"\n              size=\"sm\"\n              className=\"mb-4\"\n              onClick={() => window.history.back()}\n            >\n              <ArrowLeft className=\"w-4 h-4 mr-2\" />\n              Back\n            </Button>\n            \n            <h1 className=\"text-4xl font-bold mb-2\">{destination.name}</h1>\n            <div className=\"flex items-center gap-4 mb-2\">\n              <div className=\"flex items-center gap-1\">\n                <MapPin className=\"w-5 h-5\" />\n                <span>{destination.city}, {destination.country}</span>\n              </div>\n              {destination.rating && (\n                <div className=\"flex items-center gap-1\">\n                  <Star className=\"w-5 h-5 fill-yellow-400 text-yellow-400\" />\n                  <span>{destination.rating}</span>\n                </div>\n              )}\n              {destination.category && (\n                <Badge variant=\"secondary\">{destination.category}</Badge>\n              )}\n            </div>\n            {destination.description && (\n              <p className=\"text-lg max-w-2xl\">{destination.description}</p>\n            )}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"container mx-auto px-4 py-8\">\n        {/* Interactive Map */}\n        <Card className=\"mb-8\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <MapPin className=\"w-5 h-5\" />\n              Explore Area\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <InteractiveMap\n              locations={mapLocations}\n              center={mapCenter}\n              height=\"400px\"\n              onLocationClick={setSelectedItem}\n            />\n          </CardContent>\n        </Card>\n\n        {/* Content Tabs */}\n        <Tabs defaultValue=\"hotels\" className=\"space-y-6\">\n          <TabsList className=\"grid w-full grid-cols-3\">\n            <TabsTrigger value=\"hotels\">Hotels ({hotels.length})</TabsTrigger>\n            <TabsTrigger value=\"places\">Places ({places.length})</TabsTrigger>\n            <TabsTrigger value=\"reviews\">Reviews ({reviews.length})</TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"hotels\" className=\"space-y-6\">\n            <div className=\"flex items-center justify-between\">\n              <h2 className=\"text-2xl font-bold\">Hotels & Accommodation</h2>\n            </div>\n            \n            {hotels.length === 0 ? (\n              <Card>\n                <CardContent className=\"py-8 text-center text-muted-foreground\">\n                  No hotels available for this destination yet.\n                </CardContent>\n              </Card>\n            ) : (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                {hotels.map((hotel) => (\n                  <HotelCard\n                    key={hotel.id}\n                    hotel={hotel}\n                    onViewDetails={setSelectedItem}\n                    onView360={(hotel) => hotel.virtual360Url && handle360View(hotel.virtual360Url)}\n                  />\n                ))}\n              </div>\n            )}\n          </TabsContent>\n\n          <TabsContent value=\"places\" className=\"space-y-6\">\n            <div className=\"flex items-center justify-between\">\n              <h2 className=\"text-2xl font-bold\">Places to Visit</h2>\n            </div>\n            \n            {places.length === 0 ? (\n              <Card>\n                <CardContent className=\"py-8 text-center text-muted-foreground\">\n                  No places available for this destination yet.\n                </CardContent>\n              </Card>\n            ) : (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                {places.map((place) => (\n                  <PlaceCard\n                    key={place.id}\n                    place={place}\n                    onViewDetails={setSelectedItem}\n                    onView360={(place) => place.virtual360Url && handle360View(place.virtual360Url)}\n                  />\n                ))}\n              </div>\n            )}\n          </TabsContent>\n\n          <TabsContent value=\"reviews\" className=\"space-y-6\">\n            <div className=\"flex items-center justify-between\">\n              <h2 className=\"text-2xl font-bold\">Reviews & Experiences</h2>\n              {userId && (\n                <Button onClick={() => setShowAddReview(true)}>\n                  Write a Review\n                </Button>\n              )}\n            </div>\n\n            {showAddReview && userId && (\n              <AddReviewForm\n                userId={userId}\n                onSuccess={() => setShowAddReview(false)}\n              />\n            )}\n            \n            {reviews.length === 0 ? (\n              <Card>\n                <CardContent className=\"py-8 text-center text-muted-foreground\">\n                  No reviews yet. Be the first to share your experience!\n                </CardContent>\n              </Card>\n            ) : (\n              <div className=\"space-y-4\">\n                {reviews.map((review) => (\n                  <ReviewCard\n                    key={review.id}\n                    review={review}\n                    onView360={(review) => review.virtual360Url && handle360View(review.virtual360Url)}\n                  />\n                ))}\n              </div>\n            )}\n          </TabsContent>\n        </Tabs>\n      </div>\n\n      {/* 360Â° View Modal */}\n      <Dialog open={!!show360View} onOpenChange={() => setShow360View(null)}>\n        <DialogContent className=\"max-w-4xl h-[80vh]\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\">\n              <Camera className=\"w-5 h-5\" />\n              360Â° Experience\n            </DialogTitle>\n          </DialogHeader>\n          <div className=\"flex-1\">\n            {show360View && (\n              <iframe\n                src={show360View}\n                className=\"w-full h-full rounded-lg\"\n                allowFullScreen\n                title=\"360Â° View\"\n              />\n            )}\n          </div>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}","size_bytes":10607},"client/src/pages/destinations.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport Sidebar from \"@/components/ui/sidebar\";\nimport MobileNav from \"@/components/ui/mobile-nav\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Star, MapPin, Search, Eye } from \"lucide-react\";\nimport { Link } from \"wouter\";\nimport AddTripForm from \"@/components/trips/add-trip-form\";\n\nexport default function Destinations() {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\n  const [selectedDestination, setSelectedDestination] = useState<any>(null);\n  const [isPlanTripDialogOpen, setIsPlanTripDialogOpen] = useState(false);\n\n  const { data: destinations = [] } = useQuery({\n    queryKey: ['/api/destinations'],\n  });\n\n  const handleSearch = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setSearchTerm(e.target.value);\n  };\n\n  const handleCategoryChange = (value: string) => {\n    setSelectedCategory(value);\n  };\n\n  const handlePlanTrip = (destination: any) => {\n    setSelectedDestination(destination);\n    setIsPlanTripDialogOpen(true);\n  };\n\n  const handlePlanTripSuccess = () => {\n    setIsPlanTripDialogOpen(false);\n  };\n\n  // Filter destinations based on search term and category\n  const filteredDestinations = destinations.filter((destination: any) => {\n    const matchesSearch = \n      destination.name.toLowerCase().includes(searchTerm.toLowerCase()) || \n      destination.country.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    const matchesCategory = \n      selectedCategory === \"\" || \n      destination.category === selectedCategory;\n    \n    return matchesSearch && matchesCategory;\n  });\n\n  // Get unique categories for the filter dropdown\n  const categories = Array.from(\n    new Set(destinations.map((d: any) => d.category))\n  );\n\n  return (\n    <div className=\"min-h-screen flex bg-gray-50\">\n      {/* Sidebar - Desktop */}\n      <Sidebar />\n      \n      {/* Main Content */}\n      <main className=\"flex-1 p-4 lg:p-8 mt-16 lg:mt-0 overflow-y-auto pb-16 lg:pb-8\">\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"mb-8\">\n            <h1 className=\"text-3xl font-bold font-heading\">Explore Destinations</h1>\n            <p className=\"text-gray-600 mt-2\">Discover new places and plan your next adventure</p>\n          </div>\n          \n          {/* Search and Filters */}\n          <div className=\"mb-8 flex flex-col md:flex-row gap-4\">\n            <div className=\"relative flex-1\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={18} />\n              <Input\n                type=\"text\"\n                placeholder=\"Search destinations...\"\n                className=\"pl-10\"\n                value={searchTerm}\n                onChange={handleSearch}\n              />\n            </div>\n            <div className=\"w-full md:w-[200px]\">\n              <Select value={selectedCategory} onValueChange={handleCategoryChange}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"Filter by category\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"all\">All Categories</SelectItem>\n                  {categories.map((category) => (\n                    <SelectItem key={category} value={category}>\n                      {category}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n          \n          {/* Destinations Grid */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {filteredDestinations.map((destination: any) => (\n              <Card key={destination.id} className=\"overflow-hidden hover:shadow-md transition-shadow duration-300\">\n                <div className=\"relative h-48\">\n                  <img\n                    src={destination.imageUrl}\n                    alt={destination.name}\n                    className=\"w-full h-full object-cover\"\n                  />\n                  <div className=\"absolute top-4 right-4 bg-white/80 backdrop-blur-sm rounded-full px-2 py-1 text-xs font-medium flex items-center\">\n                    <Star className=\"h-3 w-3 text-yellow-400 fill-yellow-400 mr-1\" />\n                    <span>{destination.rating}</span>\n                  </div>\n                  <div className=\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4\">\n                    <h3 className=\"text-white font-bold\">{destination.name}, {destination.country}</h3>\n                    <div className=\"flex items-center text-white/90 text-xs mt-1\">\n                      <MapPin className=\"h-3 w-3 mr-1\" />\n                      <span>{destination.category}</span>\n                    </div>\n                  </div>\n                </div>\n                <CardContent className=\"p-4\">\n                  <p className=\"text-gray-600 text-sm mb-4 line-clamp-3\">\n                    {destination.description}\n                  </p>\n                  <div className=\"flex gap-2\">\n                    <Link href={`/destinations/${destination.id}`} className=\"flex-1\">\n                      <Button variant=\"outline\" className=\"w-full\">\n                        <Eye className=\"w-4 h-4 mr-2\" />\n                        View Details\n                      </Button>\n                    </Link>\n                    <Button\n                      onClick={() => handlePlanTrip(destination)}\n                      className=\"flex-1\"\n                    >\n                      Plan a Trip\n                    </Button>\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n          \n          {filteredDestinations.length === 0 && (\n            <div className=\"text-center p-12 bg-gray-50 rounded-lg border border-dashed border-gray-300 mt-8\">\n              <MapPin className=\"mx-auto h-12 w-12 text-gray-400\" />\n              <h3 className=\"mt-4 text-lg font-medium text-gray-900\">No destinations found</h3>\n              <p className=\"mt-2 text-sm text-gray-500\">Try adjusting your search or filter criteria.</p>\n            </div>\n          )}\n        </div>\n      </main>\n      \n      {/* Mobile Navigation */}\n      <MobileNav />\n      \n      {/* Plan Trip Dialog */}\n      <Dialog open={isPlanTripDialogOpen} onOpenChange={setIsPlanTripDialogOpen}>\n        <DialogContent className=\"sm:max-w-[600px]\">\n          <DialogHeader>\n            <DialogTitle>\n              {selectedDestination && `Plan a Trip to ${selectedDestination.name}`}\n            </DialogTitle>\n          </DialogHeader>\n          <AddTripForm onSuccess={handlePlanTripSuccess} />\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n","size_bytes":7175},"client/src/pages/firebase-test.tsx":{"content":"import Sidebar from \"@/components/ui/sidebar\";\nimport MobileNav from \"@/components/ui/mobile-nav\";\nimport FirebaseDatabaseTest from \"@/components/firebase-database-test\";\n\nexport default function FirebaseTest() {\n  return (\n    <div className=\"min-h-screen flex bg-gray-50\">\n      {/* Sidebar - Desktop */}\n      <Sidebar />\n      \n      {/* Main Content */}\n      <main className=\"flex-1 p-4 lg:p-8 mt-16 lg:mt-0 overflow-y-auto pb-16 lg:pb-8\">\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"mb-8\">\n            <h1 className=\"text-3xl font-bold font-heading\">Firebase Database Test</h1>\n            <p className=\"text-gray-600 mt-1\">Test Firestore database connection and operations</p>\n          </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div className=\"md:col-span-2\">\n              <FirebaseDatabaseTest />\n            </div>\n          </div>\n        </div>\n      </main>\n      \n      {/* Mobile Navigation */}\n      <MobileNav />\n    </div>\n  );\n}","size_bytes":1029},"client/src/pages/gallery.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { useAuthContext } from \"@/context/auth-context\";\nimport Sidebar from \"@/components/ui/sidebar\";\nimport MobileNav from \"@/components/ui/mobile-nav\";\nimport PhotoGallery from \"@/components/dashboard/photo-gallery\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { UploadCloud } from \"lucide-react\";\nimport UploadPhotoForm from \"@/components/gallery/upload-photo-form\";\n\nexport default function Gallery() {\n  const [isUploadDialogOpen, setIsUploadDialogOpen] = useState(false);\n  const [selectedTrip, setSelectedTrip] = useState<string>(\"\");\n  const { user } = useAuthContext();\n\n  const { data: dbUser } = useQuery({\n    queryKey: [`/api/users/uid/${user?.uid}`],\n    enabled: !!user?.uid,\n  });\n\n  const { data: photos = [] } = useQuery({\n    queryKey: [`/api/users/${dbUser?.id}/photos`],\n    enabled: !!dbUser?.id,\n  });\n\n  const { data: trips = [] } = useQuery({\n    queryKey: [`/api/users/${dbUser?.id}/trips`],\n    enabled: !!dbUser?.id,\n  });\n\n  const filteredPhotos = selectedTrip \n    ? photos.filter((photo: any) => photo.tripId === parseInt(selectedTrip))\n    : photos;\n\n  return (\n    <div className=\"min-h-screen flex bg-gray-50\">\n      {/* Sidebar - Desktop */}\n      <Sidebar />\n      \n      {/* Main Content */}\n      <main className=\"flex-1 p-4 lg:p-8 mt-16 lg:mt-0 overflow-y-auto pb-16 lg:pb-8\">\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"flex flex-col md:flex-row md:items-center md:justify-between mb-8\">\n            <div>\n              <h1 className=\"text-3xl font-bold font-heading\">Travel Gallery</h1>\n              <p className=\"text-gray-600 mt-1\">Store and manage your travel memories</p>\n            </div>\n            <Button \n              className=\"mt-4 md:mt-0\"\n              onClick={() => setIsUploadDialogOpen(true)}\n            >\n              <UploadCloud className=\"mr-2 h-4 w-4\" /> \n              Upload Photo\n            </Button>\n          </div>\n          \n          <Tabs defaultValue=\"all\">\n            <div className=\"flex flex-col md:flex-row justify-between md:items-center mb-6\">\n              <TabsList>\n                <TabsTrigger value=\"all\">All Photos</TabsTrigger>\n                <TabsTrigger value=\"trips\">By Trip</TabsTrigger>\n              </TabsList>\n              \n              <div className=\"mt-4 md:mt-0\">\n                {trips.length > 0 && (\n                  <Select value={selectedTrip} onValueChange={setSelectedTrip}>\n                    <SelectTrigger className=\"w-[200px]\">\n                      <SelectValue placeholder=\"Filter by trip\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"\">All Trips</SelectItem>\n                      {trips.map((trip: any) => (\n                        <SelectItem key={trip.id} value={trip.id.toString()}>\n                          {trip.title}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                )}\n              </div>\n            </div>\n            \n            <TabsContent value=\"all\" className=\"mt-0\">\n              {photos.length === 0 ? (\n                <div className=\"text-center p-12 bg-gray-50 rounded-lg border border-dashed border-gray-300\">\n                  <UploadCloud className=\"mx-auto h-12 w-12 text-gray-400\" />\n                  <h3 className=\"mt-4 text-lg font-medium text-gray-900\">No photos yet</h3>\n                  <p className=\"mt-2 text-sm text-gray-500\">Upload your travel memories to your gallery.</p>\n                  <Button \n                    className=\"mt-4\"\n                    onClick={() => setIsUploadDialogOpen(true)}\n                  >\n                    <UploadCloud className=\"mr-2 h-4 w-4\" /> \n                    Upload Your First Photo\n                  </Button>\n                </div>\n              ) : filteredPhotos.length === 0 ? (\n                <div className=\"text-center p-12 bg-gray-50 rounded-lg border border-dashed border-gray-300\">\n                  <h3 className=\"text-lg font-medium text-gray-900\">No photos found for this trip</h3>\n                  <p className=\"mt-2 text-sm text-gray-500\">Try selecting a different trip or upload new photos.</p>\n                </div>\n              ) : (\n                <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-100\">\n                  <PhotoGallery photos={filteredPhotos} userId={dbUser?.id} />\n                </div>\n              )}\n            </TabsContent>\n            \n            <TabsContent value=\"trips\" className=\"mt-0\">\n              {trips.length === 0 ? (\n                <div className=\"text-center p-12 bg-gray-50 rounded-lg border border-dashed border-gray-300\">\n                  <h3 className=\"text-lg font-medium text-gray-900\">No trips created yet</h3>\n                  <p className=\"mt-2 text-sm text-gray-500\">Create a trip first to organize your photos by trip.</p>\n                </div>\n              ) : (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                  {trips.map((trip: any) => {\n                    const tripPhotos = photos.filter((photo: any) => photo.tripId === trip.id);\n                    const coverPhoto = tripPhotos[0]?.imageUrl || trip.imageUrl;\n                    \n                    return (\n                      <div key={trip.id} className=\"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-100\">\n                        <div className=\"h-40 bg-gray-200\">\n                          {coverPhoto ? (\n                            <img\n                              src={coverPhoto}\n                              alt={trip.title}\n                              className=\"w-full h-full object-cover\"\n                            />\n                          ) : (\n                            <div className=\"w-full h-full flex items-center justify-center bg-gray-100 text-gray-400\">\n                              No photos\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"p-4\">\n                          <h3 className=\"font-bold\">{trip.title}</h3>\n                          <p className=\"text-sm text-gray-500 mb-3\">{tripPhotos.length} photos</p>\n                          <Button \n                            variant=\"outline\" \n                            className=\"w-full\"\n                            onClick={() => setSelectedTrip(trip.id.toString())}\n                          >\n                            View Photos\n                          </Button>\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              )}\n            </TabsContent>\n          </Tabs>\n        </div>\n      </main>\n      \n      {/* Mobile Navigation */}\n      <MobileNav />\n      \n      {/* Upload Photo Dialog */}\n      <Dialog open={isUploadDialogOpen} onOpenChange={setIsUploadDialogOpen}>\n        <DialogContent className=\"sm:max-w-[500px]\">\n          <DialogHeader>\n            <DialogTitle>Upload a Photo</DialogTitle>\n          </DialogHeader>\n          <UploadPhotoForm \n            userId={dbUser?.id} \n            trips={trips}\n            onSuccess={() => setIsUploadDialogOpen(false)}\n          />\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n","size_bytes":7762},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"client/src/pages/notifications.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport { useAuthContext } from \"@/context/auth-context\";\nimport Sidebar from \"@/components/ui/sidebar\";\nimport MobileNav from \"@/components/ui/mobile-nav\";\nimport NotificationItem from \"@/components/dashboard/notification-item\";\nimport { Button } from \"@/components/ui/button\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Bell, CheckCircle } from \"lucide-react\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\n\nexport default function Notifications() {\n  const [activeTab, setActiveTab] = useState(\"all\");\n  const { user } = useAuthContext();\n  const queryClient = useQueryClient();\n  const { toast } = useToast();\n\n  const { data: dbUser } = useQuery({\n    queryKey: [`/api/users/uid/${user?.uid}`],\n    enabled: !!user?.uid,\n  });\n\n  const { data: notifications = [] } = useQuery({\n    queryKey: [`/api/users/${dbUser?.id}/notifications`],\n    enabled: !!dbUser?.id,\n  });\n\n  const unreadNotifications = notifications.filter((n: any) => !n.isRead);\n  const readNotifications = notifications.filter((n: any) => n.isRead);\n\n  const markAllAsRead = async () => {\n    if (unreadNotifications.length === 0) return;\n\n    try {\n      const promises = unreadNotifications.map((notification: any) => \n        apiRequest(\"PATCH\", `/api/notifications/${notification.id}/read`, {})\n      );\n      \n      await Promise.all(promises);\n      \n      queryClient.invalidateQueries({ queryKey: [`/api/users/${dbUser.id}/notifications`] });\n      \n      toast({\n        title: \"Notifications marked as read\",\n        description: `${unreadNotifications.length} notification${unreadNotifications.length > 1 ? 's' : ''} marked as read`,\n      });\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to mark notifications as read\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex bg-gray-50\">\n      {/* Sidebar - Desktop */}\n      <Sidebar />\n      \n      {/* Main Content */}\n      <main className=\"flex-1 p-4 lg:p-8 mt-16 lg:mt-0 overflow-y-auto pb-16 lg:pb-8\">\n        <div className=\"max-w-3xl mx-auto\">\n          <div className=\"flex flex-col md:flex-row md:items-center md:justify-between mb-8\">\n            <div>\n              <h1 className=\"text-3xl font-bold font-heading\">Notifications</h1>\n              <p className=\"text-gray-600 mt-1\">Stay updated on your travel plans and alerts</p>\n            </div>\n            {unreadNotifications.length > 0 && (\n              <Button \n                variant=\"outline\" \n                className=\"mt-4 md:mt-0\"\n                onClick={markAllAsRead}\n              >\n                <CheckCircle className=\"mr-2 h-4 w-4\" />\n                Mark all as read\n              </Button>\n            )}\n          </div>\n          \n          <Tabs value={activeTab} onValueChange={setActiveTab}>\n            <TabsList className=\"grid w-full grid-cols-3\">\n              <TabsTrigger value=\"all\">\n                All\n                <span className=\"ml-2 bg-gray-100 text-gray-700 px-2 py-0.5 rounded-full text-xs\">\n                  {notifications.length}\n                </span>\n              </TabsTrigger>\n              <TabsTrigger value=\"unread\">\n                Unread\n                <span className=\"ml-2 bg-indigo-100 text-primary px-2 py-0.5 rounded-full text-xs\">\n                  {unreadNotifications.length}\n                </span>\n              </TabsTrigger>\n              <TabsTrigger value=\"read\">Read</TabsTrigger>\n            </TabsList>\n            \n            <div className=\"mt-6\">\n              <TabsContent value=\"all\">\n                <Card>\n                  <CardHeader>\n                    <CardTitle>All Notifications</CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    {notifications.length === 0 ? (\n                      <div className=\"text-center py-12\">\n                        <Bell className=\"mx-auto h-12 w-12 text-gray-400\" />\n                        <h3 className=\"mt-4 text-lg font-medium text-gray-900\">No notifications</h3>\n                        <p className=\"mt-2 text-sm text-gray-500\">\n                          You don't have any notifications yet. They will appear here when you receive them.\n                        </p>\n                      </div>\n                    ) : (\n                      <div className=\"space-y-4\">\n                        {notifications.map((notification: any) => (\n                          <NotificationItem \n                            key={notification.id} \n                            notification={notification} \n                          />\n                        ))}\n                      </div>\n                    )}\n                  </CardContent>\n                </Card>\n              </TabsContent>\n              \n              <TabsContent value=\"unread\">\n                <Card>\n                  <CardHeader>\n                    <CardTitle>Unread Notifications</CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    {unreadNotifications.length === 0 ? (\n                      <div className=\"text-center py-12\">\n                        <CheckCircle className=\"mx-auto h-12 w-12 text-gray-400\" />\n                        <h3 className=\"mt-4 text-lg font-medium text-gray-900\">All caught up!</h3>\n                        <p className=\"mt-2 text-sm text-gray-500\">\n                          You have no unread notifications.\n                        </p>\n                      </div>\n                    ) : (\n                      <div className=\"space-y-4\">\n                        {unreadNotifications.map((notification: any) => (\n                          <NotificationItem \n                            key={notification.id} \n                            notification={notification} \n                          />\n                        ))}\n                      </div>\n                    )}\n                  </CardContent>\n                </Card>\n              </TabsContent>\n              \n              <TabsContent value=\"read\">\n                <Card>\n                  <CardHeader>\n                    <CardTitle>Read Notifications</CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    {readNotifications.length === 0 ? (\n                      <div className=\"text-center py-12\">\n                        <Bell className=\"mx-auto h-12 w-12 text-gray-400\" />\n                        <h3 className=\"mt-4 text-lg font-medium text-gray-900\">No read notifications</h3>\n                        <p className=\"mt-2 text-sm text-gray-500\">\n                          Notifications you've read will appear here.\n                        </p>\n                      </div>\n                    ) : (\n                      <div className=\"space-y-4\">\n                        {readNotifications.map((notification: any) => (\n                          <NotificationItem \n                            key={notification.id} \n                            notification={notification} \n                          />\n                        ))}\n                      </div>\n                    )}\n                  </CardContent>\n                </Card>\n              </TabsContent>\n            </div>\n          </Tabs>\n        </div>\n      </main>\n      \n      {/* Mobile Navigation */}\n      <MobileNav />\n    </div>\n  );\n}\n","size_bytes":7619},"client/src/pages/trip-details.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport { useAuthContext } from \"@/context/auth-context\";\nimport Sidebar from \"@/components/ui/sidebar\";\nimport MobileNav from \"@/components/ui/mobile-nav\";\nimport { Button } from \"@/components/ui/button\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n  DialogFooter,\n} from \"@/components/ui/dialog\";\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from \"@/components/ui/alert-dialog\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport ItineraryForm from \"@/components/trips/itinerary-form\";\nimport { format, differenceInDays, addDays } from \"date-fns\";\nimport { CalendarRange, Pencil, Plus, Trash2, ChevronLeft, Globe, Map, Upload, FileText, MapPin } from \"lucide-react\";\n\ninterface TripDetailsProps {\n  id: number;\n}\n\nexport default function TripDetails({ id }: TripDetailsProps) {\n  const [, setLocation] = useLocation();\n  const { user } = useAuthContext();\n  const queryClient = useQueryClient();\n  const { toast } = useToast();\n  const [isDeleteDialogOpen, setIsDeleteDialogOpen] = useState(false);\n  const [isEditDialogOpen, setIsEditDialogOpen] = useState(false);\n  const [isItineraryDialogOpen, setIsItineraryDialogOpen] = useState(false);\n  const [activeDay, setActiveDay] = useState<number | null>(null);\n\n  const { data: dbUser } = useQuery({\n    queryKey: [`/api/users/uid/${user?.uid}`],\n    enabled: !!user?.uid,\n  });\n\n  const { data: trip, isLoading: isTripLoading } = useQuery({\n    queryKey: [`/api/trips/${id}`],\n    enabled: !!id,\n  });\n\n  const { data: destination } = useQuery({\n    queryKey: [`/api/destinations/${trip?.destinationId}`],\n    enabled: !!trip?.destinationId,\n  });\n\n  const { data: itineraries = [] } = useQuery({\n    queryKey: [`/api/trips/${id}/itineraries`],\n    enabled: !!id,\n  });\n\n  const { data: photos = [] } = useQuery({\n    queryKey: [`/api/trips/${id}/photos`],\n    enabled: !!id,\n  });\n\n  // Ensure the user owns this trip\n  useEffect(() => {\n    if (trip && dbUser && trip.userId !== dbUser.id) {\n      toast({\n        title: \"Access denied\",\n        description: \"You don't have permission to view this trip\",\n        variant: \"destructive\",\n      });\n      setLocation(\"/trips\");\n    }\n  }, [trip, dbUser, toast, setLocation]);\n\n  if (isTripLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary\"></div>\n      </div>\n    );\n  }\n\n  if (!trip) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <h2 className=\"text-2xl font-bold mb-2\">Trip not found</h2>\n          <p className=\"text-gray-600 mb-4\">The trip you are looking for doesn't exist or has been removed.</p>\n          <Button onClick={() => setLocation(\"/trips\")}>\n            Back to Trips\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  const tripDuration = differenceInDays(new Date(trip.endDate), new Date(trip.startDate)) + 1;\n  \n  // Generate days for the trip\n  const tripDays = Array.from({ length: tripDuration }, (_, i) => {\n    const day = addDays(new Date(trip.startDate), i);\n    const dayNumber = i + 1;\n    const formattedDate = format(day, \"EEE, MMM d\");\n    \n    const itinerary = itineraries.find((it: any) => it.day === dayNumber);\n    \n    return {\n      day: dayNumber,\n      date: day,\n      formattedDate,\n      itinerary,\n    };\n  });\n\n  const handleDelete = async () => {\n    try {\n      await apiRequest(\"DELETE\", `/api/trips/${id}`, {});\n      toast({\n        title: \"Trip deleted\",\n        description: \"Your trip has been successfully deleted\",\n      });\n      queryClient.invalidateQueries({ queryKey: [`/api/users/${dbUser.id}/trips`] });\n      setLocation(\"/trips\");\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to delete trip\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const handleAddItinerary = (day: number) => {\n    setActiveDay(day);\n    setIsItineraryDialogOpen(true);\n  };\n\n  const handleEditItinerary = (day: number) => {\n    setActiveDay(day);\n    setIsItineraryDialogOpen(true);\n  };\n\n  return (\n    <div className=\"min-h-screen flex bg-gray-50\">\n      {/* Sidebar - Desktop */}\n      <Sidebar />\n      \n      {/* Main Content */}\n      <main className=\"flex-1 p-4 lg:p-8 mt-16 lg:mt-0 overflow-y-auto pb-16 lg:pb-8\">\n        <div className=\"max-w-7xl mx-auto\">\n          {/* Back button */}\n          <Button\n            variant=\"ghost\"\n            className=\"mb-4\"\n            onClick={() => setLocation(\"/trips\")}\n          >\n            <ChevronLeft className=\"mr-2 h-4 w-4\" />\n            Back to Trips\n          </Button>\n          \n          {/* Trip Header */}\n          <div className=\"relative rounded-xl overflow-hidden mb-6\">\n            <div className=\"h-48 md:h-64 bg-gray-200\">\n              <img\n                src={trip.imageUrl || destination?.imageUrl}\n                alt={trip.title}\n                className=\"w-full h-full object-cover\"\n              />\n            </div>\n            <div className=\"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent\"></div>\n            <div className=\"absolute bottom-0 left-0 p-6\">\n              <div className=\"inline-block bg-indigo-100 text-primary rounded-full px-3 py-1 text-xs font-medium mb-2\">\n                <CalendarRange className=\"inline-block mr-1 h-3.5 w-3.5\" />\n                {format(new Date(trip.startDate), \"MMM d\")} - {format(new Date(trip.endDate), \"MMM d, yyyy\")}\n              </div>\n              <h1 className=\"text-2xl md:text-3xl font-bold text-white\">{trip.title}</h1>\n              <p className=\"text-white/90 flex items-center mt-1\">\n                <MapPin className=\"h-4 w-4 mr-1\" />\n                {destination?.name}, {destination?.country}\n              </p>\n            </div>\n          </div>\n          \n          {/* Trip Actions */}\n          <div className=\"flex flex-wrap gap-2 mb-6\">\n            <Button variant=\"outline\" onClick={() => setIsEditDialogOpen(true)}>\n              <Pencil className=\"mr-2 h-4 w-4\" />\n              Edit Trip\n            </Button>\n            <Button variant=\"outline\" className=\"text-red-500 hover:text-red-600\" onClick={() => setIsDeleteDialogOpen(true)}>\n              <Trash2 className=\"mr-2 h-4 w-4\" />\n              Delete Trip\n            </Button>\n          </div>\n          \n          {/* Trip Content */}\n          <Tabs defaultValue=\"itinerary\">\n            <TabsList className=\"grid grid-cols-3 mb-6\">\n              <TabsTrigger value=\"itinerary\">Itinerary</TabsTrigger>\n              <TabsTrigger value=\"info\">Trip Info</TabsTrigger>\n              <TabsTrigger value=\"photos\">Photos</TabsTrigger>\n            </TabsList>\n            \n            {/* Itinerary Tab */}\n            <TabsContent value=\"itinerary\">\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                {/* Day Navigation */}\n                <div className=\"md:col-span-1\">\n                  <Card>\n                    <CardHeader>\n                      <CardTitle>Trip Days</CardTitle>\n                      <CardDescription>\n                        {tripDuration} {tripDuration === 1 ? 'day' : 'days'} trip\n                      </CardDescription>\n                    </CardHeader>\n                    <CardContent className=\"p-0\">\n                      <div className=\"max-h-[70vh] overflow-y-auto\">\n                        <div className=\"space-y-1 p-2\">\n                          {tripDays.map((tripDay) => (\n                            <div\n                              key={tripDay.day}\n                              className={`px-3 py-2 rounded-md cursor-pointer flex items-center justify-between ${\n                                tripDay.itinerary ? \"bg-indigo-50\" : \"hover:bg-gray-100\"\n                              }`}\n                              onClick={() => {\n                                if (tripDay.itinerary) {\n                                  handleEditItinerary(tripDay.day);\n                                } else {\n                                  handleAddItinerary(tripDay.day);\n                                }\n                              }}\n                            >\n                              <div>\n                                <div className=\"font-medium\">Day {tripDay.day}</div>\n                                <div className=\"text-sm text-gray-500\">{tripDay.formattedDate}</div>\n                              </div>\n                              {tripDay.itinerary ? (\n                                <Button variant=\"ghost\" size=\"sm\" className=\"h-8 w-8 p-0\">\n                                  <Pencil className=\"h-4 w-4\" />\n                                </Button>\n                              ) : (\n                                <Button variant=\"ghost\" size=\"sm\" className=\"h-8 w-8 p-0\">\n                                  <Plus className=\"h-4 w-4\" />\n                                </Button>\n                              )}\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n                    </CardContent>\n                  </Card>\n                </div>\n                \n                {/* Itinerary Details */}\n                <div className=\"md:col-span-2\">\n                  <Card>\n                    <CardHeader>\n                      <CardTitle>Itinerary Details</CardTitle>\n                      <CardDescription>\n                        Click on a day to add or edit activities\n                      </CardDescription>\n                    </CardHeader>\n                    <CardContent>\n                      {itineraries.length === 0 ? (\n                        <div className=\"text-center p-12 border border-dashed rounded-lg\">\n                          <FileText className=\"mx-auto h-12 w-12 text-gray-400\" />\n                          <h3 className=\"mt-4 text-lg font-medium text-gray-900\">No itinerary yet</h3>\n                          <p className=\"mt-2 text-sm text-gray-500\">Start planning your trip by adding activities for each day.</p>\n                          <Button \n                            className=\"mt-4\"\n                            onClick={() => handleAddItinerary(1)}\n                          >\n                            <Plus className=\"mr-2 h-4 w-4\" /> \n                            Plan Day 1\n                          </Button>\n                        </div>\n                      ) : (\n                        <div className=\"space-y-6\">\n                          {itineraries\n                            .sort((a: any, b: any) => a.day - b.day)\n                            .map((itinerary: any) => {\n                              const tripDay = tripDays.find(d => d.day === itinerary.day);\n                              return (\n                                <div key={itinerary.id} className=\"border rounded-lg p-4\">\n                                  <div className=\"flex justify-between items-center mb-4\">\n                                    <div>\n                                      <h3 className=\"font-bold text-lg\">Day {itinerary.day}</h3>\n                                      <p className=\"text-gray-500 text-sm\">{tripDay?.formattedDate}</p>\n                                    </div>\n                                    <Button \n                                      variant=\"ghost\" \n                                      size=\"sm\"\n                                      onClick={() => handleEditItinerary(itinerary.day)}\n                                    >\n                                      <Pencil className=\"h-4 w-4\" />\n                                    </Button>\n                                  </div>\n                                  \n                                  <div className=\"space-y-3\">\n                                    {itinerary.activities.map((activity: any, index: number) => (\n                                      <div key={index} className=\"border-l-2 border-primary pl-4 py-1\">\n                                        <div className=\"font-medium\">{activity.time} - {activity.title}</div>\n                                        <div className=\"text-sm text-gray-600\">{activity.description}</div>\n                                        {activity.location && (\n                                          <div className=\"text-xs text-gray-500 flex items-center mt-1\">\n                                            <MapPin className=\"h-3 w-3 mr-1\" />\n                                            {activity.location}\n                                          </div>\n                                        )}\n                                      </div>\n                                    ))}\n                                  </div>\n                                  \n                                  {itinerary.notes && (\n                                    <div className=\"mt-4 bg-gray-50 p-3 rounded-md\">\n                                      <h4 className=\"font-medium text-sm\">Notes:</h4>\n                                      <p className=\"text-sm text-gray-600\">{itinerary.notes}</p>\n                                    </div>\n                                  )}\n                                </div>\n                              );\n                            })}\n                        </div>\n                      )}\n                    </CardContent>\n                  </Card>\n                </div>\n              </div>\n            </TabsContent>\n            \n            {/* Trip Info Tab */}\n            <TabsContent value=\"info\">\n              <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n                <div className=\"lg:col-span-2\">\n                  <Card>\n                    <CardHeader>\n                      <CardTitle>About this trip</CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                      <p className=\"text-gray-700 whitespace-pre-line\">\n                        {trip.description || `Explore the beautiful ${destination?.name} with this ${tripDuration}-day itinerary. Plan your activities and make the most of your trip!`}\n                      </p>\n                      \n                      <div className=\"mt-8 space-y-4\">\n                        <div className=\"flex items-start\">\n                          <CalendarRange className=\"h-5 w-5 text-gray-500 mt-0.5 mr-3\" />\n                          <div>\n                            <h3 className=\"font-medium\">Trip Dates</h3>\n                            <p className=\"text-sm text-gray-600\">\n                              {format(new Date(trip.startDate), \"MMMM d\")} - {format(new Date(trip.endDate), \"MMMM d, yyyy\")}\n                              <span className=\"text-gray-500 ml-2\">({tripDuration} {tripDuration === 1 ? 'day' : 'days'})</span>\n                            </p>\n                          </div>\n                        </div>\n                        \n                        <div className=\"flex items-start\">\n                          <MapPin className=\"h-5 w-5 text-gray-500 mt-0.5 mr-3\" />\n                          <div>\n                            <h3 className=\"font-medium\">Destination</h3>\n                            <p className=\"text-sm text-gray-600\">{destination?.name}, {destination?.country}</p>\n                          </div>\n                        </div>\n                      </div>\n                    </CardContent>\n                  </Card>\n                </div>\n                \n                <div>\n                  <Card>\n                    <CardHeader>\n                      <CardTitle>Destination Info</CardTitle>\n                    </CardHeader>\n                    <CardContent className=\"space-y-4\">\n                      {destination?.description && (\n                        <p className=\"text-sm text-gray-700\">{destination.description}</p>\n                      )}\n                      \n                      <div className=\"flex items-center justify-between\">\n                        <span className=\"text-sm font-medium\">Category</span>\n                        <span className=\"text-sm bg-gray-100 px-2 py-1 rounded-full\">\n                          {destination?.category || \"Travel\"}\n                        </span>\n                      </div>\n                      \n                      <div className=\"flex items-center justify-between\">\n                        <span className=\"text-sm font-medium\">Rating</span>\n                        <span className=\"flex items-center\">\n                          <svg className=\"w-4 h-4 text-yellow-400 fill-current\" viewBox=\"0 0 24 24\">\n                            <path d=\"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\" />\n                          </svg>\n                          <span className=\"ml-1 text-sm\">{destination?.rating || 5}</span>\n                        </span>\n                      </div>\n                      \n                      <div className=\"pt-2\">\n                        <Button variant=\"outline\" className=\"w-full\" onClick={() => window.open(`https://www.google.com/maps/search/${destination?.name} ${destination?.country}`, '_blank')}>\n                          <Globe className=\"mr-2 h-4 w-4\" />\n                          View on Maps\n                        </Button>\n                      </div>\n                    </CardContent>\n                  </Card>\n                </div>\n              </div>\n            </TabsContent>\n            \n            {/* Photos Tab */}\n            <TabsContent value=\"photos\">\n              <Card>\n                <CardHeader className=\"flex flex-row items-center justify-between\">\n                  <div>\n                    <CardTitle>Trip Photos</CardTitle>\n                    <CardDescription>\n                      Capture and save memories from your trip\n                    </CardDescription>\n                  </div>\n                  <Button onClick={() => setLocation(\"/gallery\")}>\n                    <Upload className=\"mr-2 h-4 w-4\" />\n                    Upload Photos\n                  </Button>\n                </CardHeader>\n                <CardContent>\n                  {photos.length === 0 ? (\n                    <div className=\"text-center p-12 border border-dashed rounded-lg\">\n                      <Images className=\"mx-auto h-12 w-12 text-gray-400\" />\n                      <h3 className=\"mt-4 text-lg font-medium text-gray-900\">No photos yet</h3>\n                      <p className=\"mt-2 text-sm text-gray-500\">Upload photos to remember your journey.</p>\n                      <Button \n                        className=\"mt-4\"\n                        onClick={() => setLocation(\"/gallery\")}\n                      >\n                        <Upload className=\"mr-2 h-4 w-4\" /> \n                        Upload Your First Photo\n                      </Button>\n                    </div>\n                  ) : (\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                      {photos.map((photo: any) => (\n                        <div key={photo.id} className=\"relative rounded-lg overflow-hidden aspect-square group\">\n                          <img \n                            src={photo.imageUrl} \n                            alt={photo.caption || \"Travel memory\"} \n                            className=\"w-full h-full object-cover\"\n                          />\n                          <div className=\"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center\">\n                            {photo.caption && (\n                              <div className=\"text-white text-center p-2\">\n                                <p className=\"text-sm font-medium\">{photo.caption}</p>\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            </TabsContent>\n          </Tabs>\n        </div>\n      </main>\n      \n      {/* Mobile Navigation */}\n      <MobileNav />\n      \n      {/* Itinerary Dialog */}\n      <Dialog open={isItineraryDialogOpen} onOpenChange={setIsItineraryDialogOpen}>\n        <DialogContent className=\"sm:max-w-[600px]\">\n          <DialogHeader>\n            <DialogTitle>\n              {tripDays.find(d => d.day === activeDay)?.itinerary \n                ? `Edit Day ${activeDay} Itinerary` \n                : `Add Day ${activeDay} Itinerary`}\n            </DialogTitle>\n            <DialogDescription>\n              {format(\n                tripDays.find(d => d.day === activeDay)?.date || new Date(), \n                \"EEEE, MMMM d, yyyy\"\n              )}\n            </DialogDescription>\n          </DialogHeader>\n          \n          {activeDay && (\n            <ItineraryForm \n              tripId={id} \n              day={activeDay} \n              date={tripDays.find(d => d.day === activeDay)?.date || new Date()}\n              existingItinerary={tripDays.find(d => d.day === activeDay)?.itinerary}\n              onSuccess={() => setIsItineraryDialogOpen(false)} \n            />\n          )}\n        </DialogContent>\n      </Dialog>\n      \n      {/* Delete Trip Dialog */}\n      <AlertDialog open={isDeleteDialogOpen} onOpenChange={setIsDeleteDialogOpen}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Are you sure?</AlertDialogTitle>\n            <AlertDialogDescription>\n              This action cannot be undone. This will permanently delete your trip\n              and all associated itineraries and data.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>Cancel</AlertDialogCancel>\n            <AlertDialogAction \n              onClick={handleDelete}\n              className=\"bg-red-500 hover:bg-red-600\"\n            >\n              Delete\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  );\n}\n","size_bytes":22710},"client/src/pages/trips.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { useAuthContext } from \"@/context/auth-context\";\nimport Sidebar from \"@/components/ui/sidebar\";\nimport MobileNav from \"@/components/ui/mobile-nav\";\nimport TripCard from \"@/components/dashboard/trip-card\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Input } from \"@/components/ui/input\";\nimport { Plus, Search, Calendar } from \"lucide-react\";\nimport AddTripForm from \"@/components/trips/add-trip-form\";\nimport { format, compareDesc } from \"date-fns\";\n\nexport default function Trips() {\n  const [isAddTripDialogOpen, setIsAddTripDialogOpen] = useState(false);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [sortOrder, setSortOrder] = useState(\"upcoming\");\n  const { user } = useAuthContext();\n\n  const { data: dbUser } = useQuery({\n    queryKey: [`/api/users/uid/${user?.uid}`],\n    enabled: !!user?.uid,\n  });\n\n  const { data: trips = [] } = useQuery({\n    queryKey: [`/api/users/${dbUser?.id}/trips`],\n    enabled: !!dbUser?.id,\n  });\n\n  const { data: destinations = [] } = useQuery({\n    queryKey: ['/api/destinations'],\n  });\n\n  // Get destination info for a trip\n  const getDestinationForTrip = (destinationId: number) => {\n    return destinations?.find((d: any) => d.id === destinationId) || {\n      name: \"Unknown\",\n      country: \"Location\",\n      imageUrl: \"\"\n    };\n  };\n\n  // Filter and sort trips\n  const filteredTrips = trips.filter((trip: any) => {\n    const destination = getDestinationForTrip(trip.destinationId);\n    const searchLower = searchTerm.toLowerCase();\n    \n    return (\n      trip.title.toLowerCase().includes(searchLower) ||\n      destination.name.toLowerCase().includes(searchLower) ||\n      destination.country.toLowerCase().includes(searchLower)\n    );\n  });\n\n  const sortedTrips = [...filteredTrips].sort((a: any, b: any) => {\n    if (sortOrder === \"upcoming\") {\n      return new Date(a.startDate).getTime() - new Date(b.startDate).getTime();\n    } else if (sortOrder === \"recent\") {\n      return compareDesc(new Date(a.startDate), new Date(b.startDate));\n    } else if (sortOrder === \"alphabetical\") {\n      const destA = getDestinationForTrip(a.destinationId);\n      const destB = getDestinationForTrip(b.destinationId);\n      return destA.name.localeCompare(destB.name);\n    }\n    return 0;\n  });\n\n  // Group trips by month if sorting by date\n  const groupedTrips = sortedTrips.reduce((groups: any, trip: any) => {\n    if (sortOrder === \"alphabetical\") {\n      return { ...groups, all: [...(groups.all || []), trip] };\n    }\n    \n    const monthYear = format(new Date(trip.startDate), \"MMMM yyyy\");\n    if (!groups[monthYear]) {\n      groups[monthYear] = [];\n    }\n    groups[monthYear].push(trip);\n    return groups;\n  }, {});\n\n  const handleAddTripSuccess = () => {\n    setIsAddTripDialogOpen(false);\n  };\n\n  return (\n    <div className=\"min-h-screen flex bg-gray-50\">\n      {/* Sidebar - Desktop */}\n      <Sidebar />\n      \n      {/* Main Content */}\n      <main className=\"flex-1 p-4 lg:p-8 mt-16 lg:mt-0 overflow-y-auto pb-16 lg:pb-8\">\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"flex flex-col md:flex-row md:items-center md:justify-between mb-8\">\n            <div>\n              <h1 className=\"text-3xl font-bold font-heading\">Your Trips</h1>\n              <p className=\"text-gray-600 mt-1\">Manage your travel itineraries</p>\n            </div>\n            <Button \n              className=\"mt-4 md:mt-0\"\n              onClick={() => setIsAddTripDialogOpen(true)}\n            >\n              <Plus className=\"mr-2 h-4 w-4\" /> \n              Create New Trip\n            </Button>\n          </div>\n          \n          {/* Filters and Search */}\n          <div className=\"mb-8 flex flex-col md:flex-row gap-4\">\n            <div className=\"relative flex-1\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={18} />\n              <Input\n                type=\"text\"\n                placeholder=\"Search trips...\"\n                className=\"pl-10\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n              />\n            </div>\n            <div className=\"w-full md:w-[200px]\">\n              <Select value={sortOrder} onValueChange={setSortOrder}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"Sort by\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"upcoming\">Upcoming first</SelectItem>\n                  <SelectItem value=\"recent\">Recent first</SelectItem>\n                  <SelectItem value=\"alphabetical\">Alphabetical</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n          \n          {/* Trip List */}\n          {trips.length === 0 ? (\n            <div className=\"text-center p-12 bg-gray-50 rounded-lg border border-dashed border-gray-300\">\n              <Calendar className=\"mx-auto h-12 w-12 text-gray-400\" />\n              <h3 className=\"mt-4 text-lg font-medium text-gray-900\">No trips planned yet</h3>\n              <p className=\"mt-2 text-sm text-gray-500\">Get started by creating your first trip itinerary.</p>\n              <Button \n                className=\"mt-4\"\n                onClick={() => setIsAddTripDialogOpen(true)}\n              >\n                <Plus className=\"mr-2 h-4 w-4\" /> \n                Create Your First Trip\n              </Button>\n            </div>\n          ) : filteredTrips.length === 0 ? (\n            <div className=\"text-center p-12 bg-gray-50 rounded-lg border border-dashed border-gray-300\">\n              <Search className=\"mx-auto h-12 w-12 text-gray-400\" />\n              <h3 className=\"mt-4 text-lg font-medium text-gray-900\">No matching trips found</h3>\n              <p className=\"mt-2 text-sm text-gray-500\">Try adjusting your search criteria.</p>\n            </div>\n          ) : (\n            <div className=\"space-y-8\">\n              {Object.entries(groupedTrips).map(([group, groupTrips]: [string, any]) => (\n                <div key={group}>\n                  {group !== \"all\" && (\n                    <h2 className=\"text-xl font-semibold mb-4\">{group}</h2>\n                  )}\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                    {groupTrips.map((trip: any) => {\n                      const destination = getDestinationForTrip(trip.destinationId);\n                      return (\n                        <TripCard\n                          key={trip.id}\n                          trip={trip}\n                          destinationName={destination.name}\n                          destinationCountry={destination.country}\n                        />\n                      );\n                    })}\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </main>\n      \n      {/* Mobile Navigation */}\n      <MobileNav />\n      \n      {/* Add Trip Dialog */}\n      <Dialog open={isAddTripDialogOpen} onOpenChange={setIsAddTripDialogOpen}>\n        <DialogContent className=\"sm:max-w-[600px]\">\n          <DialogHeader>\n            <DialogTitle>Create a New Trip</DialogTitle>\n          </DialogHeader>\n          <AddTripForm onSuccess={handleAddTripSuccess} />\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n","size_bytes":7650},"client/src/components/auth/login-form.tsx":{"content":"import { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { signInWithEmail, signInWithGoogle, signInWithFacebook } from \"@/lib/firebase\";\n\nconst formSchema = z.object({\n  email: z.string().email(\"Please enter a valid email\"),\n  password: z.string().min(6, \"Password must be at least 6 characters\"),\n});\n\ntype FormValues = z.infer<typeof formSchema>;\n\ninterface LoginFormProps {\n  onToggleForm: () => void;\n}\n\nexport function LoginForm({ onToggleForm }: LoginFormProps) {\n  const [isLoading, setIsLoading] = useState(false);\n  const { toast } = useToast();\n\n  const form = useForm<FormValues>({\n    resolver: zodResolver(formSchema),\n    defaultValues: {\n      email: \"\",\n      password: \"\",\n    },\n  });\n\n  const onSubmit = async (data: FormValues) => {\n    setIsLoading(true);\n    try {\n      await signInWithEmail(data.email, data.password);\n      toast({\n        title: \"Sign in successful\",\n        description: \"Welcome back!\",\n      });\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : \"Failed to sign in\";\n      toast({\n        title: \"Sign in failed\",\n        description: errorMessage,\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleGoogleSignIn = async () => {\n    setIsLoading(true);\n    try {\n      await signInWithGoogle();\n      toast({\n        title: \"Sign in successful\",\n        description: \"Welcome back!\",\n      });\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : \"Failed to sign in with Google\";\n      toast({\n        title: \"Sign in failed\",\n        description: errorMessage,\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleFacebookSignIn = async () => {\n    setIsLoading(true);\n    try {\n      await signInWithFacebook();\n      toast({\n        title: \"Sign in successful\",\n        description: \"Welcome back!\",\n      });\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : \"Failed to sign in with Facebook\";\n      toast({\n        title: \"Sign in failed\",\n        description: errorMessage,\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"p-8\">\n      <div className=\"text-center mb-8\">\n        <h1 className=\"text-3xl font-bold font-heading text-primary\">Wanderlust</h1>\n        <p className=\"text-gray-600 mt-2\">Plan your dream journey</p>\n      </div>\n      \n      <Form {...form}>\n        <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n          <FormField\n            control={form.control}\n            name=\"email\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel>Email</FormLabel>\n                <FormControl>\n                  <Input \n                    placeholder=\"your@email.com\" \n                    type=\"email\" \n                    {...field} \n                  />\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n          \n          <FormField\n            control={form.control}\n            name=\"password\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel>Password</FormLabel>\n                <FormControl>\n                  <Input \n                    placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\" \n                    type=\"password\" \n                    {...field} \n                  />\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n          \n          <Button \n            type=\"submit\" \n            className=\"w-full bg-primary text-white\" \n            disabled={isLoading}\n          >\n            {isLoading ? \"Signing in...\" : \"Sign In\"}\n          </Button>\n        </form>\n      </Form>\n      \n      <div className=\"mt-6 text-center\">\n        <p className=\"text-sm text-gray-600\">\n          Don't have an account?{\" \"}\n          <button \n            className=\"text-primary font-medium hover:underline\"\n            onClick={onToggleForm}\n          >\n            Sign up\n          </button>\n        </p>\n      </div>\n      \n      <div className=\"mt-8 flex items-center justify-center\">\n        <span className=\"bg-gray-300 h-px flex-grow\"></span>\n        <span className=\"mx-4 text-sm text-gray-500\">or continue with</span>\n        <span className=\"bg-gray-300 h-px flex-grow\"></span>\n      </div>\n      \n      <div className=\"mt-6 grid grid-cols-2 gap-4\">\n        <Button \n          variant=\"outline\" \n          onClick={handleGoogleSignIn}\n          disabled={isLoading}\n          className=\"flex items-center justify-center gap-2\"\n        >\n          <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\n            <path\n              d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\n              fill=\"#4285F4\"\n            />\n            <path\n              d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\n              fill=\"#34A853\"\n            />\n            <path\n              d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\n              fill=\"#FBBC05\"\n            />\n            <path\n              d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\n              fill=\"#EA4335\"\n            />\n          </svg>\n          <span>Google</span>\n        </Button>\n        \n        <Button \n          variant=\"outline\" \n          onClick={handleFacebookSignIn}\n          disabled={isLoading}\n          className=\"flex items-center justify-center gap-2\"\n        >\n          <svg className=\"w-5 h-5 text-blue-600\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path d=\"M9.19795 21.5H13.198V13.4901H16.8021L17.198 9.50977H13.198V7.5C13.198 6.94772 13.6457 6.5 14.198 6.5H17.198V2.5H14.198C11.4365 2.5 9.19795 4.73858 9.19795 7.5V9.50977H7.19795L6.80206 13.4901H9.19795V21.5Z\" />\n          </svg>\n          <span>Facebook</span>\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nexport default LoginForm;\n","size_bytes":6714},"client/src/components/auth/protected-route.tsx":{"content":"import { useEffect } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { useAuthContext } from \"@/context/auth-context\";\n\ninterface ProtectedRouteProps {\n  children: React.ReactNode;\n}\n\nexport default function ProtectedRoute({ children }: ProtectedRouteProps) {\n  const { user, isLoading } = useAuthContext();\n  const [, setLocation] = useLocation();\n\n  useEffect(() => {\n    if (!isLoading && !user) {\n      setLocation(\"/auth\");\n    }\n  }, [user, isLoading, setLocation]);\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary\"></div>\n      </div>\n    );\n  }\n\n  return user ? <>{children}</> : null;\n}\n","size_bytes":759},"client/src/components/auth/signup-form.tsx":{"content":"import { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { signUpWithEmail, signInWithGoogle, signInWithFacebook } from \"@/lib/firebase\";\nimport { apiRequest } from \"@/lib/queryClient\";\n\nconst formSchema = z.object({\n  username: z.string().min(3, \"Username must be at least 3 characters\"),\n  email: z.string().email(\"Please enter a valid email\"),\n  password: z.string().min(6, \"Password must be at least 6 characters\"),\n  confirmPassword: z.string().min(6, \"Password must be at least 6 characters\"),\n}).refine((data) => data.password === data.confirmPassword, {\n  message: \"Passwords do not match\",\n  path: [\"confirmPassword\"],\n});\n\ntype FormValues = z.infer<typeof formSchema>;\n\ninterface SignUpFormProps {\n  onToggleForm: () => void;\n}\n\nexport function SignUpForm({ onToggleForm }: SignUpFormProps) {\n  const [isLoading, setIsLoading] = useState(false);\n  const { toast } = useToast();\n\n  const form = useForm<FormValues>({\n    resolver: zodResolver(formSchema),\n    defaultValues: {\n      username: \"\",\n      email: \"\",\n      password: \"\",\n      confirmPassword: \"\",\n    },\n  });\n\n  const onSubmit = async (data: FormValues) => {\n    setIsLoading(true);\n    try {\n      const userCredential = await signUpWithEmail(data.email, data.password);\n      const user = userCredential.user;\n      \n      // Create user in database\n      await apiRequest(\"POST\", \"/api/users\", {\n        uid: user.uid,\n        username: data.username,\n        email: user.email,\n        photoURL: user.photoURL || null,\n        displayName: user.displayName || data.username,\n      });\n      \n      toast({\n        title: \"Account created successfully\",\n        description: \"Welcome to Wanderlust!\",\n      });\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : \"Failed to create account\";\n      toast({\n        title: \"Sign up failed\",\n        description: errorMessage,\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleGoogleSignIn = async () => {\n    setIsLoading(true);\n    try {\n      const result = await signInWithGoogle();\n      const user = result.user;\n      \n      // Create user in database\n      await apiRequest(\"POST\", \"/api/users\", {\n        uid: user.uid,\n        username: user.displayName || user.email?.split('@')[0] || \"user\",\n        email: user.email || \"\",\n        photoURL: user.photoURL || null,\n        displayName: user.displayName || user.email?.split('@')[0] || \"user\",\n      });\n      \n      toast({\n        title: \"Sign in successful\",\n        description: \"Welcome to Wanderlust!\",\n      });\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : \"Failed to sign in with Google\";\n      toast({\n        title: \"Sign in failed\",\n        description: errorMessage,\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleFacebookSignIn = async () => {\n    setIsLoading(true);\n    try {\n      const result = await signInWithFacebook();\n      const user = result.user;\n      \n      // Create user in database\n      await apiRequest(\"POST\", \"/api/users\", {\n        uid: user.uid,\n        username: user.displayName || user.email?.split('@')[0] || \"user\",\n        email: user.email || \"\",\n        photoURL: user.photoURL || null,\n        displayName: user.displayName || user.email?.split('@')[0] || \"user\",\n      });\n      \n      toast({\n        title: \"Sign in successful\",\n        description: \"Welcome to Wanderlust!\",\n      });\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : \"Failed to sign in with Facebook\";\n      toast({\n        title: \"Sign in failed\",\n        description: errorMessage,\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"p-8\">\n      <div className=\"text-center mb-8\">\n        <h1 className=\"text-3xl font-bold font-heading text-primary\">Wanderlust</h1>\n        <p className=\"text-gray-600 mt-2\">Create your account</p>\n      </div>\n      \n      <Form {...form}>\n        <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n          <FormField\n            control={form.control}\n            name=\"username\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel>Username</FormLabel>\n                <FormControl>\n                  <Input placeholder=\"your_username\" {...field} />\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n          \n          <FormField\n            control={form.control}\n            name=\"email\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel>Email</FormLabel>\n                <FormControl>\n                  <Input \n                    placeholder=\"your@email.com\" \n                    type=\"email\" \n                    {...field} \n                  />\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n          \n          <FormField\n            control={form.control}\n            name=\"password\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel>Password</FormLabel>\n                <FormControl>\n                  <Input \n                    placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\" \n                    type=\"password\" \n                    {...field} \n                  />\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n          \n          <FormField\n            control={form.control}\n            name=\"confirmPassword\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel>Confirm Password</FormLabel>\n                <FormControl>\n                  <Input \n                    placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\" \n                    type=\"password\" \n                    {...field} \n                  />\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n          \n          <Button \n            type=\"submit\" \n            className=\"w-full bg-primary text-white\" \n            disabled={isLoading}\n          >\n            {isLoading ? \"Creating account...\" : \"Sign Up\"}\n          </Button>\n        </form>\n      </Form>\n      \n      <div className=\"mt-6 text-center\">\n        <p className=\"text-sm text-gray-600\">\n          Already have an account?{\" \"}\n          <button \n            className=\"text-primary font-medium hover:underline\"\n            onClick={onToggleForm}\n          >\n            Sign in\n          </button>\n        </p>\n      </div>\n      \n      <div className=\"mt-8 flex items-center justify-center\">\n        <span className=\"bg-gray-300 h-px flex-grow\"></span>\n        <span className=\"mx-4 text-sm text-gray-500\">or continue with</span>\n        <span className=\"bg-gray-300 h-px flex-grow\"></span>\n      </div>\n      \n      <div className=\"mt-6 grid grid-cols-2 gap-4\">\n        <Button \n          variant=\"outline\" \n          onClick={handleGoogleSignIn}\n          disabled={isLoading}\n          className=\"flex items-center justify-center gap-2\"\n        >\n          <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\n            <path\n              d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\n              fill=\"#4285F4\"\n            />\n            <path\n              d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\n              fill=\"#34A853\"\n            />\n            <path\n              d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\n              fill=\"#FBBC05\"\n            />\n            <path\n              d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\n              fill=\"#EA4335\"\n            />\n          </svg>\n          <span>Google</span>\n        </Button>\n        \n        <Button \n          variant=\"outline\" \n          onClick={handleFacebookSignIn}\n          disabled={isLoading}\n          className=\"flex items-center justify-center gap-2\"\n        >\n          <svg className=\"w-5 h-5 text-blue-600\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path d=\"M9.19795 21.5H13.198V13.4901H16.8021L17.198 9.50977H13.198V7.5C13.198 6.94772 13.6457 6.5 14.198 6.5H17.198V2.5H14.198C11.4365 2.5 9.19795 4.73858 9.19795 7.5V9.50977H7.19795L6.80206 13.4901H9.19795V21.5Z\" />\n          </svg>\n          <span>Facebook</span>\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nexport default SignUpForm;\n","size_bytes":9253},"client/src/components/budget/add-expense-form.tsx":{"content":"import { useState, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from '@/components/ui/form';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Calendar } from '@/components/ui/calendar';\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover';\nimport { CalendarIcon, Receipt, DollarSign } from 'lucide-react';\nimport { format } from 'date-fns';\nimport { cn } from '@/lib/utils';\nimport { useToast } from '@/hooks/use-toast';\nimport { apiRequest } from '@/lib/queryClient';\nimport { currencyService, CURRENCIES } from '@/lib/currency';\nimport { insertExpenseSchema, type InsertExpense } from '@shared/schema';\nimport { z } from 'zod';\n\nconst addExpenseSchema = insertExpenseSchema.extend({\n  amount: z.number().min(0.01, 'Amount must be greater than 0'),\n  description: z.string().min(1, 'Description is required'),\n  category: z.string().min(1, 'Category is required'),\n  date: z.date(),\n});\n\ntype AddExpenseFormData = z.infer<typeof addExpenseSchema>;\n\ninterface AddExpenseFormProps {\n  tripId: number;\n  userId: number;\n  budgetId?: number;\n  defaultCurrency?: string;\n  onSuccess?: () => void;\n  onCancel?: () => void;\n}\n\nconst EXPENSE_CATEGORIES = [\n  { value: 'accommodation', label: 'Accommodation', icon: 'ðŸ¨' },\n  { value: 'food', label: 'Food & Dining', icon: 'ðŸ½ï¸' },\n  { value: 'transport', label: 'Transportation', icon: 'ðŸš—' },\n  { value: 'activities', label: 'Activities & Tours', icon: 'ðŸŽ¯' },\n  { value: 'shopping', label: 'Shopping', icon: 'ðŸ›ï¸' },\n  { value: 'entertainment', label: 'Entertainment', icon: 'ðŸŽ­' },\n  { value: 'health', label: 'Health & Medical', icon: 'âš•ï¸' },\n  { value: 'communication', label: 'Communication', icon: 'ðŸ“±' },\n  { value: 'tips', label: 'Tips & Gratuity', icon: 'ðŸ’°' },\n  { value: 'other', label: 'Other', icon: 'ðŸ“' },\n];\n\nexport function AddExpenseForm({ \n  tripId, \n  userId, \n  budgetId, \n  defaultCurrency = 'USD', \n  onSuccess, \n  onCancel \n}: AddExpenseFormProps) {\n  const [convertedAmount, setConvertedAmount] = useState<number | null>(null);\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  const form = useForm<AddExpenseFormData>({\n    resolver: zodResolver(addExpenseSchema),\n    defaultValues: {\n      tripId,\n      userId,\n      budgetId: budgetId || undefined,\n      amount: 0,\n      originalAmount: undefined,\n      currency: defaultCurrency,\n      originalCurrency: undefined,\n      category: '',\n      description: '',\n      location: '',\n      receiptUrl: '',\n      date: new Date(),\n    },\n  });\n\n  const addExpenseMutation = useMutation({\n    mutationFn: (data: InsertExpense) => \n      fetch('/api/expenses', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(data),\n      }).then(res => res.json()),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/trips', tripId, 'expenses'] });\n      queryClient.invalidateQueries({ queryKey: ['/api/trips', tripId, 'budget'] });\n      toast({ title: 'Success', description: 'Expense added successfully!' });\n      onSuccess?.();\n    },\n    onError: (error) => {\n      toast({ \n        title: 'Error', \n        description: 'Failed to add expense. Please try again.',\n        variant: 'destructive'\n      });\n    },\n  });\n\n  // Convert amount to default currency when currency changes\n  const watchCurrency = form.watch('currency');\n  const watchAmount = form.watch('amount');\n\n  useEffect(() => {\n    const convertAmount = async () => {\n      if (watchCurrency === defaultCurrency || !watchAmount) {\n        setConvertedAmount(null);\n        return;\n      }\n\n      try {\n        const converted = await currencyService.convertCurrency(\n          watchAmount,\n          watchCurrency || defaultCurrency,\n          defaultCurrency\n        );\n        setConvertedAmount(converted);\n      } catch (error) {\n        console.error('Currency conversion failed:', error);\n        setConvertedAmount(null);\n      }\n    };\n\n    convertAmount();\n  }, [watchAmount, watchCurrency, defaultCurrency]);\n\n  const onSubmit = (data: AddExpenseFormData) => {\n    const expenseData: InsertExpense = {\n      ...data,\n      originalAmount: data.currency !== defaultCurrency ? data.amount.toString() : undefined,\n      originalCurrency: data.currency !== defaultCurrency ? data.currency : undefined,\n      amount: (convertedAmount || data.amount).toString(),\n      currency: convertedAmount ? defaultCurrency : data.currency,\n    };\n\n    addExpenseMutation.mutate(expenseData);\n  };\n\n  return (\n    <Card className=\"w-full max-w-lg mx-auto\">\n      <CardHeader>\n        <CardTitle className=\"flex items-center gap-2\">\n          <Receipt className=\"w-5 h-5 text-blue-600\" />\n          Add New Expense\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n            {/* Amount and Currency */}\n            <div className=\"grid grid-cols-2 gap-2\">\n              <FormField\n                control={form.control}\n                name=\"amount\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Amount</FormLabel>\n                    <FormControl>\n                      <Input\n                        type=\"number\"\n                        step=\"0.01\"\n                        placeholder=\"0.00\"\n                        {...field}\n                        onChange={(e) => field.onChange(parseFloat(e.target.value) || 0)}\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n              <FormField\n                control={form.control}\n                name=\"currency\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Currency</FormLabel>\n                    <Select onValueChange={field.onChange} defaultValue={field.value}>\n                      <FormControl>\n                        <SelectTrigger>\n                          <SelectValue placeholder=\"Currency\" />\n                        </SelectTrigger>\n                      </FormControl>\n                      <SelectContent>\n                        {CURRENCIES.map((currency) => (\n                          <SelectItem key={currency.code} value={currency.code}>\n                            {currency.code} - {currency.symbol}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n            </div>\n\n            {/* Converted Amount Display */}\n            {convertedAmount && (\n              <div className=\"text-sm text-gray-600 bg-blue-50 p-2 rounded\">\n                <DollarSign className=\"w-4 h-4 inline mr-1\" />\n                Converted: {convertedAmount.toFixed(2)} {defaultCurrency}\n              </div>\n            )}\n\n            {/* Category */}\n            <FormField\n              control={form.control}\n              name=\"category\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Category</FormLabel>\n                  <Select onValueChange={field.onChange} defaultValue={field.value}>\n                    <FormControl>\n                      <SelectTrigger>\n                        <SelectValue placeholder=\"Select category\" />\n                      </SelectTrigger>\n                    </FormControl>\n                    <SelectContent>\n                      {EXPENSE_CATEGORIES.map((category) => (\n                        <SelectItem key={category.value} value={category.value}>\n                          {category.icon} {category.label}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            {/* Description */}\n            <FormField\n              control={form.control}\n              name=\"description\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Description</FormLabel>\n                  <FormControl>\n                    <Textarea\n                      placeholder=\"What did you spend on?\"\n                      className=\"resize-none\"\n                      {...field}\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            {/* Location */}\n            <FormField\n              control={form.control}\n              name=\"location\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Location (Optional)</FormLabel>\n                  <FormControl>\n                    <Input placeholder=\"Where did this happen?\" {...field} value={field.value || ''} />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            {/* Date */}\n            <FormField\n              control={form.control}\n              name=\"date\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Date</FormLabel>\n                  <Popover>\n                    <PopoverTrigger asChild>\n                      <FormControl>\n                        <Button\n                          variant={\"outline\"}\n                          className={cn(\n                            \"w-full pl-3 text-left font-normal\",\n                            !field.value && \"text-muted-foreground\"\n                          )}\n                        >\n                          {field.value ? (\n                            format(field.value, \"PPP\")\n                          ) : (\n                            <span>Pick a date</span>\n                          )}\n                          <CalendarIcon className=\"ml-auto h-4 w-4 opacity-50\" />\n                        </Button>\n                      </FormControl>\n                    </PopoverTrigger>\n                    <PopoverContent className=\"w-auto p-0\" align=\"start\">\n                      <Calendar\n                        mode=\"single\"\n                        selected={field.value}\n                        onSelect={field.onChange}\n                        disabled={(date) =>\n                          date > new Date() || date < new Date(\"1900-01-01\")\n                        }\n                        initialFocus\n                      />\n                    </PopoverContent>\n                  </Popover>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            {/* Actions */}\n            <div className=\"flex gap-2 pt-4\">\n              <Button\n                type=\"submit\"\n                disabled={addExpenseMutation.isPending}\n                className=\"flex-1\"\n              >\n                {addExpenseMutation.isPending ? 'Adding...' : 'Add Expense'}\n              </Button>\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={onCancel}\n                disabled={addExpenseMutation.isPending}\n              >\n                Cancel\n              </Button>\n            </div>\n          </form>\n        </Form>\n      </CardContent>\n    </Card>\n  );\n}","size_bytes":11982},"client/src/components/budget/budget-dashboard.tsx":{"content":"import { useState, useEffect } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Progress } from '@/components/ui/progress';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { \n  PieChart, \n  Pie, \n  Cell, \n  ResponsiveContainer, \n  BarChart, \n  Bar, \n  XAxis, \n  YAxis, \n  CartesianGrid, \n  Tooltip, \n  Legend \n} from 'recharts';\nimport { \n  DollarSign, \n  TrendingUp, \n  TrendingDown, \n  AlertTriangle, \n  CheckCircle,\n  PlusCircle,\n  Eye\n} from 'lucide-react';\nimport { currencyService } from '@/lib/currency';\nimport type { Budget, Expense } from '@shared/schema';\n\ninterface BudgetDashboardProps {\n  tripId: number;\n  userCurrency?: string;\n  onAddExpense?: () => void;\n  onViewDetails?: () => void;\n}\n\ninterface BudgetSummary {\n  category: string;\n  budgeted: number;\n  spent: number;\n  remaining: number;\n  percentage: number;\n  status: 'good' | 'warning' | 'over';\n}\n\nconst CATEGORY_COLORS = {\n  accommodation: '#3B82F6',\n  food: '#EF4444', \n  transport: '#10B981',\n  activities: '#F59E0B',\n  shopping: '#8B5CF6',\n  other: '#6B7280',\n};\n\nexport function BudgetDashboard({ tripId, userCurrency = 'USD', onAddExpense, onViewDetails }: BudgetDashboardProps) {\n  const [convertedBudget, setConvertedBudget] = useState<Budget | null>(null);\n  const [convertedExpenses, setConvertedExpenses] = useState<Expense[]>([]);\n  const [budgetSummary, setBudgetSummary] = useState<BudgetSummary[]>([]);\n\n  // Fetch budget data\n  const { data: budget } = useQuery<Budget>({\n    queryKey: ['/api/trips', tripId, 'budget'],\n    queryFn: () => fetch(`/api/trips/${tripId}/budget`).then(res => res.json()),\n    enabled: !!tripId,\n  });\n\n  // Fetch expenses\n  const { data: expenses = [] } = useQuery<Expense[]>({\n    queryKey: ['/api/trips', tripId, 'expenses'],\n    queryFn: () => fetch(`/api/trips/${tripId}/expenses`).then(res => res.json()),\n    enabled: !!tripId,\n  });\n\n  // Convert budget and expenses to user's preferred currency\n  useEffect(() => {\n    const convertData = async () => {\n      if (!budget) return;\n\n      try {\n        // Convert budget\n        if (budget.currency !== userCurrency) {\n          const totalBudgetConverted = await currencyService.convertCurrency(\n            parseFloat(budget.totalBudget),\n            budget.currency,\n            userCurrency\n          );\n\n          const categoriesConverted: Record<string, number> = {};\n          if (budget.categories && typeof budget.categories === 'object') {\n            const categories = budget.categories as Record<string, number>;\n            for (const [category, amount] of Object.entries(categories)) {\n              categoriesConverted[category] = await currencyService.convertCurrency(\n                amount,\n                budget.currency,\n                userCurrency\n              );\n            }\n          }\n\n          setConvertedBudget({\n            ...budget,\n            totalBudget: totalBudgetConverted.toString(),\n            currency: userCurrency,\n            categories: categoriesConverted,\n          });\n        } else {\n          setConvertedBudget(budget);\n        }\n\n        // Convert expenses\n        const convertedExpensesList = await Promise.all(\n          expenses.map(async (expense) => {\n            if (expense.currency !== userCurrency) {\n              const convertedAmount = await currencyService.convertCurrency(\n                parseFloat(expense.amount),\n                expense.currency,\n                userCurrency\n              );\n              return {\n                ...expense,\n                amount: convertedAmount.toString(),\n                originalAmount: expense.amount,\n                originalCurrency: expense.currency,\n                currency: userCurrency,\n              };\n            }\n            return expense;\n          })\n        );\n\n        setConvertedExpenses(convertedExpensesList);\n      } catch (error) {\n        console.error('Error converting currency:', error);\n        setConvertedBudget(budget);\n        setConvertedExpenses(expenses);\n      }\n    };\n\n    convertData();\n  }, [budget, expenses, userCurrency]);\n\n  // Calculate budget summary\n  useEffect(() => {\n    if (!convertedBudget || !convertedExpenses) return;\n\n    const categories = convertedBudget.categories as Record<string, number> || {};\\n    const summary: BudgetSummary[] = Object.entries(categories).map(([category, budgetAmount]) => {\\n      const spent = convertedExpenses\\n        .filter(expense => expense.category === category)\\n        .reduce((sum, expense) => sum + parseFloat(expense.amount), 0);\\n\\n      const remaining = budgetAmount - spent;\\n      const percentage = budgetAmount > 0 ? (spent / budgetAmount) * 100 : 0;\\n\\n      let status: 'good' | 'warning' | 'over' = 'good';\\n      if (percentage > 100) status = 'over';\\n      else if (percentage > 80) status = 'warning';\\n\\n      return {\\n        category,\\n        budgeted: budgetAmount,\\n        spent,\\n        remaining,\\n        percentage,\\n        status,\\n      };\\n    });\\n\\n    setBudgetSummary(summary);\\n  }, [convertedBudget, convertedExpenses]);\\n\\n  if (!convertedBudget) {\\n    return (\\n      <Card>\\n        <CardContent className=\\\"py-8 text-center\\\">\\n          <DollarSign className=\\\"mx-auto h-12 w-12 text-muted-foreground mb-4\\\" />\\n          <h3 className=\\\"text-lg font-medium mb-2\\\">No Budget Set</h3>\\n          <p className=\\\"text-muted-foreground mb-4\\\">\\n            Create a budget to track your expenses for this trip.\\n          </p>\\n          <Button onClick={onAddExpense}>\\n            <PlusCircle className=\\\"w-4 h-4 mr-2\\\" />\\n            Create Budget\\n          </Button>\\n        </CardContent>\\n      </Card>\\n    );\\n  }\\n\\n  const totalSpent = budgetSummary.reduce((sum, item) => sum + item.spent, 0);\\n  const totalBudget = parseFloat(convertedBudget.totalBudget);\\n  const totalRemaining = totalBudget - totalSpent;\\n  const overallPercentage = totalBudget > 0 ? (totalSpent / totalBudget) * 100 : 0;\\n\\n  const pieData = budgetSummary.map(item => ({\\n    name: item.category,\\n    value: item.spent,\\n    color: CATEGORY_COLORS[item.category as keyof typeof CATEGORY_COLORS] || CATEGORY_COLORS.other,\\n  }));\\n\\n  const barData = budgetSummary.map(item => ({\\n    category: item.category.charAt(0).toUpperCase() + item.category.slice(1),\\n    budgeted: item.budgeted,\\n    spent: item.spent,\\n  }));\\n\\n  return (\\n    <div className=\\\"space-y-6\\\">\\n      {/* Overall Budget Summary */}\\n      <div className=\\\"grid grid-cols-1 md:grid-cols-4 gap-4\\\">\\n        <Card>\\n          <CardHeader className=\\\"flex flex-row items-center justify-between space-y-0 pb-2\\\">\\n            <CardTitle className=\\\"text-sm font-medium\\\">Total Budget</CardTitle>\\n            <DollarSign className=\\\"h-4 w-4 text-muted-foreground\\\" />\\n          </CardHeader>\\n          <CardContent>\\n            <div className=\\\"text-2xl font-bold\\\">\\n              {currencyService.formatCurrency(totalBudget, userCurrency)}\\n            </div>\\n          </CardContent>\\n        </Card>\\n\\n        <Card>\\n          <CardHeader className=\\\"flex flex-row items-center justify-between space-y-0 pb-2\\\">\\n            <CardTitle className=\\\"text-sm font-medium\\\">Total Spent</CardTitle>\\n            <TrendingUp className=\\\"h-4 w-4 text-muted-foreground\\\" />\\n          </CardHeader>\\n          <CardContent>\\n            <div className=\\\"text-2xl font-bold\\\">\\n              {currencyService.formatCurrency(totalSpent, userCurrency)}\\n            </div>\\n            <p className=\\\"text-xs text-muted-foreground\\\">\\n              {overallPercentage.toFixed(1)}% of budget\\n            </p>\\n          </CardContent>\\n        </Card>\\n\\n        <Card>\\n          <CardHeader className=\\\"flex flex-row items-center justify-between space-y-0 pb-2\\\">\\n            <CardTitle className=\\\"text-sm font-medium\\\">Remaining</CardTitle>\\n            {totalRemaining >= 0 ? (\\n              <TrendingDown className=\\\"h-4 w-4 text-green-600\\\" />\\n            ) : (\\n              <AlertTriangle className=\\\"h-4 w-4 text-red-600\\\" />\\n            )}\\n          </CardHeader>\\n          <CardContent>\\n            <div className={`text-2xl font-bold ${\\n              totalRemaining >= 0 ? 'text-green-600' : 'text-red-600'\\n            }`}>\\n              {currencyService.formatCurrency(Math.abs(totalRemaining), userCurrency)}\\n            </div>\\n            <p className=\\\"text-xs text-muted-foreground\\\">\\n              {totalRemaining >= 0 ? 'Under budget' : 'Over budget'}\\n            </p>\\n          </CardContent>\\n        </Card>\\n\\n        <Card>\\n          <CardHeader className=\\\"flex flex-row items-center justify-between space-y-0 pb-2\\\">\\n            <CardTitle className=\\\"text-sm font-medium\\\">Budget Health</CardTitle>\\n            {overallPercentage <= 80 ? (\\n              <CheckCircle className=\\\"h-4 w-4 text-green-600\\\" />\\n            ) : (\\n              <AlertTriangle className=\\\"h-4 w-4 text-yellow-600\\\" />\\n            )}\\n          </CardHeader>\\n          <CardContent>\\n            <Progress value={Math.min(overallPercentage, 100)} className=\\\"mb-2\\\" />\\n            <p className=\\\"text-xs text-muted-foreground\\\">\\n              {overallPercentage <= 80 \\n                ? 'On track' \\n                : overallPercentage <= 100 \\n                ? 'Approaching limit' \\n                : 'Over budget'\\n              }\\n            </p>\\n          </CardContent>\\n        </Card>\\n      </div>\\n\\n      {/* Category Breakdown */}\\n      <div className=\\\"grid grid-cols-1 lg:grid-cols-2 gap-6\\\">\\n        <Card>\\n          <CardHeader>\\n            <CardTitle>Spending by Category</CardTitle>\\n          </CardHeader>\\n          <CardContent>\\n            <ResponsiveContainer width=\\\"100%\\\" height={300}>\\n              <PieChart>\\n                <Pie\\n                  data={pieData}\\n                  cx=\\\"50%\\\"\\n                  cy=\\\"50%\\\"\\n                  labelLine={false}\\n                  outerRadius={80}\\n                  fill=\\\"#8884d8\\\"\\n                  dataKey=\\\"value\\\"\\n                  label={({ name, percent }) => `${name} ${(percent * 100).toFixed(0)}%`}\\n                >\\n                  {pieData.map((entry, index) => (\\n                    <Cell key={`cell-${index}`} fill={entry.color} />\\n                  ))}\\n                </Pie>\\n                <Tooltip formatter={(value) => currencyService.formatCurrency(value as number, userCurrency)} />\\n              </PieChart>\\n            </ResponsiveContainer>\\n          </CardContent>\\n        </Card>\\n\\n        <Card>\\n          <CardHeader>\\n            <CardTitle>Budget vs Actual</CardTitle>\\n          </CardHeader>\\n          <CardContent>\\n            <ResponsiveContainer width=\\\"100%\\\" height={300}>\\n              <BarChart data={barData}>\\n                <CartesianGrid strokeDasharray=\\\"3 3\\\" />\\n                <XAxis dataKey=\\\"category\\\" />\\n                <YAxis formatter={(value) => currencyService.formatCurrency(value, userCurrency)} />\\n                <Tooltip formatter={(value) => currencyService.formatCurrency(value as number, userCurrency)} />\\n                <Legend />\\n                <Bar dataKey=\\\"budgeted\\\" fill=\\\"#3B82F6\\\" name=\\\"Budgeted\\\" />\\n                <Bar dataKey=\\\"spent\\\" fill=\\\"#EF4444\\\" name=\\\"Spent\\\" />\\n              </BarChart>\\n            </ResponsiveContainer>\\n          </CardContent>\\n        </Card>\\n      </div>\\n\\n      {/* Category Details */}\\n      <Card>\\n        <CardHeader>\\n          <div className=\\\"flex items-center justify-between\\\">\\n            <CardTitle>Category Breakdown</CardTitle>\\n            <div className=\\\"flex gap-2\\\">\\n              <Button variant=\\\"outline\\\" size=\\\"sm\\\" onClick={onViewDetails}>\\n                <Eye className=\\\"w-4 h-4 mr-2\\\" />\\n                View Details\\n              </Button>\\n              <Button size=\\\"sm\\\" onClick={onAddExpense}>\\n                <PlusCircle className=\\\"w-4 h-4 mr-2\\\" />\\n                Add Expense\\n              </Button>\\n            </div>\\n          </div>\\n        </CardHeader>\\n        <CardContent>\\n          <div className=\\\"space-y-4\\\">\\n            {budgetSummary.map((item) => (\\n              <div key={item.category} className=\\\"space-y-2\\\">\\n                <div className=\\\"flex items-center justify-between\\\">\\n                  <div className=\\\"flex items-center gap-2\\\">\\n                    <h4 className=\\\"font-medium capitalize\\\">{item.category}</h4>\\n                    <Badge \\n                      variant={item.status === 'good' ? 'default' : item.status === 'warning' ? 'destructive' : 'destructive'}\\n                    >\\n                      {item.status === 'good' ? 'On Track' : item.status === 'warning' ? 'Warning' : 'Over Budget'}\\n                    </Badge>\\n                  </div>\\n                  <div className=\\\"text-right\\\">\\n                    <div className=\\\"font-medium\\\">\\n                      {currencyService.formatCurrency(item.spent, userCurrency)} / {currencyService.formatCurrency(item.budgeted, userCurrency)}\\n                    </div>\\n                    <div className=\\\"text-sm text-muted-foreground\\\">\\n                      {currencyService.formatCurrency(Math.abs(item.remaining), userCurrency)} {item.remaining >= 0 ? 'remaining' : 'over'}\\n                    </div>\\n                  </div>\\n                </div>\\n                <Progress \\n                  value={Math.min(item.percentage, 100)} \\n                  className={item.status === 'over' ? 'bg-red-100' : ''}\\n                />\\n              </div>\\n            ))}\\n          </div>\\n        </CardContent>\\n      </Card>\\n    </div>\\n  );\\n}\"","size_bytes":13832},"client/src/components/budget/currency-converter.tsx":{"content":"import { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Button } from '@/components/ui/button';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { ArrowUpDown, RefreshCw, TrendingUp } from 'lucide-react';\nimport { currencyService, CURRENCIES } from '@/lib/currency';\nimport type { CurrencyInfo } from '@/lib/currency';\n\nexport function CurrencyConverter() {\n  const [fromCurrency, setFromCurrency] = useState('USD');\n  const [toCurrency, setToCurrency] = useState('EUR');\n  const [fromAmount, setFromAmount] = useState('100');\n  const [toAmount, setToAmount] = useState('');\n  const [exchangeRate, setExchangeRate] = useState<number | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [lastUpdated, setLastUpdated] = useState<Date | null>(null);\n\n  // Convert currency when inputs change\n  useEffect(() => {\n    const convertCurrency = async () => {\n      if (!fromAmount || fromAmount === '0' || fromCurrency === toCurrency) {\n        setToAmount(fromAmount);\n        setExchangeRate(1);\n        return;\n      }\n\n      setIsLoading(true);\n      try {\n        const rate = await currencyService.getExchangeRate(fromCurrency, toCurrency);\n        const converted = parseFloat(fromAmount) * rate;\n        \n        setExchangeRate(rate);\n        setToAmount(converted.toFixed(2));\n        setLastUpdated(new Date());\n      } catch (error) {\n        console.error('Currency conversion failed:', error);\n        setToAmount('Error');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    convertCurrency();\n  }, [fromAmount, fromCurrency, toCurrency]);\n\n  const handleSwapCurrencies = () => {\n    setFromCurrency(toCurrency);\n    setToCurrency(fromCurrency);\n    setFromAmount(toAmount);\n  };\n\n  const handleRefresh = () => {\n    // Force refresh by updating the dependencies\n    setLastUpdated(null);\n    const currentFromAmount = fromAmount;\n    setFromAmount('');\n    setTimeout(() => setFromAmount(currentFromAmount), 100);\n  };\n\n  return (\n    <Card className=\"w-full max-w-md\">\n      <CardHeader>\n        <CardTitle className=\"flex items-center gap-2\">\n          <TrendingUp className=\"w-5 h-5 text-blue-600\" />\n          Currency Converter\n        </CardTitle>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        {/* From Currency */}\n        <div className=\"space-y-2\">\n          <label className=\"text-sm font-medium\">From</label>\n          <div className=\"flex gap-2\">\n            <Input\n              type=\"number\"\n              value={fromAmount}\n              onChange={(e) => setFromAmount(e.target.value)}\n              placeholder=\"Enter amount\"\n              className=\"flex-1\"\n            />\n            <Select value={fromCurrency} onValueChange={setFromCurrency}>\n              <SelectTrigger className=\"w-24\">\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                {CURRENCIES.map((currency: CurrencyInfo) => (\n                  <SelectItem key={currency.code} value={currency.code}>\n                    {currency.code}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n        </div>\n\n        {/* Swap Button */}\n        <div className=\"flex justify-center\">\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={handleSwapCurrencies}\n            className=\"p-2\"\n          >\n            <ArrowUpDown className=\"w-4 h-4\" />\n          </Button>\n        </div>\n\n        {/* To Currency */}\n        <div className=\"space-y-2\">\n          <label className=\"text-sm font-medium\">To</label>\n          <div className=\"flex gap-2\">\n            <Input\n              type=\"text\"\n              value={isLoading ? 'Converting...' : toAmount}\n              readOnly\n              placeholder=\"Converted amount\"\n              className=\"flex-1\"\n            />\n            <Select value={toCurrency} onValueChange={setToCurrency}>\n              <SelectTrigger className=\"w-24\">\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                {CURRENCIES.map((currency: CurrencyInfo) => (\n                  <SelectItem key={currency.code} value={currency.code}>\n                    {currency.code}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n        </div>\n\n        {/* Exchange Rate Info */}\n        {exchangeRate && (\n          <div className=\"text-sm text-gray-600 space-y-1\">\n            <p>1 {fromCurrency} = {exchangeRate.toFixed(4)} {toCurrency}</p>\n            {lastUpdated && (\n              <p>Last updated: {lastUpdated.toLocaleTimeString()}</p>\n            )}\n          </div>\n        )}\n\n        {/* Refresh Button */}\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          onClick={handleRefresh}\n          disabled={isLoading}\n          className=\"w-full\"\n        >\n          <RefreshCw className={`w-4 h-4 mr-2 ${isLoading ? 'animate-spin' : ''}`} />\n          Refresh Rate\n        </Button>\n      </CardContent>\n    </Card>\n  );\n}\n\nexport default CurrencyConverter;","size_bytes":5329},"client/src/components/dashboard/destination-card.tsx":{"content":"import { useState } from \"react\";\nimport { Star, Heart } from \"lucide-react\";\nimport { Destination } from \"@shared/schema\";\nimport { Button } from \"@/components/ui/button\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface DestinationCardProps {\n  destination: Destination;\n  onSelect?: (destination: Destination) => void;\n}\n\nexport function DestinationCard({ destination, onSelect }: DestinationCardProps) {\n  const [isFavorite, setIsFavorite] = useState(false);\n  const { toast } = useToast();\n\n  const handleToggleFavorite = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    setIsFavorite(!isFavorite);\n    \n    toast({\n      title: !isFavorite ? \"Added to favorites\" : \"Removed from favorites\",\n      variant: \"default\",\n    });\n  };\n\n  const handleSelect = () => {\n    if (onSelect) {\n      onSelect(destination);\n    }\n  };\n\n  return (\n    <div className=\"flex-shrink-0 w-64\">\n      <div className=\"relative rounded-xl overflow-hidden group\" onClick={handleSelect}>\n        <img \n          src={destination.imageUrl} \n          alt={destination.name} \n          className=\"w-full h-40 object-cover\"\n        />\n        <div className=\"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent\"></div>\n        <div className=\"absolute bottom-0 left-0 p-4\">\n          <h3 className=\"text-white font-bold\">{destination.name}, {destination.country}</h3>\n          <div className=\"flex items-center text-white text-xs mt-1\">\n            <Star className=\"text-yellow-400 h-3.5 w-3.5 fill-yellow-400\" />\n            <span className=\"ml-1\">{destination.rating || 4.5}</span>\n            <span className=\"mx-1\">â€¢</span>\n            <span>{destination.category}</span>\n          </div>\n        </div>\n        <Button\n          className=\"absolute top-3 right-3 bg-white/80 backdrop-blur-sm rounded-full p-1.5 opacity-0 group-hover:opacity-100 transition-opacity duration-200 h-8 w-8\"\n          variant=\"ghost\"\n          size=\"icon\"\n          onClick={handleToggleFavorite}\n        >\n          <Heart \n            className={isFavorite ? \"text-red-500 fill-red-500\" : \"text-gray-700\"} \n            size={16} \n          />\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nexport default DestinationCard;\n","size_bytes":2218},"client/src/components/dashboard/notification-item.tsx":{"content":"import { useState } from \"react\";\nimport { Bell, Plane, Hotel, CloudRain } from \"lucide-react\";\nimport { Notification } from \"@shared/schema\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useQueryClient } from \"@tanstack/react-query\";\nimport { cn } from \"@/lib/utils\";\nimport { formatDistanceToNow } from \"date-fns\";\n\ninterface NotificationItemProps {\n  notification: Notification;\n}\n\nexport function NotificationItem({ notification }: NotificationItemProps) {\n  const [isRead, setIsRead] = useState(notification.isRead);\n  const queryClient = useQueryClient();\n\n  const markAsRead = async () => {\n    if (isRead) return;\n    \n    try {\n      await apiRequest(\"PATCH\", `/api/notifications/${notification.id}/read`, {});\n      setIsRead(true);\n      queryClient.invalidateQueries({ queryKey: [`/api/users/${notification.userId}/notifications`] });\n    } catch (error) {\n      console.error(\"Failed to mark notification as read\", error);\n    }\n  };\n\n  const getNotificationIcon = () => {\n    switch (notification.type) {\n      case \"Flight\":\n        return <Plane className=\"text-primary\" />;\n      case \"Hotel\":\n        return <Hotel className=\"text-secondary\" />;\n      case \"Weather\":\n        return <CloudRain className=\"text-accent\" />;\n      default:\n        return <Bell className=\"text-primary\" />;\n    }\n  };\n\n  const getIconBackground = () => {\n    switch (notification.type) {\n      case \"Flight\":\n        return \"bg-indigo-100\";\n      case \"Hotel\":\n        return \"bg-blue-100\";\n      case \"Weather\":\n        return \"bg-amber-100\";\n      default:\n        return \"bg-indigo-100\";\n    }\n  };\n\n  const timeAgo = formatDistanceToNow(new Date(notification.createdAt), { addSuffix: true });\n\n  return (\n    <div \n      className={cn(\n        \"flex items-start pb-4 border-b border-gray-100\",\n        !isRead && \"bg-blue-50/30\"\n      )}\n      onClick={markAsRead}\n    >\n      <div className={cn(\"rounded-full p-2 flex-shrink-0\", getIconBackground())}>\n        {getNotificationIcon()}\n      </div>\n      <div className=\"ml-4\">\n        <p className={cn(\"text-sm\", !isRead && \"font-medium\")}>\n          {notification.title}\n        </p>\n        <p className=\"text-xs text-gray-500 mt-1\">{notification.message}</p>\n        <span className=\"text-xs text-gray-400 mt-1 block\">{timeAgo}</span>\n      </div>\n    </div>\n  );\n}\n\nexport default NotificationItem;\n","size_bytes":2367},"client/src/components/dashboard/photo-gallery.tsx":{"content":"import { useState } from \"react\";\nimport { Eye, Trash2 } from \"lucide-react\";\nimport { Photo } from \"@shared/schema\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useQueryClient } from \"@tanstack/react-query\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from \"@/components/ui/alert-dialog\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogTitle,\n  DialogDescription,\n} from \"@/components/ui/dialog\";\n\ninterface PhotoGalleryProps {\n  photos: Photo[];\n  userId: number;\n}\n\nexport function PhotoGallery({ photos, userId }: PhotoGalleryProps) {\n  const [selectedPhoto, setSelectedPhoto] = useState<Photo | null>(null);\n  const [photoToDelete, setPhotoToDelete] = useState<Photo | null>(null);\n  const [isViewDialogOpen, setIsViewDialogOpen] = useState(false);\n  const [isDeleteDialogOpen, setIsDeleteDialogOpen] = useState(false);\n  const queryClient = useQueryClient();\n  const { toast } = useToast();\n\n  const handlePhotoView = (photo: Photo) => {\n    setSelectedPhoto(photo);\n    setIsViewDialogOpen(true);\n  };\n\n  const handleDeleteClick = (e: React.MouseEvent, photo: Photo) => {\n    e.stopPropagation();\n    setPhotoToDelete(photo);\n    setIsDeleteDialogOpen(true);\n  };\n\n  const handleDeleteConfirm = async () => {\n    if (!photoToDelete) return;\n    \n    try {\n      await apiRequest(\"DELETE\", `/api/photos/${photoToDelete.id}`, {});\n      queryClient.invalidateQueries({ queryKey: [`/api/users/${userId}/photos`] });\n      \n      toast({\n        title: \"Photo deleted\",\n        description: \"The photo has been removed from your gallery\",\n      });\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to delete photo\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsDeleteDialogOpen(false);\n    }\n  };\n\n  return (\n    <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n      {photos.map((photo) => (\n        <div \n          key={photo.id} \n          className=\"relative rounded-lg overflow-hidden group aspect-square\"\n          onClick={() => handlePhotoView(photo)}\n        >\n          <img \n            src={photo.imageUrl} \n            alt={photo.caption || \"Travel memory\"} \n            className=\"w-full h-full object-cover\"\n          />\n          <div className=\"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center\">\n            <div className=\"text-white\">\n              <div className=\"flex space-x-3\">\n                <button \n                  className=\"bg-white/20 rounded-full p-2 hover:bg-white/30 transition-colors duration-200\"\n                  onClick={() => handlePhotoView(photo)}\n                >\n                  <Eye size={18} />\n                </button>\n                <button \n                  className=\"bg-white/20 rounded-full p-2 hover:bg-white/30 transition-colors duration-200\"\n                  onClick={(e) => handleDeleteClick(e, photo)}\n                >\n                  <Trash2 size={18} />\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      ))}\n\n      {/* Photo View Dialog */}\n      <Dialog open={isViewDialogOpen} onOpenChange={setIsViewDialogOpen}>\n        <DialogContent className=\"sm:max-w-lg\">\n          <DialogTitle>{selectedPhoto?.caption || \"Travel Photo\"}</DialogTitle>\n          <DialogDescription>\n            Uploaded on {selectedPhoto && new Date(selectedPhoto.uploadedAt).toLocaleDateString()}\n          </DialogDescription>\n          <div className=\"mt-4\">\n            <img\n              src={selectedPhoto?.imageUrl}\n              alt={selectedPhoto?.caption || \"Travel memory\"}\n              className=\"w-full h-auto rounded-md\"\n            />\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Delete Confirmation Dialog */}\n      <AlertDialog open={isDeleteDialogOpen} onOpenChange={setIsDeleteDialogOpen}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Are you sure?</AlertDialogTitle>\n            <AlertDialogDescription>\n              This action cannot be undone. This will permanently delete the photo from your gallery.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>Cancel</AlertDialogCancel>\n            <AlertDialogAction onClick={handleDeleteConfirm} className=\"bg-red-500 hover:bg-red-600\">\n              Delete\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  );\n}\n\nexport default PhotoGallery;\n","size_bytes":4779},"client/src/components/dashboard/stats-card.tsx":{"content":"import { Card } from \"@/components/ui/card\";\nimport { cn } from \"@/lib/utils\";\nimport { ReactNode } from \"react\";\n\ninterface StatsCardProps {\n  icon: ReactNode;\n  value: string | number;\n  label: string;\n  iconClassName?: string;\n  iconBgClassName?: string;\n}\n\nexport function StatsCard({ \n  icon, \n  value, \n  label, \n  iconClassName = \"text-primary\",\n  iconBgClassName = \"bg-indigo-100\"\n}: StatsCardProps) {\n  return (\n    <Card className=\"border border-gray-100 shadow-sm p-6\">\n      <div className=\"flex items-center\">\n        <div className={cn(\"rounded-full p-3\", iconBgClassName)}>\n          <div className={cn(\"text-xl\", iconClassName)}>\n            {icon}\n          </div>\n        </div>\n        <div className=\"ml-4\">\n          <h3 className=\"text-lg font-medium\">{value}</h3>\n          <p className=\"text-gray-500 text-sm\">{label}</p>\n        </div>\n      </div>\n    </Card>\n  );\n}\n\nexport default StatsCard;\n","size_bytes":920},"client/src/components/dashboard/trip-card.tsx":{"content":"import { useState } from \"react\";\nimport { Link } from \"wouter\";\nimport { Heart, Clipboard } from \"lucide-react\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Trip } from \"@shared/schema\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useQueryClient } from \"@tanstack/react-query\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { format } from \"date-fns\";\n\ninterface TripCardProps {\n  trip: Trip;\n  destinationName: string;\n  destinationCountry: string;\n}\n\nexport function TripCard({ trip, destinationName, destinationCountry }: TripCardProps) {\n  const [favorite, setFavorite] = useState(trip.isFavorite);\n  const [isLoading, setIsLoading] = useState(false);\n  const queryClient = useQueryClient();\n  const { toast } = useToast();\n\n  const handleToggleFavorite = async (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    setIsLoading(true);\n    try {\n      const updatedTrip = await apiRequest(\"PATCH\", `/api/trips/${trip.id}`, {\n        isFavorite: !favorite\n      });\n      setFavorite(!favorite);\n      queryClient.invalidateQueries({ queryKey: [`/api/users/${trip.userId}/trips`] });\n      \n      toast({\n        title: !favorite ? \"Added to favorites\" : \"Removed from favorites\",\n        variant: \"default\",\n      });\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Could not update favorite status\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const formattedStartDate = format(new Date(trip.startDate), \"MMM dd\");\n  const formattedEndDate = format(new Date(trip.endDate), \"MMM dd\");\n\n  return (\n    <Card className=\"overflow-hidden border border-gray-100 hover:shadow-md transition-shadow duration-300\">\n      <div className=\"relative\">\n        <img \n          src={trip.imageUrl} \n          alt={destinationName} \n          className=\"w-full h-48 object-cover\"\n        />\n        <div className=\"absolute top-4 right-4\">\n          <Button\n            size=\"icon\"\n            variant=\"secondary\"\n            className=\"h-8 w-8 rounded-full bg-white shadow-sm hover:bg-white/90\"\n            onClick={handleToggleFavorite}\n            disabled={isLoading}\n          >\n            <Heart \n              className={favorite ? \"text-red-500 fill-red-500\" : \"text-gray-500\"} \n              size={16} \n            />\n          </Button>\n        </div>\n      </div>\n      <CardContent className=\"p-5\">\n        <div className=\"flex items-center mb-2\">\n          <span className=\"inline-block bg-indigo-100 text-primary rounded-full px-3 py-1 text-xs font-medium\">\n            <span className=\"mr-1\">ðŸ“…</span>\n            {formattedStartDate} - {formattedEndDate}\n          </span>\n        </div>\n        <h3 className=\"font-bold text-lg mb-1\">\n          {destinationName}, {destinationCountry}\n        </h3>\n        <p className=\"text-gray-600 text-sm mb-4 line-clamp-2\">\n          {trip.description || `Explore the wonders of ${destinationName} on your upcoming adventure.`}\n        </p>\n        <div className=\"flex justify-between items-center\">\n          <div className=\"flex items-center\">\n            <Clipboard className=\"text-gray-400 mr-1.5\" size={16} />\n            <span className=\"text-sm text-gray-600\">{trip.activities || 0} activities planned</span>\n          </div>\n          <Link href={`/trips/${trip.id}`}>\n            <a className=\"text-primary font-medium text-sm\">View trip</a>\n          </Link>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n\nexport default TripCard;\n","size_bytes":3611},"client/src/components/gallery/upload-photo-form.tsx":{"content":"import { useState, useRef } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { useQueryClient } from \"@tanstack/react-query\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { getStorage, ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Form,\n  FormControl,\n  FormDescription,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Upload, X, Image } from \"lucide-react\";\n\nconst formSchema = z.object({\n  tripId: z.string().optional(),\n  caption: z.string().optional(),\n  imageFile: z.instanceof(File).refine(file => file.size < 5 * 1024 * 1024, {\n    message: \"Image must be less than 5MB\",\n  }),\n});\n\ntype FormValues = z.infer<typeof formSchema>;\n\ninterface UploadPhotoFormProps {\n  userId: number;\n  trips: any[];\n  onSuccess: () => void;\n}\n\nexport default function UploadPhotoForm({ userId, trips, onSuccess }: UploadPhotoFormProps) {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [previewUrl, setPreviewUrl] = useState<string | null>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const queryClient = useQueryClient();\n  const { toast } = useToast();\n  const storage = getStorage();\n\n  const form = useForm<FormValues>({\n    resolver: zodResolver(formSchema),\n    defaultValues: {\n      tripId: \"\",\n      caption: \"\",\n    },\n  });\n\n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (file) {\n      form.setValue(\"imageFile\", file);\n      \n      // Create preview URL\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setPreviewUrl(reader.result as string);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const clearImageSelection = () => {\n    form.setValue(\"imageFile\", undefined as any);\n    setPreviewUrl(null);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = \"\";\n    }\n  };\n\n  const onSubmit = async (data: FormValues) => {\n    if (!userId) {\n      toast({\n        title: \"Error\",\n        description: \"You must be logged in to upload photos\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsSubmitting(true);\n    \n    try {\n      // Upload the image to Firebase Storage\n      const fileRef = ref(storage, `photos/${userId}/${Date.now()}-${data.imageFile.name}`);\n      await uploadBytes(fileRef, data.imageFile);\n      const imageUrl = await getDownloadURL(fileRef);\n      \n      // Save the photo details to the database\n      await apiRequest(\"POST\", \"/api/photos\", {\n        userId,\n        tripId: data.tripId ? parseInt(data.tripId) : null,\n        imageUrl,\n        caption: data.caption,\n        uploadedAt: new Date().toISOString(),\n      });\n      \n      toast({\n        title: \"Photo uploaded\",\n        description: \"Your photo has been successfully uploaded\",\n      });\n      \n      queryClient.invalidateQueries({ queryKey: [`/api/users/${userId}/photos`] });\n      \n      if (data.tripId) {\n        queryClient.invalidateQueries({ queryKey: [`/api/trips/${data.tripId}/photos`] });\n      }\n      \n      onSuccess();\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to upload photo. Please try again.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <Form {...form}>\n      <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n        <div className=\"border-2 border-dashed rounded-lg p-6 flex flex-col items-center justify-center\">\n          {previewUrl ? (\n            <div className=\"relative w-full\">\n              <img\n                src={previewUrl}\n                alt=\"Preview\"\n                className=\"rounded-lg max-h-60 mx-auto object-contain\"\n              />\n              <Button\n                type=\"button\"\n                variant=\"destructive\"\n                size=\"icon\"\n                className=\"absolute top-2 right-2 h-8 w-8 rounded-full\"\n                onClick={clearImageSelection}\n              >\n                <X size={16} />\n              </Button>\n            </div>\n          ) : (\n            <>\n              <Image className=\"h-16 w-16 text-gray-400 mb-2\" />\n              <p className=\"text-sm text-gray-500 mb-4\">\n                PNG, JPG or JPEG (max. 5MB)\n              </p>\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => fileInputRef.current?.click()}\n              >\n                <Upload className=\"mr-2 h-4 w-4\" />\n                Select Photo\n              </Button>\n            </>\n          )}\n          <input\n            ref={fileInputRef}\n            type=\"file\"\n            accept=\"image/png, image/jpeg, image/jpg\"\n            className=\"hidden\"\n            onChange={handleFileChange}\n          />\n          {!previewUrl && (\n            <FormField\n              control={form.control}\n              name=\"imageFile\"\n              render={({ field: { onChange, value, ...field } }) => (\n                <FormItem className=\"hidden\">\n                  <FormControl>\n                    <Input\n                      type=\"file\"\n                      accept=\"image/png, image/jpeg, image/jpg\"\n                      onChange={(e) => {\n                        handleFileChange(e);\n                        onChange(e.target.files?.[0]);\n                      }}\n                      {...field}\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n          )}\n        </div>\n        \n        <FormField\n          control={form.control}\n          name=\"tripId\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Associate with Trip (optional)</FormLabel>\n              <Select onValueChange={field.onChange} defaultValue={field.value}>\n                <FormControl>\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"Select a trip\" />\n                  </SelectTrigger>\n                </FormControl>\n                <SelectContent>\n                  <SelectItem value=\"\">None</SelectItem>\n                  {trips.map((trip) => (\n                    <SelectItem key={trip.id} value={trip.id.toString()}>\n                      {trip.title}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n              <FormDescription>\n                Link this photo to one of your trips\n              </FormDescription>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n        \n        <FormField\n          control={form.control}\n          name=\"caption\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Caption (optional)</FormLabel>\n              <FormControl>\n                <Textarea\n                  placeholder=\"Add a caption to your photo\"\n                  className=\"resize-none\"\n                  {...field}\n                />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n        \n        <div className=\"flex justify-end gap-2\">\n          <Button type=\"button\" variant=\"outline\" onClick={onSuccess}>\n            Cancel\n          </Button>\n          <Button type=\"submit\" disabled={isSubmitting || !previewUrl}>\n            {isSubmitting ? \"Uploading...\" : \"Upload Photo\"}\n          </Button>\n        </div>\n      </form>\n    </Form>\n  );\n}\n","size_bytes":7921},"client/src/components/hotels/hotel-card.tsx":{"content":"import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Star, MapPin, Camera, ExternalLink, Phone, Wifi, Car, Utensils } from 'lucide-react';\nimport type { Hotel } from '@shared/schema';\n\ninterface HotelCardProps {\n  hotel: Hotel;\n  onViewDetails?: (hotel: Hotel) => void;\n  onView360?: (hotel: Hotel) => void;\n}\n\nexport function HotelCard({ hotel, onViewDetails, onView360 }: HotelCardProps) {\n  const amenityIcons: Record<string, any> = {\n    'Wifi': Wifi,\n    'Parking': Car,\n    'Restaurant': Utensils,\n    'Spa': Star,\n    'Pool': Star,\n    'Fitness Center': Star,\n    'Bar': Utensils,\n  };\n\n  const getAmenityIcon = (amenity: string) => {\n    return amenityIcons[amenity] || Star;\n  };\n\n  return (\n    <Card className=\"overflow-hidden hover:shadow-lg transition-shadow\">\n      {hotel.imageUrls && hotel.imageUrls.length > 0 && (\n        <div className=\"aspect-video relative overflow-hidden\">\n          <img\n            src={Array.isArray(hotel.imageUrls) ? hotel.imageUrls[0] : hotel.imageUrls}\n            alt={hotel.name}\n            className=\"w-full h-full object-cover\"\n          />\n          {hotel.virtual360Url && (\n            <Button\n              size=\"sm\"\n              variant=\"secondary\"\n              className=\"absolute top-2 right-2\"\n              onClick={() => onView360?.(hotel)}\n            >\n              <Camera className=\"w-4 h-4 mr-1\" />\n              360Â°\n            </Button>\n          )}\n        </div>\n      )}\n\n      <CardHeader className=\"pb-2\">\n        <div className=\"flex items-start justify-between\">\n          <CardTitle className=\"text-lg\">{hotel.name}</CardTitle>\n          {hotel.rating && (\n            <div className=\"flex items-center gap-1\">\n              <Star className=\"w-4 h-4 fill-yellow-400 text-yellow-400\" />\n              <span className=\"text-sm font-medium\">{hotel.rating}</span>\n            </div>\n          )}\n        </div>\n        \n        <div className=\"flex items-center gap-1 text-sm text-muted-foreground\">\n          <MapPin className=\"w-4 h-4\" />\n          <span className=\"line-clamp-1\">{hotel.address}</span>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"space-y-3\">\n        {hotel.description && (\n          <p className=\"text-sm text-muted-foreground line-clamp-2\">\n            {hotel.description}\n          </p>\n        )}\n\n        {hotel.amenities && Array.isArray(hotel.amenities) && hotel.amenities.length > 0 && (\n          <div className=\"flex flex-wrap gap-1\">\n            {hotel.amenities.slice(0, 4).map((amenity) => {\n              const IconComponent = getAmenityIcon(amenity);\n              return (\n                <Badge key={amenity} variant=\"secondary\" className=\"text-xs\">\n                  <IconComponent className=\"w-3 h-3 mr-1\" />\n                  {amenity}\n                </Badge>\n              );\n            })}\n            {hotel.amenities.length > 4 && (\n              <Badge variant=\"outline\" className=\"text-xs\">\n                +{hotel.amenities.length - 4} more\n              </Badge>\n            )}\n          </div>\n        )}\n\n        {hotel.pricePerNight && (\n          <div className=\"flex items-center justify-between\">\n            <span className=\"text-lg font-semibold\">\n              ${hotel.pricePerNight}\n              <span className=\"text-sm font-normal text-muted-foreground\">/night</span>\n            </span>\n          </div>\n        )}\n\n        <div className=\"flex gap-2\">\n          <Button \n            variant=\"default\" \n            size=\"sm\" \n            className=\"flex-1\"\n            onClick={() => onViewDetails?.(hotel)}\n          >\n            View Details\n          </Button>\n          \n          {hotel.website && (\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => window.open(hotel.website, '_blank')}\n            >\n              <ExternalLink className=\"w-4 h-4\" />\n            </Button>\n          )}\n\n          {hotel.phone && (\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => window.open(`tel:${hotel.phone}`, '_self')}\n            >\n              <Phone className=\"w-4 h-4\" />\n            </Button>\n          )}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}","size_bytes":4369},"client/src/components/maps/interactive-map.tsx":{"content":"import { APIProvider, Map, Marker, InfoWindow } from '@vis.gl/react-google-maps';\nimport { useState } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { MapPin, Star, Camera, ExternalLink } from 'lucide-react';\n\ninterface Location {\n  id: number;\n  name: string;\n  latitude: string;\n  longitude: string;\n  type: 'destination' | 'hotel' | 'place';\n  rating?: string;\n  description?: string;\n  imageUrl?: string;\n  virtual360Url?: string;\n  website?: string;\n  category?: string;\n  priceRange?: string;\n}\n\ninterface InteractiveMapProps {\n  locations: Location[];\n  center?: { lat: number; lng: number };\n  zoom?: number;\n  height?: string;\n  onLocationClick?: (location: Location) => void;\n}\n\nexport function InteractiveMap({ \n  locations, \n  center = { lat: 48.8566, lng: 2.3522 }, \n  zoom = 10,\n  height = \"400px\",\n  onLocationClick \n}: InteractiveMapProps) {\n  const [selectedLocation, setSelectedLocation] = useState<Location | null>(null);\n\n  const apiKey = import.meta.env.VITE_GOOGLE_MAPS_API_KEY;\n\n  if (!apiKey) {\n    return (\n      <Card className=\"h-[400px] flex items-center justify-center\">\n        <CardContent>\n          <p className=\"text-muted-foreground\">\n            Google Maps API key not configured. Please add VITE_GOOGLE_MAPS_API_KEY to your environment.\n          </p>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  const getMarkerColor = (type: string) => {\n    switch (type) {\n      case 'destination': return '#3B82F6'; // blue\n      case 'hotel': return '#10B981'; // green\n      case 'place': return '#F59E0B'; // orange\n      default: return '#6B7280'; // gray\n    }\n  };\n\n  const handleMarkerClick = (location: Location) => {\n    setSelectedLocation(location);\n    onLocationClick?.(location);\n  };\n\n  return (\n    <div className=\"w-full\" style={{ height }}>\n      <APIProvider apiKey={apiKey}>\n        <Map\n          defaultCenter={center}\n          defaultZoom={zoom}\n          gestureHandling={'greedy'}\n          disableDefaultUI={false}\n          className=\"w-full h-full rounded-lg\"\n        >\n          {locations.map((location) => (\n            <Marker\n              key={`${location.type}-${location.id}`}\n              position={{\n                lat: parseFloat(location.latitude),\n                lng: parseFloat(location.longitude)\n              }}\n              onClick={() => handleMarkerClick(location)}\n              title={location.name}\n            />\n          ))}\n\n          {selectedLocation && (\n            <InfoWindow\n              position={{\n                lat: parseFloat(selectedLocation.latitude),\n                lng: parseFloat(selectedLocation.longitude)\n              }}\n              onCloseClick={() => setSelectedLocation(null)}\n            >\n              <div className=\"p-2 max-w-xs\">\n                <div className=\"flex items-start gap-2 mb-2\">\n                  <MapPin \n                    className=\"w-4 h-4 mt-1 flex-shrink-0\" \n                    style={{ color: getMarkerColor(selectedLocation.type) }}\n                  />\n                  <div className=\"flex-1\">\n                    <h3 className=\"font-semibold text-sm\">{selectedLocation.name}</h3>\n                    <Badge variant=\"secondary\" className=\"text-xs mt-1\">\n                      {selectedLocation.type}\n                    </Badge>\n                  </div>\n                </div>\n\n                {selectedLocation.rating && (\n                  <div className=\"flex items-center gap-1 mb-2\">\n                    <Star className=\"w-3 h-3 fill-yellow-400 text-yellow-400\" />\n                    <span className=\"text-xs\">{selectedLocation.rating}</span>\n                  </div>\n                )}\n\n                {selectedLocation.category && (\n                  <Badge variant=\"outline\" className=\"text-xs mb-2\">\n                    {selectedLocation.category}\n                  </Badge>\n                )}\n\n                {selectedLocation.priceRange && (\n                  <Badge variant=\"outline\" className=\"text-xs mb-2 ml-1\">\n                    {selectedLocation.priceRange}\n                  </Badge>\n                )}\n\n                {selectedLocation.description && (\n                  <p className=\"text-xs text-muted-foreground mb-2 line-clamp-2\">\n                    {selectedLocation.description}\n                  </p>\n                )}\n\n                <div className=\"flex gap-1\">\n                  {selectedLocation.virtual360Url && (\n                    <Button\n                      size=\"sm\"\n                      variant=\"outline\"\n                      className=\"text-xs p-1 h-6\"\n                      onClick={() => window.open(selectedLocation.virtual360Url, '_blank')}\n                    >\n                      <Camera className=\"w-3 h-3\" />\n                      360Â°\n                    </Button>\n                  )}\n                  \n                  {selectedLocation.website && (\n                    <Button\n                      size=\"sm\"\n                      variant=\"outline\"\n                      className=\"text-xs p-1 h-6\"\n                      onClick={() => window.open(selectedLocation.website, '_blank')}\n                    >\n                      <ExternalLink className=\"w-3 h-3\" />\n                      Visit\n                    </Button>\n                  )}\n                </div>\n              </div>\n            </InfoWindow>\n          )}\n        </Map>\n      </APIProvider>\n    </div>\n  );\n}","size_bytes":5554},"client/src/components/places/place-card.tsx":{"content":"import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Star, MapPin, Camera, ExternalLink, Phone, Clock } from 'lucide-react';\nimport type { Place } from '@shared/schema';\n\ninterface PlaceCardProps {\n  place: Place;\n  onViewDetails?: (place: Place) => void;\n  onView360?: (place: Place) => void;\n}\n\nexport function PlaceCard({ place, onViewDetails, onView360 }: PlaceCardProps) {\n  const getCategoryColor = (category: string) => {\n    const colors: Record<string, string> = {\n      'Restaurant': 'bg-orange-100 text-orange-800',\n      'Attraction': 'bg-blue-100 text-blue-800',\n      'Museum': 'bg-purple-100 text-purple-800',\n      'Shopping': 'bg-green-100 text-green-800',\n      'Temple': 'bg-yellow-100 text-yellow-800',\n      'Park': 'bg-emerald-100 text-emerald-800',\n    };\n    return colors[category] || 'bg-gray-100 text-gray-800';\n  };\n\n  const getTodaysHours = () => {\n    if (!place.openingHours || typeof place.openingHours !== 'object') return null;\n    \n    const days = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n    const today = days[new Date().getDay()];\n    const hours = place.openingHours as Record<string, string>;\n    \n    return hours[today] || null;\n  };\n\n  const todaysHours = getTodaysHours();\n\n  return (\n    <Card className=\"overflow-hidden hover:shadow-lg transition-shadow\">\n      {place.imageUrls && place.imageUrls.length > 0 && (\n        <div className=\"aspect-video relative overflow-hidden\">\n          <img\n            src={Array.isArray(place.imageUrls) ? place.imageUrls[0] : place.imageUrls}\n            alt={place.name}\n            className=\"w-full h-full object-cover\"\n          />\n          {place.virtual360Url && (\n            <Button\n              size=\"sm\"\n              variant=\"secondary\"\n              className=\"absolute top-2 right-2\"\n              onClick={() => onView360?.(place)}\n            >\n              <Camera className=\"w-4 h-4 mr-1\" />\n              360Â°\n            </Button>\n          )}\n        </div>\n      )}\n\n      <CardHeader className=\"pb-2\">\n        <div className=\"flex items-start justify-between\">\n          <CardTitle className=\"text-lg\">{place.name}</CardTitle>\n          {place.rating && (\n            <div className=\"flex items-center gap-1\">\n              <Star className=\"w-4 h-4 fill-yellow-400 text-yellow-400\" />\n              <span className=\"text-sm font-medium\">{place.rating}</span>\n            </div>\n          )}\n        </div>\n        \n        <div className=\"flex items-center gap-2\">\n          <Badge className={getCategoryColor(place.category)}>\n            {place.category}\n          </Badge>\n          {place.priceRange && (\n            <Badge variant=\"outline\">\n              {place.priceRange}\n            </Badge>\n          )}\n        </div>\n\n        <div className=\"flex items-center gap-1 text-sm text-muted-foreground\">\n          <MapPin className=\"w-4 h-4\" />\n          <span className=\"line-clamp-1\">{place.address}</span>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"space-y-3\">\n        {place.description && (\n          <p className=\"text-sm text-muted-foreground line-clamp-2\">\n            {place.description}\n          </p>\n        )}\n\n        {todaysHours && (\n          <div className=\"flex items-center gap-1 text-sm\">\n            <Clock className=\"w-4 h-4\" />\n            <span>Today: {todaysHours}</span>\n          </div>\n        )}\n\n        <div className=\"flex gap-2\">\n          <Button \n            variant=\"default\" \n            size=\"sm\" \n            className=\"flex-1\"\n            onClick={() => onViewDetails?.(place)}\n          >\n            View Details\n          </Button>\n          \n          {place.website && (\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => window.open(place.website, '_blank')}\n            >\n              <ExternalLink className=\"w-4 h-4\" />\n            </Button>\n          )}\n\n          {place.phone && (\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => window.open(`tel:${place.phone}`, '_self')}\n            >\n              <Phone className=\"w-4 h-4\" />\n            </Button>\n          )}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}","size_bytes":4397},"client/src/components/reviews/add-review-form.tsx":{"content":"import { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from '@/components/ui/form';\nimport { Star, Camera, Upload } from 'lucide-react';\nimport { useToast } from '@/hooks/use-toast';\nimport { apiRequest } from '@/lib/queryClient';\nimport { insertReviewSchema, type InsertReview } from '@shared/schema';\nimport { z } from 'zod';\n\nconst addReviewSchema = insertReviewSchema.extend({\n  title: z.string().optional(),\n  content: z.string().min(10, 'Review must be at least 10 characters long'),\n  rating: z.number().min(1).max(5),\n});\n\ntype AddReviewForm = z.infer<typeof addReviewSchema>;\n\ninterface AddReviewFormProps {\n  userId: number;\n  hotelId?: number;\n  placeId?: number;\n  onSuccess?: () => void;\n}\n\nexport function AddReviewForm({ userId, hotelId, placeId, onSuccess }: AddReviewFormProps) {\n  const [rating, setRating] = useState(0);\n  const [hoverRating, setHoverRating] = useState(0);\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  const form = useForm<AddReviewForm>({\n    resolver: zodResolver(addReviewSchema),\n    defaultValues: {\n      userId,\n      hotelId: hotelId || undefined,\n      placeId: placeId || undefined,\n      rating: 0,\n      title: '',\n      content: '',\n      imageUrls: [],\n      virtual360Url: '',\n      isVerified: false,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    },\n  });\n\n  const createReviewMutation = useMutation({\n    mutationFn: (data: InsertReview) => apiRequest('/api/reviews', {\n      method: 'POST',\n      body: JSON.stringify(data),\n    }),\n    onSuccess: () => {\n      toast({\n        title: 'Review submitted',\n        description: 'Thank you for your review!',\n      });\n      queryClient.invalidateQueries({ queryKey: ['/api/reviews'] });\n      form.reset();\n      setRating(0);\n      onSuccess?.();\n    },\n    onError: () => {\n      toast({\n        title: 'Error',\n        description: 'Failed to submit review. Please try again.',\n        variant: 'destructive',\n      });\n    },\n  });\n\n  const onSubmit = (data: AddReviewForm) => {\n    createReviewMutation.mutate({\n      ...data,\n      rating,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    });\n  };\n\n  const renderStars = () => {\n    return Array.from({ length: 5 }, (_, i) => {\n      const starValue = i + 1;\n      return (\n        <Star\n          key={i}\n          className={`w-6 h-6 cursor-pointer transition-colors ${\n            starValue <= (hoverRating || rating)\n              ? 'fill-yellow-400 text-yellow-400'\n              : 'text-gray-300 hover:text-yellow-200'\n          }`}\n          onClick={() => {\n            setRating(starValue);\n            form.setValue('rating', starValue);\n          }}\n          onMouseEnter={() => setHoverRating(starValue)}\n          onMouseLeave={() => setHoverRating(0)}\n        />\n      );\n    });\n  };\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className=\"text-lg\">Write a Review</CardTitle>\n      </CardHeader>\n      <CardContent>\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n            <div>\n              <FormLabel>Rating *</FormLabel>\n              <div className=\"flex items-center gap-1 mt-1\">\n                {renderStars()}\n                {rating > 0 && (\n                  <span className=\"ml-2 text-sm text-muted-foreground\">\n                    {rating} star{rating !== 1 ? 's' : ''}\n                  </span>\n                )}\n              </div>\n              {form.formState.errors.rating && (\n                <p className=\"text-sm text-destructive mt-1\">\n                  Please select a rating\n                </p>\n              )}\n            </div>\n\n            <FormField\n              control={form.control}\n              name=\"title\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Review Title (Optional)</FormLabel>\n                  <FormControl>\n                    <Input\n                      placeholder=\"Summarize your experience...\"\n                      {...field}\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <FormField\n              control={form.control}\n              name=\"content\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Your Review *</FormLabel>\n                  <FormControl>\n                    <Textarea\n                      placeholder=\"Share your experience, what you liked, and any tips for other travelers...\"\n                      className=\"min-h-[100px]\"\n                      {...field}\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <FormField\n              control={form.control}\n              name=\"virtual360Url\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>360Â° Photo/Video URL (Optional)</FormLabel>\n                  <FormControl>\n                    <div className=\"flex items-center gap-2\">\n                      <Camera className=\"w-4 h-4 text-muted-foreground\" />\n                      <Input\n                        placeholder=\"https://example.com/360-tour\"\n                        {...field}\n                      />\n                    </div>\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <div className=\"flex gap-2 pt-2\">\n              <Button\n                type=\"submit\"\n                disabled={createReviewMutation.isPending || rating === 0}\n                className=\"flex-1\"\n              >\n                {createReviewMutation.isPending ? 'Submitting...' : 'Submit Review'}\n              </Button>\n            </div>\n          </form>\n        </Form>\n      </CardContent>\n    </Card>\n  );\n}","size_bytes":6395},"client/src/components/reviews/review-card.tsx":{"content":"import { Card, CardContent, CardHeader } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\nimport { Star, Camera, CheckCircle } from 'lucide-react';\nimport { formatDistanceToNow } from 'date-fns';\nimport type { Review, User } from '@shared/schema';\n\ninterface ReviewCardProps {\n  review: Review;\n  user?: User;\n  onView360?: (review: Review) => void;\n}\n\nexport function ReviewCard({ review, user, onView360 }: ReviewCardProps) {\n  const renderStars = (rating: number) => {\n    return Array.from({ length: 5 }, (_, i) => (\n      <Star\n        key={i}\n        className={`w-4 h-4 ${\n          i < rating \n            ? 'fill-yellow-400 text-yellow-400' \n            : 'text-gray-300'\n        }`}\n      />\n    ));\n  };\n\n  return (\n    <Card className=\"mb-4\">\n      <CardHeader className=\"pb-3\">\n        <div className=\"flex items-start justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <Avatar className=\"h-10 w-10\">\n              <AvatarImage src={user?.photoURL || undefined} />\n              <AvatarFallback>\n                {user?.displayName?.charAt(0) || user?.username?.charAt(0) || 'U'}\n              </AvatarFallback>\n            </Avatar>\n            \n            <div className=\"flex-1\">\n              <div className=\"flex items-center gap-2\">\n                <h4 className=\"font-semibold text-sm\">\n                  {user?.displayName || user?.username || 'Anonymous'}\n                </h4>\n                {review.isVerified && (\n                  <Badge variant=\"secondary\" className=\"text-xs\">\n                    <CheckCircle className=\"w-3 h-3 mr-1\" />\n                    Verified\n                  </Badge>\n                )}\n              </div>\n              \n              <div className=\"flex items-center gap-2 mt-1\">\n                <div className=\"flex\">\n                  {renderStars(review.rating)}\n                </div>\n                <span className=\"text-xs text-muted-foreground\">\n                  {formatDistanceToNow(new Date(review.createdAt), { addSuffix: true })}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          {review.virtual360Url && (\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => onView360?.(review)}\n            >\n              <Camera className=\"w-4 h-4 mr-1\" />\n              360Â°\n            </Button>\n          )}\n        </div>\n\n        {review.title && (\n          <h5 className=\"font-medium text-sm mt-2\">{review.title}</h5>\n        )}\n      </CardHeader>\n\n      <CardContent className=\"pt-0\">\n        <p className=\"text-sm text-muted-foreground mb-3\">\n          {review.content}\n        </p>\n\n        {review.imageUrls && Array.isArray(review.imageUrls) && review.imageUrls.length > 0 && (\n          <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-2\">\n            {review.imageUrls.slice(0, 6).map((imageUrl, index) => (\n              <div key={index} className=\"aspect-square rounded-lg overflow-hidden\">\n                <img\n                  src={imageUrl}\n                  alt={`Review image ${index + 1}`}\n                  className=\"w-full h-full object-cover hover:scale-105 transition-transform cursor-pointer\"\n                  onClick={() => window.open(imageUrl, '_blank')}\n                />\n              </div>\n            ))}\n            {review.imageUrls.length > 6 && (\n              <div className=\"aspect-square rounded-lg bg-gray-100 flex items-center justify-center\">\n                <span className=\"text-sm text-muted-foreground\">\n                  +{review.imageUrls.length - 6} more\n                </span>\n              </div>\n            )}\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}","size_bytes":3882},"client/src/components/trips/add-trip-form.tsx":{"content":"import { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Calendar } from \"@/components/ui/calendar\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { format } from \"date-fns\";\nimport { CalendarIcon } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { insertTripSchema } from \"@shared/schema\";\nimport { useAuthContext } from \"@/context/auth-context\";\nimport { createDocument } from \"@/lib/firebase\";\n\n// Define interfaces for API data\ninterface Destination {\n  id: number;\n  name: string;\n  country: string;\n  description?: string;\n  imageUrl?: string;\n}\n\ninterface DbUser {\n  id: number;\n  uid: string;\n  username: string;\n  email: string;\n}\n\nconst formSchema = insertTripSchema\n  .extend({\n    startDate: z.date(),\n    endDate: z.date(),\n  })\n  .refine((data) => data.endDate >= data.startDate, {\n    message: \"End date must be after start date\",\n    path: [\"endDate\"],\n  });\n\ntype FormValues = z.infer<typeof formSchema>;\n\ninterface AddTripFormProps {\n  onSuccess?: () => void;\n}\n\nexport function AddTripForm({ onSuccess }: AddTripFormProps) {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const { user } = useAuthContext();\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  const { data: destinations = [] } = useQuery<Destination[]>({\n    queryKey: [\"/api/destinations\"],\n  });\n\n  const { data: dbUser } = useQuery<DbUser>({\n    queryKey: [`/api/users/uid/${user?.uid}`],\n    enabled: !!user?.uid,\n  });\n\n  const form = useForm<FormValues>({\n    resolver: zodResolver(formSchema),\n    defaultValues: {\n      userId: 0,\n      destinationId: 0,\n      title: \"\",\n      description: \"\",\n      startDate: new Date(),\n      endDate: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000), // 7 days from now\n      imageUrl: \"\",\n      activities: 0,\n      isFavorite: false,\n    },\n  });\n\n  const onSubmit = async (data: FormValues) => {\n    if (!dbUser || !user) {\n      toast({\n        title: \"Error\",\n        description: \"You must be logged in to create a trip\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    const selectedDestination = destinations.find(\n      (dest) => dest.id === parseInt(data.destinationId.toString())\n    );\n\n    try {\n      // Debug the form data\n      console.log(\"Form data before submission:\", data);\n      \n      // Prepare payload according to the expected schema\n      const payload = {\n        userId: dbUser.id,\n        destinationId: parseInt(data.destinationId.toString()),\n        title: data.title,\n        startDate: data.startDate.toISOString(),\n        endDate: data.endDate.toISOString(),\n        description: data.description || \"\",\n        imageUrl: data.imageUrl || selectedDestination?.imageUrl || \"\",\n        activities: data.activities || 0,\n        isFavorite: data.isFavorite || false,\n      };\n      \n      console.log(\"Payload to be sent:\", payload);\n\n      // Save to server backend storage\n      const response = await apiRequest(\"POST\", \"/api/trips\", payload);\n      \n      // Save the same data to Firebase Firestore with additional metadata\n      const firestoreData = {\n        ...payload,\n        // Add Firebase specific fields\n        uid: user.uid,\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n        destination: {\n          name: selectedDestination?.name || \"Unknown\",\n          country: selectedDestination?.country || \"Unknown\",\n          imageUrl: selectedDestination?.imageUrl || \"\",\n        }\n      };\n      \n      // Use the trip ID from the server response as the document ID in Firestore\n      if (response && typeof response === 'object' && 'id' in response) {\n        await createDocument('trips', String(response.id), firestoreData);\n\n        toast({\n          title: \"Trip created!\",\n          description: \"Your trip has been successfully created in both local storage and Firebase.\",\n        });\n\n        queryClient.invalidateQueries({\n          queryKey: [`/api/users/${dbUser.id}/trips`],\n        });\n\n        if (onSuccess) {\n          onSuccess();\n        }\n\n        form.reset();\n      } else {\n        throw new Error(\"Invalid response format from server\");\n      }\n    } catch (error: any) {\n      console.error(\"Error creating trip:\", error);\n      // Log more details about the error\n      let errorMessage = \"Failed to create trip. Please try again.\";\n      \n      if (error.message) {\n        errorMessage = error.message;\n      }\n      \n      toast({\n        title: \"Error\",\n        description: errorMessage,\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <Form {...form}>\n      <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n        <FormField\n          control={form.control}\n          name=\"title\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Trip Title</FormLabel>\n              <FormControl>\n                <Input placeholder=\"Summer Vacation\" {...field} />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n\n        <FormField\n          control={form.control}\n          name=\"destinationId\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Destination</FormLabel>\n              <Select\n                onValueChange={(value) => field.onChange(parseInt(value))}\n                defaultValue={\n                  field.value > 0 ? field.value.toString() : undefined\n                }\n              >\n                <FormControl>\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"Select a destination\" />\n                  </SelectTrigger>\n                </FormControl>\n                <SelectContent>\n                  {destinations.map((destination) => (\n                    <SelectItem\n                      key={destination.id}\n                      value={destination.id.toString()}\n                    >\n                      {destination.name}, {destination.country}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <FormField\n            control={form.control}\n            name=\"startDate\"\n            render={({ field }) => (\n              <FormItem className=\"flex flex-col\">\n                <FormLabel>Start Date</FormLabel>\n                <Popover>\n                  <PopoverTrigger asChild>\n                    <FormControl>\n                      <Button\n                        variant={\"outline\"}\n                        className={cn(\n                          \"pl-3 text-left font-normal\",\n                          !field.value && \"text-muted-foreground\"\n                        )}\n                      >\n                        {field.value ? (\n                          format(field.value, \"PPP\")\n                        ) : (\n                          <span>Pick a date</span>\n                        )}\n                        <CalendarIcon className=\"ml-auto h-4 w-4 opacity-50\" />\n                      </Button>\n                    </FormControl>\n                  </PopoverTrigger>\n                  <PopoverContent className=\"w-auto p-0\" align=\"start\">\n                    <Calendar\n                      mode=\"single\"\n                      selected={field.value}\n                      onSelect={field.onChange}\n                      initialFocus\n                    />\n                  </PopoverContent>\n                </Popover>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n\n          <FormField\n            control={form.control}\n            name=\"endDate\"\n            render={({ field }) => (\n              <FormItem className=\"flex flex-col\">\n                <FormLabel>End Date</FormLabel>\n                <Popover>\n                  <PopoverTrigger asChild>\n                    <FormControl>\n                      <Button\n                        variant={\"outline\"}\n                        className={cn(\n                          \"pl-3 text-left font-normal\",\n                          !field.value && \"text-muted-foreground\"\n                        )}\n                      >\n                        {field.value ? (\n                          format(field.value, \"PPP\")\n                        ) : (\n                          <span>Pick a date</span>\n                        )}\n                        <CalendarIcon className=\"ml-auto h-4 w-4 opacity-50\" />\n                      </Button>\n                    </FormControl>\n                  </PopoverTrigger>\n                  <PopoverContent className=\"w-auto p-0\" align=\"start\">\n                    <Calendar\n                      mode=\"single\"\n                      selected={field.value}\n                      onSelect={field.onChange}\n                      fromDate={form.getValues().startDate}\n                      initialFocus\n                    />\n                  </PopoverContent>\n                </Popover>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n        </div>\n\n        <FormField\n          control={form.control}\n          name=\"description\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Description</FormLabel>\n              <FormControl>\n                <Textarea\n                  placeholder=\"Describe your trip plans...\"\n                  className=\"min-h-[100px]\"\n                  {...field}\n                />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n\n        <FormField\n          control={form.control}\n          name=\"imageUrl\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Image URL (optional)</FormLabel>\n              <FormControl>\n                <Input placeholder=\"https://example.com/image.jpg\" {...field} />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n\n        <Button type=\"submit\" className=\"w-full\" disabled={isSubmitting}>\n          {isSubmitting ? \"Creating Trip...\" : \"Create Trip\"}\n        </Button>\n      </form>\n    </Form>\n  );\n}\n\nexport default AddTripForm;","size_bytes":11085},"client/src/components/trips/itinerary-form.tsx":{"content":"import { useState } from \"react\";\nimport { useForm, useFieldArray } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { useQueryClient } from \"@tanstack/react-query\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Plus, Trash2, GripVertical } from \"lucide-react\";\n\nconst activitySchema = z.object({\n  time: z.string(),\n  title: z.string().min(1, \"Activity title is required\"),\n  description: z.string().optional(),\n  location: z.string().optional(),\n});\n\nconst formSchema = z.object({\n  activities: z.array(activitySchema).min(1, \"Add at least one activity\"),\n  notes: z.string().optional(),\n});\n\ntype FormValues = z.infer<typeof formSchema>;\n\ninterface ItineraryFormProps {\n  tripId: number;\n  day: number;\n  date: Date;\n  existingItinerary?: any;\n  onSuccess: () => void;\n}\n\nexport default function ItineraryForm({ \n  tripId, \n  day, \n  date, \n  existingItinerary, \n  onSuccess \n}: ItineraryFormProps) {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const queryClient = useQueryClient();\n  const { toast } = useToast();\n\n  const defaultActivities = existingItinerary?.activities || [{ time: \"09:00\", title: \"\", description: \"\", location: \"\" }];\n  const defaultNotes = existingItinerary?.notes || \"\";\n\n  const form = useForm<FormValues>({\n    resolver: zodResolver(formSchema),\n    defaultValues: {\n      activities: defaultActivities,\n      notes: defaultNotes,\n    },\n  });\n\n  const { fields, append, remove } = useFieldArray({\n    control: form.control,\n    name: \"activities\",\n  });\n\n  const onSubmit = async (data: FormValues) => {\n    setIsSubmitting(true);\n    \n    try {\n      if (existingItinerary) {\n        // Update existing itinerary\n        await apiRequest(\"PATCH\", `/api/itineraries/${existingItinerary.id}`, {\n          activities: data.activities,\n          notes: data.notes,\n        });\n        \n        toast({\n          title: \"Itinerary updated\",\n          description: `Your Day ${day} itinerary has been updated.`,\n        });\n      } else {\n        // Create new itinerary\n        await apiRequest(\"POST\", `/api/itineraries`, {\n          tripId,\n          day,\n          date: date.toISOString(),\n          activities: data.activities,\n          notes: data.notes,\n        });\n        \n        toast({\n          title: \"Itinerary created\",\n          description: `Your Day ${day} itinerary has been created.`,\n        });\n      }\n      \n      queryClient.invalidateQueries({ queryKey: [`/api/trips/${tripId}/itineraries`] });\n      onSuccess();\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to save itinerary. Please try again.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const addActivity = () => {\n    append({ time: \"\", title: \"\", description: \"\", location: \"\" });\n  };\n\n  return (\n    <Form {...form}>\n      <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n        <div className=\"space-y-4\">\n          {fields.map((field, index) => (\n            <div key={field.id} className=\"p-4 border rounded-md relative\">\n              <div className=\"absolute left-2 top-2 text-gray-500 cursor-move\">\n                <GripVertical size={16} />\n              </div>\n              \n              <Button\n                type=\"button\"\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"absolute right-2 top-2 h-8 w-8 p-0 text-gray-500\"\n                onClick={() => remove(index)}\n                disabled={fields.length === 1}\n              >\n                <Trash2 size={16} />\n              </Button>\n              \n              <div className=\"ml-6 space-y-4\">\n                <div className=\"grid grid-cols-3 gap-4\">\n                  <FormField\n                    control={form.control}\n                    name={`activities.${index}.time`}\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>Time</FormLabel>\n                        <FormControl>\n                          <Input placeholder=\"09:00\" {...field} />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n                  \n                  <FormField\n                    control={form.control}\n                    name={`activities.${index}.title`}\n                    render={({ field }) => (\n                      <FormItem className=\"col-span-2\">\n                        <FormLabel>Activity</FormLabel>\n                        <FormControl>\n                          <Input placeholder=\"Breakfast at hotel\" {...field} />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n                </div>\n                \n                <FormField\n                  control={form.control}\n                  name={`activities.${index}.description`}\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Description (optional)</FormLabel>\n                      <FormControl>\n                        <Textarea\n                          placeholder=\"Additional details about this activity\"\n                          className=\"resize-none\"\n                          {...field}\n                          value={field.value || \"\"}\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                \n                <FormField\n                  control={form.control}\n                  name={`activities.${index}.location`}\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Location (optional)</FormLabel>\n                      <FormControl>\n                        <Input \n                          placeholder=\"Address or place name\" \n                          {...field}\n                          value={field.value || \"\"} \n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              </div>\n            </div>\n          ))}\n          \n          <Button\n            type=\"button\"\n            variant=\"outline\"\n            className=\"w-full\"\n            onClick={addActivity}\n          >\n            <Plus className=\"mr-2 h-4 w-4\" />\n            Add Activity\n          </Button>\n        </div>\n        \n        <FormField\n          control={form.control}\n          name=\"notes\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Notes (optional)</FormLabel>\n              <FormControl>\n                <Textarea\n                  placeholder=\"Additional notes for this day\"\n                  className=\"resize-none\"\n                  {...field}\n                  value={field.value || \"\"}\n                />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n        \n        <div className=\"flex justify-end gap-2\">\n          <Button type=\"button\" variant=\"outline\" onClick={onSuccess}>\n            Cancel\n          </Button>\n          <Button type=\"submit\" disabled={isSubmitting}>\n            {isSubmitting ? \"Saving...\" : existingItinerary ? \"Update Itinerary\" : \"Create Itinerary\"}\n          </Button>\n        </div>\n      </form>\n    </Form>\n  );\n}\n","size_bytes":7909},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1977},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4420},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1584},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1419},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1128},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":1901},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2695},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","size_bytes":1858},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1056},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4885},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7428},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3848},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7609},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4120},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1251},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2154},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":791},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8605},"client/src/components/ui/mobile-nav.tsx":{"content":"import { Link, useLocation } from \"wouter\";\nimport { Home, MapPin, Route, Bell, User } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\n\nexport function MobileNav() {\n  const [location] = useLocation();\n\n  const isActive = (path: string) => location === path;\n\n  return (\n    <div className=\"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-10 px-6 py-2\">\n      <div className=\"flex justify-between items-center\">\n        <NavItem\n          href=\"/\"\n          icon={<Home className=\"size-5\" />}\n          label=\"Home\"\n          active={isActive(\"/\")}\n        />\n        <NavItem\n          href=\"/destinations\"\n          icon={<MapPin className=\"size-5\" />}\n          label=\"Explore\"\n          active={isActive(\"/destinations\")}\n        />\n        <NavItem\n          href=\"/trips\"\n          icon={<Route className=\"size-5\" />}\n          label=\"Trips\"\n          active={isActive(\"/trips\")}\n        />\n        <NavItem\n          href=\"/notifications\"\n          icon={<Bell className=\"size-5\" />}\n          label=\"Alerts\"\n          active={isActive(\"/notifications\")}\n        />\n        <NavItem\n          href=\"/profile\"\n          icon={<User className=\"size-5\" />}\n          label=\"Profile\"\n          active={isActive(\"/profile\")}\n        />\n      </div>\n    </div>\n  );\n}\n\ntype NavItemProps = {\n  href: string;\n  icon: React.ReactNode;\n  label: string;\n  active: boolean;\n};\n\nfunction NavItem({ href, icon, label, active }: NavItemProps) {\n  return (\n    <Link href={href}>\n      <a className=\"flex flex-col items-center\">\n        <div className={cn(\n          \"flex items-center justify-center\",\n          active ? \"text-primary\" : \"text-gray-500\"\n        )}>\n          {icon}\n        </div>\n        <span className={cn(\n          \"text-xs mt-1\",\n          active ? \"text-primary\" : \"text-gray-500\"\n        )}>\n          {label}\n        </span>\n      </a>\n    </Link>\n  );\n}\n\nexport default MobileNav;\n","size_bytes":1935},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5128},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","size_bytes":2751},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1280},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":791},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1467},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5742},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4281},"client/src/components/ui/sidebar.tsx":{"content":"import { Link, useLocation } from \"wouter\";\nimport { signOut } from \"firebase/auth\";\nimport { auth } from \"@/lib/firebase\";\nimport { cn } from \"@/lib/utils\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Home, MapPin, Route, Images, Bell, LogOut, Database } from \"lucide-react\";\nimport { useAuthContext } from \"@/context/auth-context\";\n\nexport function Sidebar() {\n  const [location] = useLocation();\n  const { user } = useAuthContext();\n  const { toast } = useToast();\n\n  const handleSignOut = async () => {\n    try {\n      await signOut(auth);\n      toast({\n        title: \"Signed out successfully\",\n        variant: \"default\",\n      });\n    } catch (error) {\n      toast({\n        title: \"Failed to sign out\",\n        description: \"Please try again\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const isActive = (path: string) => location === path;\n\n  return (\n    <aside className=\"hidden lg:flex flex-col w-64 bg-white border-r border-gray-200 h-screen\">\n      <div className=\"p-5 border-b border-gray-200\">\n        <h1 className=\"text-2xl font-bold font-heading text-primary\">Wanderlust</h1>\n      </div>\n      \n      <nav className=\"flex-1 p-4 space-y-1\">\n        <NavItem \n          href=\"/\" \n          icon={<Home className=\"size-5\" />} \n          label=\"Dashboard\" \n          active={isActive(\"/\")} \n        />\n        <NavItem \n          href=\"/destinations\" \n          icon={<MapPin className=\"size-5\" />} \n          label=\"Destinations\" \n          active={isActive(\"/destinations\")} \n        />\n        <NavItem \n          href=\"/trips\" \n          icon={<Route className=\"size-5\" />} \n          label=\"Itineraries\" \n          active={isActive(\"/trips\")} \n        />\n        <NavItem \n          href=\"/gallery\" \n          icon={<Images className=\"size-5\" />} \n          label=\"Travel Gallery\" \n          active={isActive(\"/gallery\")} \n        />\n        <NavItem \n          href=\"/notifications\" \n          icon={<Bell className=\"size-5\" />} \n          label=\"Notifications\" \n          active={isActive(\"/notifications\")} \n        />\n        <NavItem \n          href=\"/firebase-test\" \n          icon={<Database className=\"size-5\" />} \n          label=\"Firebase Test\" \n          active={isActive(\"/firebase-test\")} \n        />\n      </nav>\n      \n      <div className=\"p-4 border-t border-gray-200\">\n        <div className=\"flex items-center\">\n          <Avatar>\n            <AvatarImage src={user?.photoURL || \"\"} />\n            <AvatarFallback>{user?.displayName?.charAt(0) || user?.email?.charAt(0) || \"U\"}</AvatarFallback>\n          </Avatar>\n          <div className=\"ml-3\">\n            <p className=\"font-medium\">{user?.displayName || \"User\"}</p>\n            <p className=\"text-sm text-gray-500\">{user?.email}</p>\n          </div>\n        </div>\n        <button \n          onClick={handleSignOut}\n          className=\"mt-4 flex items-center text-gray-600 hover:text-gray-800\"\n        >\n          <LogOut className=\"size-4 mr-2\" />\n          <span>Sign out</span>\n        </button>\n      </div>\n    </aside>\n  );\n}\n\ntype NavItemProps = {\n  href: string;\n  icon: React.ReactNode;\n  label: string;\n  active: boolean;\n};\n\nfunction NavItem({ href, icon, label, active }: NavItemProps) {\n  return (\n    <Link href={href}>\n      <a className={cn(\n        \"flex items-center px-4 py-3 rounded-lg transition-colors\",\n        active\n          ? \"text-gray-800 bg-indigo-50\"\n          : \"text-gray-600 hover:bg-gray-100\"\n      )}>\n        <div className={cn(\n          \"w-5\",\n          active ? \"text-primary\" : \"text-gray-500\"\n        )}>\n          {icon}\n        </div>\n        <span className={cn(\n          \"ml-3\",\n          active && \"font-medium\"\n        )}>\n          {label}\n        </span>\n      </a>\n    </Link>\n  );\n}\n\nexport default Sidebar;\n","size_bytes":3859},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":261},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1077},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1139},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2765},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1883},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":689},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1527},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1209}},"version":1}